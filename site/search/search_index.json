{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Bienvenido a Estad\u00edstica desde Cero","text":"<p>En este sitio web conocer\u00e1s los fundamentos y conceptos b\u00e1sicos de estad\u00edstica,  as\u00ed como una introducci\u00f3n a diversos programas de software estad\u00edstico con el fin de iniciarse en el mundo de la estad\u00edstica y ciencia de datos.</p> <p> Imagen de Sara Torda en Pixabay</p> <p>Si est\u00e1s interesado en aplicar los conocimientos de estad\u00edstica, visita nuestro blog de estad\u00edstica aplicada.</p>"},{"location":"#software-estadistico","title":"Software estad\u00edstico","text":"<p>Presentamos una gu\u00eda b\u00e1sica para aprender los comandos b\u00e1sicos de distintos lenguajes de programaci\u00f3n m\u00e1s usados en estad\u00edstica y ciencias de datos.</p> <p> Imagen de 200 Degrees en Pixabay</p>"},{"location":"#sas-software","title":"SAS \u00ae Software","text":"<p>En este blog conoceras todo lo relacionado a:</p> <ul> <li>SAS \u00ae software - Contiene todo lo esencial para leer, manipular datos as\u00ed como otras funciones b\u00e1sicas de SAS.</li> <li>SAS/STAT \u00ae software - Tiene muchos m\u00e9todos estad\u00edsticos y otros an\u00e1lisis de datos.</li> <li>SAS/IML \u00ae software - Es un lenguaje espec\u00edfico para trabajar con vectores, matrices, funciones matem\u00e1ticas y estad\u00edsticas avanzadas.</li> <li>OTROS - Conexi\u00f3n de SAS \u00ae software con otros lenguajes de programaci\u00f3n y sus configuraciones.</li> </ul> <p>Para ir al blog de SAS haz click aqu\u00ed.</p> <p></p> <p>Imagen de Karolina Grabowska en Pixabay</p>"},{"location":"#r","title":"R","text":"<p>Visita mi blog sobre R.</p> <p>En este blog encontrar\u00e1s todo lo relacionada al lenguaje R.</p> <ul> <li>Variables</li> <li>Funciones</li> <li>Matrices</li> <li>Gr\u00e1ficas</li> <li>Data sets</li> </ul> <p>Entre otras cosas m\u00e1s.</p> <p> Imagen de Free-Photos en Pixabay.</p>"},{"location":"#python","title":"Python","text":"<p>Haz Click aqu\u00ed para ir a mi blog de Python.</p> <p>Aqu\u00ed encontrar\u00e1s todo lo relacionado con librer\u00edas que se usan en ciencia de datos.</p>"},{"location":"#julia","title":"Julia","text":"<p>Julia es un nuevo lenguaje de programaci\u00f3n enfocado en la velocidad y est\u00e1 optimizado para trabajar con todos los recursos de la computadora.</p> <p>Click aqu\u00ed para ir a mi blog de Julia.</p>"},{"location":"#conceptos-basicos-de-estadistica","title":"Conceptos b\u00e1sicos de Estad\u00edstica","text":"<p>En esta secci\u00f3n encontrar\u00e1s una breve introducci\u00f3n a la teor\u00eda estad\u00edstica, abarcando desde los conceptos y definiciones b\u00e1sicos hasta modelos m\u00e1s complejos.</p> <p>Haz click aqu\u00ed para ir al blog de Probabilidad.</p> <p>Haz click aqu\u00ed para ir al blog de Estad\u00edstica.</p> <p> Imagen de janjf93 en Pixabay</p>"},{"location":"#otros-recursos","title":"Otros recursos","text":"<p>En ocasiones se requieren herramientas adicionales para realizar el trabajo.</p> <p>PROXIMAMENTE \u2026 </p> <ul> <li> <p>Jupyter Notebooks</p> </li> <li> <p>Markdown</p> </li> <li> <p>LaTeX</p> </li> <li> <p>Visual Studio Code</p> </li> <li> <p>Git</p> </li> </ul>"},{"location":"#sobre-el-sitio","title":"Sobre el sitio","text":"<p>Este sitio es una gu\u00eda para iniciarse en el mundo de la programaci\u00f3n en diversos lenguajes estad\u00edsticos y bajo ning\u00fan motivo el autor es responsable de los da\u00f1os ocasionados por resultados inesperados.</p> <p>Los softwares usados son</p> <ul> <li>SAS \u00ae Software</li> <li>R</li> <li>Python</li> <li>Julia</li> </ul> <p>Los programas son mostrados con fines educativos.</p> <p>S\u00edguenos en nuestras redes sociales</p> <p> Github</p> <p> LinkedIn</p> <p>No te pierdas las \u00faltimas noticias en nuestro canal de Telegram</p> <p>SAS and all other SAS Institute Inc. product or service names are registered trademarks or trademarks of SAS Institute Inc. in the USA and other countries. \u00ae indicates USA registration.</p>"},{"location":"estadistica/bayesiano/","title":"Introducci\u00f3n a la Estad\u00edstica Bayesiana","text":""},{"location":"estadistica/bayesiano/#introduccion","title":"Introducci\u00f3n","text":"<p>La estad\u00edstica bayesiana es un paradigma completo de inferencia basado en la teor\u00eda de la decisi\u00f3n y por lo tanto se basa en los conceptos de probabilidad.</p> <p>A diferencia del enfoque frecuentista, la estad\u00edstica bayesiana se basa en el enfoque de probabilidad subjetiva. Dicha probabilidad subjetiva es una medida o grado de creencia de qu\u00e9 tan veros\u00edmil sea un evento.</p> <p>Por ejemplo, si le pregunt\u00e1ramos a cada persona sobre la probabilidad de que llueva \\(\\theta\\), cada una nos responder\u00e1 seg\u00fan su creencia o nivel de conocimiento sobre \\(\\theta\\). Todo ese conocimiento podr\u00eda resumirse en una funci\u00f3n de distribuci\u00f3n que llamaremos distribuci\u00f3n a priori, denotada \\(f_\\Theta(\\theta)\\) o \\(p(\\theta)\\).</p> <p>Esta informaci\u00f3n a priori se combina con la informaci\u00f3n de los datos o verosimilitud, denotada como \\(f_{X| \\Theta}(x|\\theta)\\) o \\(L(\\theta|x)\\) con el fin de obtener la distribuci\u00f3n a posteriori, denotada como \\(f_{\\Theta|X}(\\theta|x)\\) o \\(p(\\theta|x)\\) usando la regla de Bayes.</p> <p>\\(     p(\\theta|x)=\\frac{p(\\theta,x)}{p(x)}=\\frac{L(\\theta|x)p(\\theta)}{p(x)} \\)</p> <p>Verosimilitud bajo muestreo aleatorio</p> <p>Sea \\(X_1,X_2,\\dots, X_n \\sim f(X_i|\\theta)\\) una muestra aleatoria.</p> <p>Entonces la funci\u00f3n de verosimilitud \\(L(\\theta|\\mathbf{x})\\) se puede representar como:</p> \\[L(\\theta|\\mathbf{x}) = \\prod_{i=1}^{n}f(X_i|\\theta)\\] <p>Note que en este caso, es una funci\u00f3n que depende del par\u00e1metro ya que los datos ya fueron observados.</p> <p>Distribuci\u00f3n a posteriori</p> <p>La distribuci\u00f3n a posteriori puede escribirse como:</p> \\[p(\\theta|\\mathbf{x})\\propto L(\\theta|\\mathbf{x})p(\\theta) = p(\\theta|\\mathbf{x})p(\\theta)\\] <p>Note que \\(p(x)\\) es una densidad que no depende de \\(\\theta\\) (es considerada una \u201cconstante\u201d), por lo cual en estad\u00edstica bayesiana se utiliza el s\u00edmbolo \\(\\propto\\) para denotar que la distribuci\u00f3n a posteriori es proporcional a \\(L(\\theta|\\mathbf{x})p(\\theta)\\).</p> <p>El siguiente ejemplo ilustra una forma de obtener la distribuci\u00f3n a posteriori.</p> Lanzamiento de una moneda 1 <p>Suponga que se tiene una moneda y se realizan 10 lanzamientos. Sea \\(\\theta\\) la probabilidad de que caiga \u00e1guila, mientras que \\(1-\\theta\\) es la probabilidad de que caiga sol. No se tiene informaci\u00f3n acerca del comportamiento de la moneda, pero se sospecha es una moneda honesta. Sup\u00f3ngase que se han observado 7 \u00e1guilas.</p> <p>Debido a que no se tiene informaci\u00f3n sobre \\(\\theta\\), se pude asumir una funci\u00f3n de distribuci\u00f3n uniforme en el intervalo [0,1], esto es: \\(p(\\theta)=I_{(0,1)}(\\theta)\\).</p> <p>Note que los datos pueden ser modelados mediante la verosimilitud, es decir \\(p(\\mathbf{x}|\\theta)=L(\\theta|\\mathbf{x})=\\prod_{i=1}^{n}\\theta^{x_i}\\left(1-\\theta\\right)^{1-x_i}=\\theta^{\\sum_{i=1}^{n}x_i}\\left(1-\\theta\\right)^{n-\\sum_{i=1}^{n}x_i}\\).</p> <p>Sustituyendo</p> <p>\\(p(\\theta|x)\\propto \\theta^{7}\\left(1-\\theta\\right)^{3}I_{(0,1)}(\\theta)\\)</p> <p>Note que como tal, no es una funci\u00f3n de densidad, debido a que la integral no es 1, sin embargo, es proporcional a una funci\u00f3n de densidad beta con par\u00e1metros 8 y 4.</p> <p>Por lo tanto, la distribuci\u00f3n a posteriori es \\(p(\\theta|x)=\\frac{\\theta^{8-1} \\left(1-\\theta\\right)^{4-1}}{B(8,4)}I_{(0,1)}(\\theta)\\).</p> <p>Densidad conjugada</p> <p>Se dice que \\(p(\\theta)\\) es conjugada con \\(L(\\theta|x)\\) si \\(p(\\theta|x)\\) es de la misma familia que \\(p(\\theta)\\).</p> <p>En el ejemplo anterior se pudo observar que la distribuci\u00f3n Beta(1,1) es conjugada con la verosimilitud Bernoulli.</p>"},{"location":"estadistica/bayesiano/#teoria-bayesiana","title":"Teor\u00eda Bayesiana","text":""},{"location":"estadistica/bayesiano/#intervalos","title":"Intervalos","text":""},{"location":"estadistica/bayesiano/#factor-de-bayes","title":"Factor de Bayes","text":""},{"location":"estadistica/bayesiano/#modelo-normal","title":"Modelo Normal","text":"<p>Una de las distribuciones m\u00e1s utilizadas en estad\u00edstica es la normal, debido a que no solo muchos fen\u00f3menos tiene un comportamiento similar, sino por que los promedios tienden a una distribuci\u00f3n normal.</p> <p>En esta secci\u00f3n se usar\u00e1 esta distribuci\u00f3n para hacer inferencia sobre los par\u00e1metros de inter\u00e9s usando estad\u00edstica Bayesiana.</p>"},{"location":"estadistica/bayesiano/#inferencia-sobre-la-media-modelo-normal-normal","title":"Inferencia sobre la media (Modelo Normal - Normal)","text":"<p>Debido a que la distribuci\u00f3n Normal es ampliamente utilizada en estad\u00edstica, se ilustrar\u00e1n algunas de propiedades de la distribuci\u00f3n a posteriori de la media \\(\\mu\\).</p> <p>El siguiente ejemplo ilustra c\u00f3mo obtener la distribuci\u00f3n posterior de la media \\(\\mu\\) asumiendo varianza conocida y distribuci\u00f3n a priori para la media una distribuci\u00f3n normal.</p> Derivaci\u00f3n de la distribuci\u00f3n posterior para la media <p>Suponga que se tiene una muestra aleatoria \\(X_1,X_2,\\dots, X_n \\sim N(\\mu,\\sigma^2)\\) con \\(\\sigma^2\\) conocida. Se propone utilizar una distribuci\u00f3n a priori normal para \\(\\mu\\), es decir \\(\\mu \\sim N(\\mu_0,\\sigma_0^2)\\), donde \\(\\mu_0\\) y \\(\\sigma_0^2\\) son conocidos.</p> <p>La distribuci\u00f3n a posteriori puede encontrarse de la siguiente manera:</p> \\[p(\\mu|\\mathbf{x}) \\propto L(\\mu|\\mathbf{x})p(\\mu)\\] <p>Note que la verosimilitud puede expresarse como: </p> \\[ \\begin{align*} L(\\mu|\\mathbf{x}) &amp;= \\prod_{i=1}^{n}\\left(\\frac{1}{2 \\pi \\sigma^2}\\right)^{\\frac{1}{2}}e^{\\frac{1}{2\\sigma^2}(x_i-\\mu)^2}\\\\ &amp;=\\left(\\frac{1}{2 \\pi \\sigma^2}\\right)^{\\frac{n}{2}}e^{\\frac{1}{2\\sigma^2}\\sum_{i=1}^{n}(x_i-\\mu)^2}\\\\ &amp;\\propto e^{\\frac{1}{2\\sigma^2}\\sum_{i=1}^{n}(x_i-\\mu)^2} \\end{align*} \\] <p>Usando la suma de cuadrados \\(\\sum_{i=1}^{n}(X_i-\\mu)^2 =n(\\bar{X}-\\mu)^2 + \\sum_{i=1}^{n}(X_i-\\bar{X})^2\\), se propone usar \\(L(\\mu|\\mathbf{x}) \\propto e^{-\\frac{n}{2\\sigma^2}(\\mu-\\bar{x})^2}\\) ya que la exponencial es una funci\u00f3n sim\u00e9trica.</p> <p>Al usar \\(p(\\mu) \\propto e^{-\\frac{1}{2\\sigma_0^2}(\\mu-\\mu_0)^2}\\), por lo tanto la distribuci\u00f3n a posteriori es:</p> \\[ \\begin{align*} p(\\mu|\\mathbf{x}) &amp;\\propto e^{-\\frac{n}{2 \\sigma^2}(\\mu-\\bar{x})^2} e^{-\\frac{1}{2 \\sigma_0^2}(\\mu-\\mu_0)^2}\\\\ &amp;\\propto e^{-\\frac{1}{2}\\left(\\frac{n}{\\sigma^2}\\left(\\mu^2-2\\mu \\bar{x}+\\bar{x}^2\\right)+\\frac{1}{ \\sigma_0^2}\\left(\\mu^2-2\\mu \\mu_0 +\\mu_0^2\\right)\\right)}\\\\ &amp;\\propto e^{-\\frac{1}{2}\\left(\\frac{n}{\\sigma^2}\\left(\\mu^2-2\\mu \\bar{x}\\right)+\\frac{1}{ \\sigma_0^2}\\left(\\mu^2-2\\mu \\mu_0\\right)\\right)}\\\\ &amp;\\propto e^{-\\frac{1}{2}\\left(\\mu^2\\left(\\frac{n}{\\sigma^2}+\\frac{1}{\\sigma_0^2}\\right)-2\\mu \\left(\\frac{n \\bar{x}}{\\sigma^2} + \\frac{\\mu_0}{\\sigma_0^2} \\right)\\right)}\\\\ &amp;\\propto e^{-\\frac{1}{2 V}(\\mu-M)^2} \\end{align*} \\] <p>Por lo que se concluye que \\(\\mu|\\mathbf{x} \\sim N \\left(M,V \\right)\\), donde \\(V = \\frac{n}{\\sigma^2}+\\frac{1}{\\sigma_0^2}\\) y \\(M = \\frac{\\frac{n }{\\sigma^2}\\bar{x}+\\frac{1}{\\sigma_0^2}\\mu_0}{V}\\).</p> <p>Del ejemplo anterior, se puede deducir el siguiente teorema:</p> <p>Distribuci\u00f3n normal posterior</p> <p>Sea \\(X_1,X_2,\\dots, X_n \\sim N(\\mu,\\sigma^2)\\) una muestra aleatoria con \\(\\sigma^2\\) conocida y \\(\\mu \\sim N(\\mu_0,\\sigma_0^2)\\). Entonces se cumplen las siguientes propiedades.</p> <ul> <li>\\(\\mu|\\mathbf{x} \\sim N \\left(M,V \\right)\\), donde \\(V = \\frac{n}{\\sigma^2}+\\frac{1}{\\sigma_0^2}\\) y \\(M = \\frac{\\frac{n }{\\sigma^2}\\bar{x}+\\frac{1}{\\sigma_0^2}\\mu_0}{V}\\).</li> <li>La distribuci\u00f3n a posteriori es conjugada.</li> <li>\\(E(\\mu|\\mathbf{x}) = p_1\\bar{x} + p_2\\mu_0\\) es un promedio ponderado de la media a priori y el estimador de m\u00e1xima verosimilitud, cuyos pesos son proporcionales a la suma del inverso de las varianzas.</li> <li>Cuando \\(n \\to \\infty\\) la media a posteriori coincide con el estimador de m\u00e1xima verosimilitud.</li> <li>Si \\(p(\\mu) \\propto 1\\), entonces \\(p(\\mu|\\mathbf{x}) = N\\left(\\bar{x},\\frac{\\sigma^2}{n}\\right)\\) coincide con el resultado frecuentista que asume varianza conocida.</li> </ul> <p>Esta propiedad ser\u00e1 usada posteriormente para obtener de manera f\u00e1cil distibuciones posteriores, por ejemplo en un modelo lineal.</p> <p>Finalmente es de inter\u00e9s encontrar la distribuci\u00f3n predictiva a posteriori para este modelo.</p> \\[p(X_{n+1}|x_1,\\dots,x_n) = N\\left(\\bar{x},\\left(1+\\frac{1}{n}\\right)\\sigma^2\\right)\\] <p>El siguiente ejemplo muestra detalles para hallar dicha distribuci\u00f3n.</p> Derivaci\u00f3n de la distribuci\u00f3n predictiva <p>Asumiendo que \\(X_{n+1}\\) tambien proviene de la misma poblaci\u00f3n, se tiene que</p> \\[ \\begin{align*} p(X_{n+1} |\\mathbf{x}) &amp;\\propto \\int_{-\\infty}^{\\infty} p(x_{n+1}|\\mu) p(\\mu|\\mathbf{x}) d \\mu\\\\ &amp;\\propto \\int_{-\\infty}^{\\infty} e^{\\frac{-1}{2\\sigma^2}\\left(n(\\mu-\\bar{x})^2+(x_{n+1}-\\mu)^2\\right)}d\\mu \\end{align*} \\] <p>Note que \\(Q(\\mu)=n(\\mu-\\bar{x})^2+(x_{n+1}-\\mu)=(n+1)(\\mu-\\bar{x}_{n+1})^2+\\frac{n}{n+1}(x_{n+1}-\\bar{x})^2\\), donde \\(\\bar{x}_{n+1}=\\frac{n\\bar{x}+x_{n+1}}{n+1}\\), por lo que:</p> \\[ \\begin{align*} p(x_{n+1} |\\mathbf{x}) &amp; \\propto e^{\\frac{-1}{2\\sigma^2}\\left(\\frac{n}{n+1}(x_{n+1}-\\bar{x})^2\\right)} \\int_{-\\infty}^{\\infty} e^{\\frac{-1}{2\\sigma^2}\\left((n+1)(\\mu-\\bar{x}_{n+1})^2\\right)}d\\mu\\\\ &amp;\\propto e^{\\frac{-n}{2(n+1)\\sigma^2}\\left(x_{n+1}-\\bar{x}\\right)^2} \\end{align*} \\] <p>Por lo tanto \\(X_{n+1}|\\mathbf{x} \\sim N\\left(\\bar{x},(1+\\frac{1}{n})\\sigma^{2}\\right)\\).</p> <p>Reparametrizaci\u00f3n de la varianza</p> <p>Algunos autores, por ejemplo Hoff (2009), recomiendan reparametrizar la distribuci\u00f3n normal usando la precisi\u00f3n que es la inversa de la varianza.</p> <p>La ventaja de esta reparametrizaci\u00f3n es que es m\u00e1s f\u00e1cil hacer c\u00e1lculos con la precisi\u00f3n que con la varianza, ya que se evitan hacer suma de fracciones. Sin embargo las conclusiones son las mismas.</p> <p>En la siguiente secci\u00f3n se har\u00e1 uso de la precisi\u00f3n para facilitar los c\u00e1lculos.</p>"},{"location":"estadistica/bayesiano/#inferencia-sobre-la-media-y-varianza-modelo-normal-gamma","title":"Inferencia sobre la media y varianza (Modelo Normal - Gamma)","text":"<p>En la secci\u00f3n anterior se hizo inferencia \u00fanicamente sobre la media \\(\\mu\\), asumiendo la varianza \\(\\sigma^2\\) conocida. Ahora se considerar\u00e1 inferencia sobre ambos par\u00e1metros, es decir \\(\\theta = (\\mu, \\sigma^2)\u00b4\\).</p> <p>El objetivo ser\u00e1 encontrar la distribuci\u00f3n a posteriori de \\(\\theta\\) dados los datos \\(\\mathbf{x}\\), es decir:</p> \\[p(\\theta|\\mathbf{x}) \\propto L(\\theta|\\mathbf{x})p(\\theta)\\] <p>Se puede proponer una densidad a priori conjunta, la cual sea producto de una condicional y una marginal.</p> \\[p(\\mu,\\sigma^2) = p(\\mu|\\sigma^2)p(\\sigma^2)\\] <p>o en t\u00e9rminos de precisi\u00f3n \\(\\tau=\\frac{1}{\\sigma^2}\\):</p> \\[p(\\mu,\\tau) = p(\\mu|\\tau)p(\\tau)\\] <p>La distribuci\u00f3n a priori propuesta es la siguiente:</p> <p>Distribuci\u00f3n Normal-Gama</p> <p>Se dice que la densidad conjunta \\(p(\\mu,\\tau)\\) es Normal-Gama(m,c,a,b) si:</p> <ul> <li>\\(p(\\tau) = Ga(a,b)\\), donde \\(a\\) es el par\u00e1metro de forma y \\(b\\) es par\u00e1metro de tasa (inverso de la escala).</li> <li>\\(p(\\mu|\\tau) = N\\left(m,\\frac{1}{c\\tau}\\right)\\) donde \\(m\\) es la media a priori y la varianza es \\(\\sigma^2=\\frac{1}{c\\tau}\\).</li> <li>\\(p(\\mu,\\tau) \\propto \\tau ^{a-\\frac{1}{2}-1}e^{-\\frac{\\tau}{2}(c(\\mu-m)^2+2b)}\\)</li> </ul> <p>Usando la varianza</p> <p>Se puede usar la varianza, sin embargo la distribuci\u00f3n a priori ser\u00eda la Normal-Inversa Gama y los resultados ser\u00edan similares a los anteriores.</p> <p>Si \\(\\tau = \\frac{1}{\\sigma^2} \\sim Ga(a,b)\\), entonces \\(p(\\sigma^2) \\sim IGa(a,b)\\), es decir Inversa-Gama. Se puede encontrar m\u00e1s informaci\u00f3n de esta densidad en este link.</p> <p>Se puede mostrar que la distribuci\u00f3n a posteriori tiene la siguiente forma:</p> \\[p(\\mu,\\tau|\\mathbf{x}) \\propto \\tau ^ {\\frac{n}{2}+a+\\frac{1}{2}-1}e^{-\\frac{\\tau}{2}((n-1)S^2 + 2b + (n+c)(\\mu-m_n)^2+\\frac{nc}{n+c}(\\bar{X}-m)^2)}\\] <p>donde \\(m_n = \\frac{n\\bar{x}+cm}{n+c}\\). Esta densidad no tiene forma conocida. Sin embargo comunmente es de inter\u00e9s conocer la distibuci\u00f3n condicional posterior de \\(\\mu\\) dada la precisi\u00f3n \\(\\tau\\) y los datos. </p> <p>Inferencia en el modelo Normal-Gama</p> <p>Sea \\(X_1,X_2,\\dots, X_n \\sim N(\\mu,\\sigma^2)\\) una muestra aleatoria con \\(\\tau = \\frac{1}{\\sigma^2}\\) y \\(p(\\mu,\\tau) = NG(m,c,a,b)\\). Entonces se cumplen las siguientes propiedades.</p> <ul> <li>\\(\\mu|\\tau,\\mathbf{x} \\sim N\\left(m_n,\\frac{1}{\\tau (n+c)}\\right)\\) con \\(m_n = \\frac{n\\bar{x}+cm}{n+c}\\).</li> <li>\\(\\tau|\\mathbf{x} \\sim Ga\\left(\\frac{n-1}{2},\\frac{n-1}{2}S^2\\right)\\) o equivalentemente \\(\\sigma^2|\\mathbf{x} \\sim iGa\\left(\\frac{n-1}{2},\\frac{n-1}{2}S^2\\right)\\) con \\(S^2 = \\frac{1}{n-1}\\sum_{i=1}^{n}(X_i-\\bar{X})^2\\).</li> <li>\\(\\mu|\\mathbf{x} \\sim t_{n-1}\\left(\\bar{x},\\frac{S^2}{n}\\right)\\) o equivalentemente \\(\\frac{\\sqrt{n}(\\mu-\\bar{x})}{S}|\\mathbf{x} \\sim t_{n-1}\\).</li> <li>\\(X_{n+1}|\\mathbf{x} \\sim t_{n-1}\\left(\\bar{x},(1+\\frac{1}{n})S^2\\right)\\) o equivalentemente \\(\\frac{(X_{n+1}-\\bar{x})}{\\sqrt{(1+\\frac{1}{n})S^2}}|\\mathbf{x} \\sim t_{n-1}\\).</li> </ul> <p>No es dif\u00edcil mostrar que:</p> \\[p(\\mu|\\tau,\\mathbf{x}) \\propto e^{-\\frac{\\tau}{2}(n+c)(\\mu-m_n)^2}\\] <p>por lo que \\(\\mu|\\tau,\\mathbf{x} \\sim N\\left(m_n,\\frac{1}{\\tau (n+c)}\\right)\\) o equivalentemente \\(\\mu|\\sigma^2,\\mathbf{x} \\sim N(m_n,\\sigma^2 (n+c))\\).</p> <p>Sin embargo obtener las otras distribuciones requiere algunos conocimiento de c\u00e1lculo integral.</p>"},{"location":"estadistica/bayesiano/#modelo-lineal-normal","title":"Modelo Lineal Normal","text":"<p>En esta secci\u00f3n se abordar\u00e1 uno de los modelos m\u00e1s utilizados en estad\u00edstica. Este modelo, aunque es muy simple, es una poderosa herramienta que permite analizar la asociaci\u00f3n lineal entre dos variables. Esta idea puede generalizarse a\u00fan m\u00e1s para crear modelos m\u00e1s complejos.</p>"},{"location":"estadistica/bayesiano/#modelo-de-regresion-lineal-simple","title":"Modelo de regresi\u00f3n lineal simple","text":"<p>Primero se estudiar\u00e1 el modelo lineal simple, el cual servir\u00e1 como punto de partida para otros modelos posteriores.</p> <p>Suponga que se tienen 2 variables aleatorias \\(Y\\) y \\(X\\), donde \\(Y\\) es la variable de inter\u00e9s y \\(X\\) una variable que explica el comportamiento de la otra. Si se tiene una muestra aleatoria bivariada de tama\u00f1o \\(n\\), es decir \\((X_1,Y_1), (X_2,Y_2), \\dots , (X_n,Y_n)\\) entonces el modelo puede representarse de la siguiente manera:</p> \\[ y_i = \\beta_0 + \\beta_1 x_i + e_i\\;i=1,2,\\dots,n \\] <p>donde \\(\\beta_0\\) (ordenada al origen) y \\(\\beta_1\\) (pendiente) son par\u00e1metros de inter\u00e9s desconocidos y \\(e_i\\) es una variable alatoria que se asume \\(e_i \\sim N(0,\\sigma^2)\\).</p> <p>Este modelo trata de modelar la esperanza condicional de \\(Y_i\\) dados los dem\u00e1s par\u00e1metros y variables aleatorias, es decir \\(E(Y_i|x_i,\\beta_0,\\beta_1,\\sigma^2) = \\mu_i = \\beta_0 + \\beta_1 x_i = \\mathtt{x}\\mathbf{\\beta}\\), donde \\(\\mathtt{x}\\) es la matriz dise\u00f1o y \\(\\mathbf{\\beta} = (\\beta_0,\\beta_1)'\\).</p> <p>Note que la funci\u00f3n de verosimilitud puede representarse como:</p> \\[L(\\mathbf{\\beta},\\sigma^2|\\mathbf{x},\\mathbf{y})\\propto \\left(\\frac{1}{\\sigma^2}\\right)^{\\frac{n}{2}}e^{-\\frac{1}{2\\sigma^2}\\left( \\sum_{i=1}^n y_i-\\mathtt{x}_i\\mathbf{\\beta} \\right)^2}\\] <p>Para hacer inferencia sobre los par\u00e1metros, se puede suponer distribuciones a priori sobre los par\u00e1metros de inter\u00e9s, en este caso se usar\u00e1n las distribuciones a priori similares a las utilizadas en el modelo normal-gamma, esto es:</p> \\[ p(\\theta) \\propto p(\\sigma^2)p(\\mathbf{\\beta}) \\] <p>donde \\(p(\\mathbf{\\beta}) \\sim N(\\mathbf{m},\\mathbf{U})\\) y \\(p(\\sigma^2)\\sim InvGa(a/2,ab/2)\\) o equivalentemente \\(p(1/\\sigma^2) \\sim Ga(a/2,ab/2)\\).</p> <p>Debido a que estamos interesados en la distribuci\u00f3n a posteriori marginal de los par\u00e1metros, se puede obtener de manera sencilla dichas distribuciones de la siguiente manera.</p> Distribuci\u00f3n marginal posterior de las betas <p>Se puede demostrar que la distribuci\u00f3n posterior marginal tiene la siguiente forma</p> \\[ \\begin{align*} p(\\beta|\\sigma^2,\\mathbf{x},\\mathbf{y}) &amp;\\propto e^{-\\frac{1}{2}(\\mathbf{y}-\\mathtt{x}\\beta)^t\\Sigma^{-1}(\\mathbf{y}-\\mathtt{x}\\beta)} \\times e^{-\\frac{1}{2}(\\beta-\\mathbf{m})^t\\mathbf{U}^{-1}(\\beta-\\mathbf{m})}\\\\ &amp;=e^{-\\frac{1}{2}(\\mathbf{y}^t\\Sigma^{-1}\\mathbf{y}-\\mathbf{y}^t\\Sigma^{-1}\\mathtt{x}\\beta-(\\mathtt{x}\\beta)^t\\Sigma^{-1}\\mathbf{y}+(\\mathtt{x}\\beta)^t\\Sigma^{-1}\\mathtt{x}\\beta + \\beta^t\\mathbf{U}^{-1}\\beta-\\mathbf{\\beta}^t\\mathbf{U}^{-1}\\mathbf{m} -\\mathbf{m}^t\\mathbf{U}^{-1}\\mathbf{\\beta}+(\\mathbf{m})^t\\mathbf{U}^{-1}\\mathbf{m})}\\\\ &amp;\\propto e^{-\\frac{1}{2}(\\beta^t\\mathtt{x}^t\\Sigma^{-1}\\mathtt{x}\\beta -2\\beta^t\\mathtt{x}^t\\Sigma^{-1}\\mathbf{y} + \\beta^t\\mathbf{U}^{-1}\\beta  -2\\mathbf{\\beta}^t\\mathbf{U}^{-1}\\mathbf{m})}\\\\ &amp;= e^{-\\frac{1}{2}(\\beta^t(\\mathtt{x}^t\\Sigma^{-1}\\mathtt{x}+\\mathbf{U}^{-1})\\beta -2\\beta^t(\\mathtt{x}^t\\Sigma^{-1}\\mathbf{y}+\\mathbf{U}^{-1}\\mathbf{m})) } \\end{align*} \\] <p>Se puede completar el cuadrado si se agrega al segundo t\u00e9rmino \\((\\mathtt{x}^t\\Sigma^{-1}\\mathtt{x}+\\mathbf{U}^{-1})(\\mathtt{x}^t\\Sigma^{-1}\\mathtt{x}+\\mathbf{U}^{-1})^{-1}\\) y se define \\(\\mathbf{b}=(\\mathtt{x}^t\\Sigma^{-1}\\mathtt{x}+\\mathbf{U}^{-1})^{-1}(\\mathtt{x}^t\\Sigma^{-1}\\mathbf{y}+\\mathbf{U}^{-1}\\mathbf{m})\\), por lo que</p> \\[ \\begin{align*} p(\\beta|\\sigma^2,\\mathbf{x},\\mathbf{y}) &amp;\\propto e^{-\\frac{1}{2}(\\beta^t(\\mathtt{x}^t\\Sigma^{-1}\\mathtt{x}+\\mathbf{U}^{-1})\\beta -2(\\mathtt{x}^t\\Sigma^{-1}\\mathtt{x}+\\mathbf{U}^{-1})\\mathbf{b}) }\\\\ &amp; \\propto e^{-\\frac{1}{2}(\\beta^t(\\mathtt{x}^t\\Sigma^{-1}\\mathtt{x}+\\mathbf{U}^{-1})\\beta -2(\\mathtt{x}^t\\Sigma^{-1}\\mathtt{x}+\\mathbf{U}^{-1})\\mathbf{b} + \\mathbf{b}^t(\\mathtt{x}^t\\Sigma^{-1}\\mathtt{x}+\\mathbf{U}^{-1})\\mathbf{b} )} \\\\ &amp; \\propto e^{-\\frac{1}{2}((\\beta-\\mathbf{b})^t(\\mathtt{x}^t\\Sigma^{-1}\\mathtt{x}+\\mathbf{U}^{-1})(\\beta-\\mathbf{b}))} \\end{align*} \\] <p>Por lo que se reconoce una distribuci\u00f3n Normal multivariada, con vector de medias \\(\\mathbf{b}=(\\mathtt{x}^t\\Sigma^{-1}\\mathtt{x}+\\mathbf{U}^{-1})^{-1}(\\mathtt{x}^t\\Sigma^{-1}\\mathbf{y}+\\mathbf{U}^{-1}\\mathbf{m})\\) y matriz de covarianzas \\(\\mathbf{V} = (\\mathtt{x}^t\\Sigma^{-1}\\mathtt{x}+\\mathbf{U}^{-1})^{-1}\\).</p> <p>Note que si \\(\\Sigma = \\sigma^2 I\\), entonces \\(\\beta|\\sigma^2,\\mathbf{x},\\mathbf{y} \\sim N(\\mathbf{b},\\mathbf{V})\\), con \\(\\mathbf{V} = (\\frac{1}{\\sigma^2}\\mathtt{x}^t\\mathtt{x}+\\mathbf{U}^{-1})^{-1}\\) y \\(\\mathbf{b}=\\mathbf{V}(\\frac{1}{\\sigma^2}\\mathtt{x}^t\\mathbf{y}+\\mathbf{U}^{-1}\\mathbf{m})\\).</p> Distribuci\u00f3n marginal posterior de la varianza <p>Para facilitar los c\u00e1lculos, sea \\(\\tau = \\frac{1}{\\sigma^2}\\), puede mostrarse que la distribuci\u00f3n a posteiori marginal para \\(\\tau\\) est\u00e1 dada por:</p> \\[ \\begin{align*} p(\\tau|\\beta,\\mathbf{x},\\mathbf{y}) &amp;\\propto (\\tau)^{\\frac{n}{2}} e^{-\\frac{\\tau}{2}(\\mathbf{y}-\\mathtt{x}\\beta)^t(\\mathbf{y}-\\mathtt{x}\\beta)} \\times \\tau^{\\frac{a}{2}-1}e^{-\\frac{ab}{2}\\tau}\\\\ &amp;\\propto \\tau^{\\frac{n+a}{2}-1}e^{-\\frac{\\tau}{2}((\\mathbf{y}-\\mathtt{x}\\beta)^t(\\mathbf{y}-\\mathtt{x}\\beta)+ab)} \\end{align*} \\] <p>Por lo tanto \\(\\frac{1}{\\sigma^2}|\\beta,\\mathbf{x},\\mathbf{y} \\sim Ga\\left(\\frac{n+a}{2},\\frac{SCE+ab}{2}\\right)\\), donde \\(SCE = \\sum_{i=1}^n(y_i-\\mathtt{x}_i\\beta)^2\\) o equivalentemente \\(\\sigma^2|\\beta,\\mathbf{x},\\mathbf{y} \\sim InvGa\\left(\\frac{n+a}{2},\\frac{SCE+ab}{2}\\right)\\).</p> <p>Se pueden resumir los resultados obtenidos de la siguiente manera:</p> <p>Inferencia en el modelo de regresi\u00f3n lineal simple</p> <p>Sea \\((X_1,Y_1), (X_2,Y_2), \\dots , (X_n,Y_n)\\) una muestra aleatoria bivariada de tama\u00f1o \\(n\\), donde \\(Y_i = \\beta_0 + \\beta_1 X_i + e_i,\\, e_i \\sim N(0,\\sigma^2)\\) y \\(p(\\theta) \\propto p(\\sigma^2)p(\\mathbf{\\beta})\\). Entonces se cumplen las siguientes propiedades.</p> <ul> <li> <p>\\(\\beta|\\sigma^2,\\mathbf{x},\\mathbf{y} \\sim N(\\mathbf{b},\\mathbf{V})\\) con \\(\\mathbf{V} = (\\frac{1}{\\sigma^2}\\mathtt{x}^t\\mathtt{x}+\\mathbf{U}^{-1})^{-1}\\) y \\(\\mathbf{b}=\\mathbf{V}(\\frac{1}{\\sigma^2}\\mathtt{x}^t\\mathbf{y}+\\mathbf{U}^{-1}\\mathbf{m})\\).</p> </li> <li> <p>\\(\\sigma^2|\\beta,\\mathbf{x},\\mathbf{y} \\sim InvGa\\left(\\frac{n+a}{2},\\frac{SCE+ab}{2}\\right)\\) con \\(SCE = \\sum_{i=1}^n(y_i-\\mathtt{x}_i\\beta)^2\\).</p> </li> <li> <p>Si \\(p(\\theta) \\propto \\sigma^2\\) entonces \\(\\beta|\\sigma^2,\\mathbf{x},\\mathbf{y} \\sim N(\\hat{\\beta},\\sigma^2(\\mathtt{x}^t\\mathtt{x})^{-1})\\) y \\(\\sigma|\\mathbf{x},\\mathbf{y} \\sim InvGa(\\frac{n-2}{2},\\frac{SCE}{2})\\), es decir, el resultado coincide con los estimadores de m\u00ednimos cuadrados ordinarios.</p> </li> </ul>"},{"location":"estadistica/bayesiano/#analisis-de-referencia","title":"An\u00e1lisis de Referencia","text":""},{"location":"estadistica/bayesiano/#metodos-numericos","title":"M\u00e9todos num\u00e9ricos","text":""},{"location":"estadistica/bayesiano/#metodos-mcmc","title":"M\u00e9todos MCMC","text":""},{"location":"estadistica/bayesiano/#metropolis-hastings","title":"Metropolis - Hastings","text":""},{"location":"estadistica/bayesiano/#muestreo-de-gibss","title":"Muestreo de Gibss","text":""},{"location":"estadistica/bayesiano/#referencias","title":"Referencias","text":"<p>Hoff, Peter. 2009. A First Course in Bayesian Statistical Methods. New York: Springer.</p> <p>Muchas de las ideas fueron tomadas del curso An\u00e1lisis Bayesiano impartido por el Dr. Sergio P\u00e9rez en el cuatrimestre Verano de 2022 en el Colegio de Postgraduados, Campus Montecillo.</p>"},{"location":"estadistica/estadistica_matematica/","title":"Apuntes de Estad\u00edstica Matem\u00e1tica","text":"<p>La Estad\u00edstica Matem\u00e1tica estudia de forma m\u00e1s profunda y formal a la Teor\u00eda de la Probabilidad, que a la vez est\u00e1 basada en Teor\u00eda de la Medida. Este curso sirve como base para Teor\u00eda Estad\u00edstica para un doctorado en Estad\u00edstica.</p> <p>En ocasiones se requiere una fuerte formaci\u00f3n en Teor\u00eda de la Medida, pero en esta p\u00e1gina se usar\u00e1n los conceptos m\u00e1s indispensables para abordar su estudio.</p>"},{"location":"estadistica/estadistica_matematica/#conceptos-basicos","title":"Conceptos b\u00e1sicos","text":"<p>Para el estudio de la estad\u00edstica matem\u00e1tica, se requieren ciertas definiciones que nos permitir\u00e1n abordar su estudio.</p> <p>Una definici\u00f3n muy general es el espacio muestral \\(\\Omega\\).</p> <p>Espacio muestral</p> <p>Sea \\(\\Omega\\) un conjunto de elementos de inter\u00e9s. \\(\\Omega\\) es llamado Espacio Muestral o Universo.</p> <p>Usualmente nos referimos a \\(\\Omega\\) como el conjunto de todos los resultados posibles de un experimento, aunque de acuerdo con Shao (1999) tamb\u00eden podr\u00eda ser un conjunto de n\u00fameros, un intervalo de la recta real, entre otros.</p> <p>Medida</p> <p>Una medida es una extensi\u00f3n matem\u00e1tica natural de longitud, \u00e1rea o volumen de subconjuntos en espacios Euclideanos de dimensi\u00f3n 1 2 o 3.</p>"},{"location":"estadistica/estadistica_matematica/#espacios-medibles","title":"Espacios medibles","text":"<p>Cuando se trabaja con un espacio muestral, una medida ser\u00e1 una funci\u00f3n definida para ciertos subconjuntos de \\(\\Omega\\) que satisfagan ciertas propiedades.</p> <p>\\(\\sigma\\)-\u00e1lgrebra</p> <p>Sea \\(\\mathcal{F}\\) una colecci\u00f3n de subconjuntos de un espacio muestral \\(\\Omega\\). \\(\\mathcal{F}\\) es llamado una \\(\\sigma\\)-\u00e1lgebra o \\(\\sigma\\)-campo si y solo si tiene las siguientes propiedades:</p> <ol> <li>\\(\\emptyset \\in \\mathcal{F}\\) (El conjunto vac\u00edo pertenece a la colecci\u00f3n).</li> <li>\\(A \\in \\mathcal{F} \\rightarrow A^C \\in \\mathcal{F}\\) (Si el conjunto A pertenece a la colecci\u00f3n, tambi\u00e9n su complemento).</li> <li>\\(A_i \\in \\mathcal{F},i=1,2,\\dots, \\rightarrow \\cup A_i \\in \\mathcal{F}\\) (La uni\u00f3n tambi\u00e9n pertenece a la colecci\u00f3n).</li> </ol> <p>Variantes en la definici\u00f3n</p> <p>Algunos autores definen la propiedad 1 como: \\(\\Omega \\in \\mathcal{F}\\) (El universo pertenece a la colecci\u00f3n).</p> <p>Espacio medible</p> <p>Un par \\((\\Omega,\\mathcal{F})\\) es llamado espacio medible. Los elementos de \\(\\mathcal{F}\\) son llamados eventos en probabilidad y estad\u00edstica.</p> <p>El concepto de \\(\\sigma\\)-campo se ilustra con los siguientes ejemplos.</p> El \\(\\sigma\\)-campo m\u00e1s peque\u00f1o <p>Sea A un conjunto propio no vac\u00edo de \\(\\Omega\\), es decir \\(A \\in \\Omega, A \\ne \\Omega\\). \u00bfSer\u00e1 \\(\\lbrace \\emptyset,A,A^C,\\Omega \\rbrace\\) un \\(\\sigma\\)-campo?</p> <p>Considere la siguiente imagen</p> <p></p> <p>Observese que este conjunto \\(\\lbrace \\emptyset,A,A^C,\\Omega \\rbrace\\) cumple con las 3 propiedades (est\u00e1 el conjunto vac\u00edo \\(\\emptyset\\),est\u00e1 su complemento \\(A^C\\)). De hecho este \\(\\sigma\\)-campo es el m\u00e1s peque\u00f1o que contiene a \\(A\\), ya que cualquier \\(\\mathcal{F}\\) podr\u00eda contener a \\(A\\).</p> <p>Este \\(\\sigma\\)-campo se denota como \\(\\sigma(\\lbrace A \\rbrace)\\).</p> El \\(\\sigma\\)-campo finito m\u00e1s grande <p>Sea \\(2^\\Omega\\) el conjunto potencia, definido como el conjunto de todos los subconjuntos, es el \\(\\sigma\\)-campo m\u00e1s grande para \\(\\Omega\\).</p> <p>Por ejemplo si se considera \\(\\Omega = \\lbrace 1,2,3,4,5,6 \\rbrace\\), el conjunto de resultados del lanzamiento de un dado, entonces \\(\\mathcal{F}=2^\\Omega=\\lbrace \\emptyset,\\lbrace 1\\rbrace,\\lbrace 2\\rbrace,\\dots,\\lbrace 1,2 \\rbrace,\\dots \\lbrace 1,2,3\\rbrace,\\dots,\\lbrace 1,2,3,4,5,6\\rbrace \\rbrace\\) es un \\(\\sigma\\)-campo. Note que \\(\\mathcal{F}\\) tiene 64 elementos.</p> <p>Conjunto de todos los eventos posibles</p> <p>En algunos textos de estad\u00edstica, al conjunto potencia \\(2^\\Omega\\) se le conoce como el conjunto de todos los eventos posibles y se suele denotar como \\(\\mathbb{s}\\).</p> \\(\\sigma\\)-campo Borel <p>Sea \\(\\mathcal{C}\\) el conjunto de todos los intervalos abiertos en los n\u00fameros reales \\(\\mathbb{R}\\). Entonces \\(\\mathcal{B}=\\sigma(\\mathcal{C})\\) es llamado \\(\\sigma\\)-campo Borel y los elementos de \\(\\mathcal{B}\\) son llamados conjuntos Borel.</p> <p>Considere un intervalo abierto arbitrario, por ejemplo el intervalo \\(A=(5,9)\\), este intervalo pertenece a \\(\\mathcal{C}\\) y tambi\u00e9n su complemento, en este caso los intervalos abiertos \\((-\\infty,5) \\cup (9,\\infty)\\).</p> <p>Finalmente \\(\\cup A_i=(-\\infty,\\infty)\\) tambi\u00e9n est\u00e1 en \\(\\mathcal{C}\\).</p> <p>Aunque ya se hab\u00eda mencionado anteriormente una idea de medida, a continuaci\u00f3n se definir\u00e1 el concepto de manera formal.</p> <p>Medida</p> <p>Sea \\((\\Omega,\\mathcal{F})\\) un espacio medible. Una funci\u00f3n \\(v\\) definida sobre \\(\\mathcal{F}\\) es llamada medida si y solo si tiene las siguientes propiedades.</p> <ol> <li>\\(0 \\le v(A) \\le \\infty, A \\in \\mathcal{F}\\).</li> <li>\\(v(\\emptyset) = 0\\).</li> <li>Si \\(A_i \\in \\mathcal{F}\\) y son disjuntos, entonces</li> </ol> <p>\\(v \\left( \\bigcup_{i=1}^{\\infty} A_i \\right) = \\sum_{i=1}^{\\infty} v(A_i)\\).</p> <p>En otras palabras, una medida nos permite asignar un n\u00famero real a los elementos o subconjuntos del espacio muestral.</p> <p>Espacio de medida</p> <p>A la tripleta \\((\\Omega,\\mathcal{F},v)\\) se le conoce como espacio de medida.</p> <p>A continuaci\u00f3n se definir\u00e1n algunos ejemplos de medida de especial inter\u00e9s que son usados en estad\u00edstica.</p> <p>Medida de probabilidad</p> <p>Si \\(v(\\Omega)=1\\) entonces \\(v\\) es llamada una medida de probabilidad y usualmente se denota por \\(P\\) en vez de \\(v\\) y la tripleta \\((\\Omega,\\mathcal{F},P)\\) es llamada espacio de probabilidad. Note la similitud en la definici\u00f3n que se di\u00f3 en la secci\u00f3n axiomas de probabilidad (a \\(\\mathcal{F}\\) se le llam\u00f3 \\(\\mathbb{s}\\)).</p> Medida de conteo <p>Sea \\(\\mathcal{F}\\) una colecci\u00f3n de subconjuntos de un espacio muestral \\(\\Omega\\). Sea \\(v(A)\\) el n\u00famero de elementos en el conjunto \\(A \\in \\mathcal{F}\\). Entonces \\(v\\) es una medida sobre \\(\\mathcal{F}\\) y es llamada medida de conteo.</p> <p>Esta medida es de utilidad en probabilidad cuando se usa la funci\u00f3n de propabilidad con probabilidades iguales.</p> Medida de Lebesgue <p>Sea \\((\\mathbb{R},\\mathcal{B})\\) un espacio medible (El conjunto de todos los n\u00fameros reales ser\u00eda el espacio muestral y \\(\\mathcal{B}\\) ser\u00edan el conjunto de todos los intervalos abiertos en los reales). Se define</p> <p>\\(m([a,b])=b-a\\)</p> <p>para cada intervalo finito \\([a,b] \\in \\mathcal{B},-\\infty &lt; a &lt; b &lt; \\infty\\). A esta medida se le conoce como medida de Lebesgue. B\u00e1sicamente nos da la longitud del intervalo o distancia ente dos n\u00fameros reales. Note que si \\(m\\) se restringe al espacio medible \\(([0,1],\\mathcal{B}_{[0,1]})\\), se obtiene una medida de probabilidad.</p> <p>A continuaci\u00f3n se definen algunas propiedades de las medidas.</p> <p>Propiedades de la medida</p> <p>Sea \\((\\Omega,\\mathcal{F},v)\\) un espacio de medida con \\(A \\in \\mathcal{F}\\).</p> <p>a) Si \\(A \\subset B\\) entonces \\(v(A) \\le v(B)\\) (La medida es mon\u00f3tona).</p> <p>b) (Subaditividad) Para cualquier secuencia \\(A_1, A_2,\\dots,\\) se cumple</p> <p>\\(v \\left( \\bigcup_{i=1}^{\\infty}A_i\\right) = \\bigcup_{i=1}^{\\infty}v(A_i)\\)</p> <p>c) (Continuidad) Si \\(A_1 \\supset A_2 \\supset \\dots\\) y \\(v(A_1) \\le \\infty\\), entonces </p> <p>\\(v\\left( \\lim_{n \\to \\infty} A_n \\right) = \\lim_{n \\to \\infty} v \\left( A_n \\right)\\)</p> <p>Estas propiedades se aplican en las propiedades de la probabilidad, vea la secci\u00f3n axiomas de probabilidad.</p>"},{"location":"estadistica/estadistica_matematica/#funcion-de-probabilidad","title":"Funci\u00f3n de probabilidad","text":"<p>Ahora se puede definir la funci\u00f3n de distribuci\u00f3n acumulada a partir de la medida de probabilidad.</p> <p>Funci\u00f3n de distribuci\u00f3n acumulada</p> <p>Sea \\(P\\) una medida de probabilidad. La funci\u00f3n de distribuci\u00f3n acumulada de \\(P\\) se define como</p> <p>\\( F(x) = P(-\\infty,x), x \\in \\mathbb(R) \\)</p> <p>Note que esta definici\u00f3n est\u00e1 en t\u00e9rminos de una medida de probabilidad, y no en t\u00e9rminos de una variable aleatoria (no lleva el sub\u00edndice \\(X\\)) como en la secci\u00f3n Funci\u00f3n de distribuci\u00f3n.</p> <p>Las propiedeades de la funci\u00f3n de distribuci\u00f3n son las siguientes:</p> <p>a) \\(F(-\\infty) = \\lim_{x \\to -\\infty} F(x) = 0\\)</p> <p>b) \\(F(\\infty) = \\lim_{x \\to \\infty} F(x) = 1\\)</p> <p>c) \\(F\\) es no decreciente, es decir, para toda \\(x &lt; y\\) entonces \\(F(x) \\le F(y)\\).</p> <p>d) Es continua por la derecha, esto es \\(\\lim_{x &lt; y \\to x} F(y) = F(x)\\)</p>"},{"location":"estadistica/estadistica_matematica/#funcion-medible-y-variable-aleatoria","title":"Funci\u00f3n medible y variable aleatoria","text":"<p>Hasta ahora se ha trabajado sobre el espacio muestral \\(\\Omega\\), pero este suele ser algo muy general. Ahora se definir\u00e1 una forma para trabajar con n\u00fameros reales en lugar de conjuntos.</p> <p>Funci\u00f3n medible</p> <p>Sean \\((\\Omega,\\mathcal{F})\\) y \\((\\Lambda,\\mathcal{G})\\) espacios medibles y \\(f\\) una funci\u00f3n de \\(\\Omega\\) a \\(\\Lambda\\). La funci\u00f3n \\(f\\) es llamada funci\u00f3n medible de \\((\\Omega,\\mathcal{F})\\) a \\((\\Lambda,\\mathcal{G})\\) si y solo si \\(f^{-1}(\\mathcal{G}) \\subset \\mathcal{F}\\).</p> <p>Variable aleatoria</p> <p>Si \\((\\Lambda,\\mathcal{G})\\) es un espacio Borel, es decir \\((\\mathbb{R},\\mathcal{B})\\), a \\(f\\) se le conoce como funci\u00f3n Borel o Borel medible. En probabilidad se le conoce como variable aleatoria.</p> <p>Para saber un poco m\u00e1s de las variables aleatorias vea la secci\u00f3n variable aleatoria.</p> <p>Si \\(P\\) es una medida de probabilidad y \\(X\\) es una variable aleatoria, entonces a \\(P_X=P(X^{-1})\\) se le conoce como distribuci\u00f3n de X.</p>"},{"location":"estadistica/estadistica_matematica/#integracion","title":"Integraci\u00f3n","text":"<p>El concepto de integraci\u00f3n es muy utilizado en Estad\u00edstica y Probabilidad, aqu\u00ed se definir\u00e1 de manera muy general.</p> <p>Integral</p> <p>La integral de una funci\u00f3n no negativa de una funci\u00f3n \\(\\varphi\\) con respectoa \\(v\\) se define como</p> <p>\\(\\int \\varphi dv = \\sum_{i=1}^{k}a_i v(A_i)\\)</p> <p>Note que este concepto de integraci\u00f3n es complejo, ya que involucra funciones Borel \\(f\\) con respecto a una medida \\(v\\) y podr\u00eda considerarse una especie de promedio ponderado de las medidas por unos pesos \\(a_i\\). A continuaci\u00f3n se tratar\u00e1 de ilustrar este concepto mediante unos ejemplos.</p> Integral de un conjunto contable <p>Sea \\(\\Omega\\) un conjunto contable, \\(\\mathcal{F}\\) todos los subconjuntos de \\(\\Omega\\) y \\(v\\) la medida de conteo. Para cualquier funci\u00f3n Borel \\(f\\) la integral con respecto a \\(v\\) es</p> <p>\\(\\int f d v = \\sum_{\\omega \\in \\Omega} f(\\omega)\\)</p> <p>B\u00e1sicamente esta integral sumar\u00e1 el n\u00famero de elementos en el conjunto \\(\\omega\\).</p> Integral de Riemann <p>Si \\(\\Omega = \\mathbb{R}\\) y \\(v\\) es la medida de Lebesgue, entonces la integral de \\(f\\) sobre el intervalo \\([a,b]\\) coincide con la integral de Riemann de c\u00e1lculo (la de los rect\u00e1ngulos) y usualmente se denota como</p> <p>\\(\\int_{a}^{b}f(x) d x= \\int_{a}^{b} f(x) dx\\)</p> <p>Esta integral de Riemman es muy utilizada en Probabilidad y Estad\u00edstica y es con la que comunmente se trabaja.</p> <p>La notaci\u00f3n de la integral de \\(f\\) puede ser escrita de varias forma, dependiendo si se requiere indicar los l\u00edmites de integraci\u00f3n o las variables de integraci\u00f3n. De hecho en Probabilidad y Estad\u00edstica, la funci\u00f3n de distribuci\u00f3n acumulada \\(F\\) de \\(P\\) puede expresarse como \\(\\int f(x) d P\\) o \\(\\int f(x) d F(x)\\) o simplemente \\(\\int f dF\\); tambien la esperanza de una variable aleatoria \\(X\\) podr\u00eda expresarse como \\(E(X)=\\int X d P\\).</p>"},{"location":"estadistica/estadistica_matematica/#propiedades-de-la-integral","title":"Propiedades de la integral","text":"<p>A continuaci\u00f3n se presentan las propiedades de la integral, estas propiedades resultar\u00e1n muy familiares a las que se estudian en C\u00e1lculo.</p> <p>Propiedades de la integral</p> <p>Sea \\((\\Omega,\\mathcal{F},v)\\) un espacio de medida y \\(f\\) y \\(g\\) funciones Borel.</p> <p>i) \\(\\int a f d v = a \\int f d v, a \\in \\mathbb(R)\\) (Linealidad de la integral)</p> <p>ii) \\(\\int (f + g) d v =  \\int f d v + \\int g d v\\) (Linealidad de la integral)</p> <p>iii) Si \\(f \\le g\\) entonces \\(\\int f d v \\le \\int g d v\\)</p> <p>iv) Si \\(f \\ge 0\\) y \\(\\int f d v = 0\\) entonces \\(f = 0\\).</p> <p>A continuaci\u00f3n se enuncian algunos teoremas que se ocupan mucho en Estad\u00edstica y Probabilidad.</p> <p>Cambio de variable</p> <p>Sea \\(f\\) una funci\u00f3n medible de \\((\\Omega,\\mathcal{F},v)\\) a \\((\\Lambda,\\mathcal{G})\\) y \\(g\\) una funci\u00f3n Borel en \\((\\Lambda,\\mathcal{G})\\). Entonces</p> <p>\\(\\int_{\\Omega}g(f)dv=\\int_{\\Lambda}g d(v(f^{-1}))\\)</p> <p>Note que esta definici\u00f3n es una generalizaci\u00f3n del cambio de variable de la integral de Riemann \\(\\int g(y) dy = \\int g(f(x))f\u00b4(x) dx\\), con \\(y=f(x)\\). A continuaci\u00f3n se dar\u00e1 un ejemplo del uso de este teorema.</p> Una propiedad de la esperanza de X <p>Esta propiedad es muy usada en Probabilidad y estad\u00edstica. Sea \\(X\\) una variable aleatoria en el espacio de probabilidad \\((\\Omega,\\mathcal{F},P)\\). Si se define el valor esperado de X como \\(E(X)=\\int_{\\Omega} X dP\\), uno puede expresarla en t\u00e9rminos de la distribuci\u00f3n de X, es decir</p> <p>\\(E(X)=\\int_{\\mathbb{R}} x d P_X,\\)</p> <p>donde \\(P_X=P(X^{-1})\\) (integral con respecto a la distribuci\u00f3n de X). Usualmente la segunda expresi\u00f3n es la que se encuentra m\u00e1s en los libros de probabilidad, vea por ejemplo la definici\u00f3n de esperanza en la secci\u00f3n Esperanza.</p> <p>El teorema de cambio de variable tambi\u00e9n nos permite encontrar la esperanza de una funci\u00f3n de \\(X\\). Sea \\(Y\\) una variable aleatoria en \\((\\Omega,\\mathcal{F},P)\\) y \\(g\\) una funci\u00f3n Borel. La esperanza de \\(Z =g(Y)\\) puede ser calculada ya sea usando la distribuci\u00f3n de \\(Y\\), es decir, \\(E(g(Y))=\\int_{\\mathbb{R}} g(Y) dP_Y\\) o con la distribuci\u00f3n de \\(g(Y)\\), esto es, \\(E(g(Y))=\\int_{\\mathbb{R}} z dP_{g(y)}\\). Este resultado tambien puede extenderse al caso de transformaciones de variables aleatorias, por ejemplo la suma de dos variables aleatorias, el cual se estudiar\u00e1 m\u00e1s adelante.</p> <p>Teorema de Fubini</p> <p>Sea \\(v_1, v_2\\) una medida en \\((\\Omega_1,\\mathcal{F}_1)\\) y \\((\\Omega_2,\\mathcal{F}_2)\\) respectivamente y sea \\(f\\) una funci\u00f3n Borel en \\((\\Omega_1,\\mathcal{F}_1) \\times (\\Omega_2,\\mathcal{F}_2)\\) cuya integral con respecto a \\(v_1 \\times v_2\\) existe. Entonces la integral</p> <p>\\(\\int_{\\Omega_1} f(\\omega_1,\\omega_2) d v_1\\)</p> <p>existe para \\(v_2\\) y define una funci\u00f3n Borel sobre \\(\\Omega_2\\) cuya integral con respecto a \\(v_2\\) existe, entonces</p> <p>\\(\\int_{\\Omega_1 \\times \\Omega_2} f(\\omega_1,\\omega_2) d v_1 \\times v_2 = \\int_{\\Omega_2} \\left[ \\int_{\\Omega_1} f(\\omega_1,\\omega_2) d v_1 \\right] d v_2\\)</p> <p>Este teorema es una generalizaci\u00f3n de lo que usualmente se realiza en c\u00e1lculo cuando se intercambian los l\u00edmites de integraci\u00f3n.</p> Intercambio del orden de una suma <p>Suponga que \\(\\Omega_1 = \\Omega_2 = \\lbrace 0,1,2,\\dots \\rbrace\\) y sea \\(v_1 = v_2\\) la medida de conteo. Sea \\(f\\) una funci\u00f3n sobre \\(\\Omega_1 \\times \\Omega_2\\) que define una doble secuencia. Entonces</p> <p>\\( \\int_{\\Omega_1 \\times \\Omega_2} f d v_1 \\times v_2 = \\sum_{i=1}^{\\infty} \\sum_{j=1}^{\\infty} f(i,j) = \\sum_{j=1}^{\\infty} \\sum_{i=1}^{\\infty} f(i,j)\\)</p> <p>si la integral existe.</p> Intercambio de l\u00edmites de integraci\u00f3n <p>En Probabilidad y Estad\u00edstica se usa la integral doble para hacer el c\u00e1lculo de probabilidades de una variable aleatoria bivariada. Por ejemplo</p> <p>\\(\\int_{\\Omega_1 \\times \\Omega_2} f(x,y) d P_X \\times P_Y = \\int_{\\Omega_2} \\left[ \\int_{\\Omega_1} f(x,y) d P_X \\right] d P_Y = \\int_{\\Omega_1} \\left[ \\int_{\\Omega_2} f(x,y) d P_Y \\right] d P_X\\)</p> <p>En secciones posteriores se dar\u00e1 m\u00e1s detalles.</p> Suma de dos variable aleatorias <p>Sean \\(X_1\\) y \\(X_2\\) variables aleatorias independientes y \\(Y = X_1 + X_2\\). Muestra que \\(F_Y(y) = \\int F_{X_2}(y-x)d F_{X_1}(x)\\).</p> <p>Usando la t\u00e9cnica de la funci\u00f3n de distribuci\u00f3n acumulada (v\u00e9ase Mood et al. (1974)), la funci\u00f3n de distribuci\u00f3n de \\(Y\\) puede expresarse como:</p> \\[\\begin{align*}     F_Y(y)&amp;=P(Y&lt; y)\\\\     &amp;=P(X_1+X_2&lt;y)\\\\     &amp;=\\int \\int_{x_1+x_2&lt;y} f_{X_1,X_2}(x_1,x_2) dx_1 dx_2\\\\     &amp;= \\int_{-\\infty}^{\\infty} \\left[ \\int_{-\\infty}^{y-x_1} f_{X_1,X_2}(x_1,x_2)  dx_2 \\right] dx_1 \\end{align*}\\] <p>Haciendo \\(u = y-x_1\\)</p> \\[\\begin{align*}     F_Y(y)&amp;= \\int_{-\\infty}^{\\infty} \\left[ \\int_{-\\infty}^{y-x_1} f_{X_1,X_2}(x_1,u)  du \\right] dx_1 \\end{align*}\\] <p>Aplicando el teorema de Fubini y por independencia</p> \\[\\begin{align*}     F_Y(y)&amp;= \\int_{-\\infty}^{y-x_1} \\left[ \\int_{-\\infty}^{\\infty} f_{X_1,X_2}(x_1,u) dx_1 \\right] du \\\\     &amp;= \\int_{-\\infty}^{y-x_1} \\left[ \\int_{-\\infty}^{\\infty} f_{X_1}(x_1) dx_1 \\right]f_{X_2}(u) du\\\\     &amp;= \\int_{-\\infty}^{y-x_1} \\left[ \\int_{-\\infty}^{\\infty} dF_{X_1}(x_1) dx_1 \\right]f_{X_2}(u) du\\\\     &amp;= \\int_{-\\infty}^{\\infty} \\left[ \\int_{-\\infty}^{y-x_1} f_{X_2}(u) du \\right]  dF_{X_1}(x_1) \\\\     &amp;= \\int_{-\\infty}^{\\infty} F_{X_2}(y-x_1)   dF_{X_1}(x_1) \\end{align*}\\] <p>Teorema Radon-Nikodym</p> <p>Sea \\(v\\) y \\(\\lambda\\) dos medidas sobre \\((\\Omega,\\mathcal{F})\\) y \\(v(A) &lt; \\infty\\). Si \\(\\lambda\\) es absolutamente continua con respecto a \\(v\\), es decir \\(v(A)=0\\) implica \\(\\lambda(A) = 0\\), entonces existe una funci\u00f3n Borel no negativa \\(f\\) sobre \\(\\Omega\\) tal que</p> <p>\\(\\lambda(A)=\\int_{A} f d v, A \\in \\mathcal{F} \\)</p> <p>es una medida sobre \\((\\Omega,\\mathcal{F})\\).</p> <p>Este resultado puede considerarse como una generalizaci\u00f3n del teorema fundamental del c\u00e1lculo ya que \\(f\\) es llamada la derivada de Radon-Nikodym con respecto a \\(v\\) y se denota como \\(d \\lambda / d v\\).</p> <p>A continuaci\u00f3n se mencionan algunas propiedades interesantes del Teorema Radon-Nikodym.</p> <p>Propiedades de la derivada Radon-Nikodym</p> <p>Sea \\((\\Omega,\\mathcal{F})\\) un espacio medible y \\(v\\) una medida finita en el espacio medible.</p> <p>i) Si \\(\\lambda\\) es una medida absolutamente continua con respecto a \\(v\\) y \\(f \\ge 0\\), entonces</p> <p>\\(\\int f d \\lambda = \\int f \\frac{d \\lambda}{dv}dv\\)</p> <p>ii) Si \\(\\lambda_1, \\lambda_2\\) son medidas absolutamente continuas con respecto a \\(v\\), entonces</p> <p>\\( \\frac{d(\\lambda_1 + \\lambda_2)}{dv} = \\frac{d \\lambda_1 }{dv} + \\frac{d \\lambda_2}{dv} \\)</p> <p>iii) (Regla de la cadena) Si \\(\\tau\\) es una medida, \\(\\lambda\\) una medida finita y \\(\\tau,\\lambda\\) son medidas absolutamente continuas con respecto a \\(v\\), entonces</p> <p>\\(\\frac{d \\tau}{d v}=\\frac{d \\tau}{d \\lambda}\\frac{d \\lambda}{d v}\\)</p> <p>iv) Sean \\((\\Omega_1,\\mathcal{F}_1,v_1)\\) y \\((\\Omega_2,\\mathcal{F}_2,v_2)\\) espacios de medida con \\(v_1,v_2\\) finitas. Sean \\(\\lambda_1,\\lambda_2\\) medidas en \\((\\Omega_1,\\mathcal{F}_1,v_1)\\) y \\((\\Omega_2,\\mathcal{F}_2,v_2)\\) y absolutamente continuas con respecto a \\(v_1\\) y \\(v_2\\). Entonces</p> <p>\\(\\frac{d(\\lambda_1 \\times \\lambda_2)}{d(v_1 \\times v_2)}(\\omega_1,\\omega_2)=\\frac{d\\lambda_1}{dv_1}(\\omega_1) \\frac{d\\lambda_2}{dv_2}(\\omega_2)\\)</p> Funci\u00f3n de densidad <p>Si \\(\\int f d v=1\\) para una \\(f \\ge 0\\), entonces \\(\\lambda\\) (la funci\u00f3n obtenida al realizar la integral) es una medida de probabilidad y \\(f\\) es llamada su funci\u00f3n de densidad o funci\u00f3n de densidad de probabilidad con respecto a \\(v\\).</p> <p>Sea \\(F\\) es una funci\u00f3n de distribuci\u00f3n diferenciable y \\(P\\) su correspondiente medida de probabilidad. Entonces \\(P(A) = \\int_{A} f d m, A \\in \\mathcal{B}\\) con \\(m\\) una medida de Lebesgue en \\(\\mathbb{R}\\). Por lo tanto \\(f\\) es la funci\u00f3n de densidad de \\(P\\) o \\(F\\) con respecto a la medida de Lebesgue \\(m\\); es por eso que en probabilidad y estad\u00edstica se usen las integrales de c\u00e1lculo y los c\u00e1lculo de las probabilidades se expresen de la forma: </p> <p>\\(F(x)=\\int_{-\\infty}^{x}f(y)dy, x \\in \\mathbb{R}\\)</p> <p>Para una explicaci\u00f3n dede el punto de vista de la probabilidad y ejemplos m\u00e1s detallados, vea la secci\u00f3n funci\u00f3n de densidad.</p> Otra forma de definir la esperanza de X <p>En (Mood et al., 1974) se define la esperanza o media de \\(X\\) como</p> <p>\\(E(X)=\\int_{0}^{\\infty} \\left[ 1- F(x) \\right] dx - \\int_{-\\infty}^{0} \\left[ F(x) \\right] dx\\)</p> <p>Sea \\(X\\) una variable aleatoria que tiene una funci\u00f3n de distribuci\u00f3n acumulada \\(F\\). Se mostrar\u00e1 que si \\(X \\ge 0\\) entonces \\(E(X) = \\int [1- F(x)] dx\\). Se usar\u00e1n los teoremas vistos hasta ahora para mostrar que se cumple para el caso de una variable aleatoria positiva. El procedimiento para una variable aleatoria que tome valores negativos, es similar.</p> <p>Considerando que \\(X\\) es una variable aleatoria positiva, \u00fanicamente se toma en cuenta el intervalo de \\(0&lt;x&lt;\\infty\\):</p> <p>\\(     E(X) = \\int_{0}^{\\infty} [1- F(x)] dx \\)</p> <p>Note que \\(1-F(x)=1-P(X \\le x)=P(X&gt;x)=\\int_{x}^{\\infty}f(y)dy\\), (en este caso \\(y\\) desaparecer\u00e1 cuando se eval\u00faen los l\u00edmites de integraci\u00f3n, ya que no es posible poner a \\(x\\)).</p> <p>Usando el teorema de Radon-Nikodym la esperanza de \\(X\\) puede expresarse como:</p> \\[\\begin{align*}     E(X) &amp;= \\int_{0}^{\\infty} \\left[ \\int_{x}^{\\infty}f(y)dy\\right] dx\\\\     &amp;= \\int_{0}^{\\infty} \\left[ \\int_{x}^{\\infty}dF(y) \\right] dx \\end{align*}\\] <p>Ahora, aplicando cambio de variable y el teorema de Fubini, se pueden intercambiar los l\u00edmites de integraci\u00f3n considerando que \\(0&lt;x&lt;y&lt;\\infty\\):</p> \\[\\begin{align*}     E(X) &amp;= \\int_{0}^{\\infty} \\left[ \\int_{x}^{\\infty}dF(y) \\right] dx\\\\     &amp;= \\int_{0}^{\\infty} \\left[ \\int_{0}^{y} dx\\right] dF(y)\\\\     &amp;= \\int_{0}^{\\infty} \\left[ x|_{0}^{y}\\right] dF(y)\\\\     &amp;= \\int_{0}^{\\infty} y dF(y)\\\\     &amp;= \\int_{0}^{\\infty} x f(x) d x \\end{align*}\\] <p>Lo cual prueba el resultado ya que es la definici\u00f3n usual de media de \\(X\\).</p>"},{"location":"estadistica/estadistica_matematica/#referencias","title":"Referencias","text":"<p>Mood, A., Graybill, F., &amp; Boes, D. (1974). Introduction to the Theory of Statistics. McGraw-Hill.</p> <p>Shao, J. (1999). Mathematical statistics. Springer-Verlag.</p> <p>Muchas de las ideas fueron tomadas del curso Estad\u00edsitca Matem\u00e1tica impartido por el Dr. Juan Manuel Romero en Primavera del 2022 en el Colegio de Postgraduados, Campus Montecillo.</p>"},{"location":"estadistica/inferencia/","title":"Inferencia estad\u00edstica","text":"<p>En la vida real quisi\u00e9ramos estimar valores aproximados de caracter\u00edsticas de inter\u00e9s de una poblaci\u00f3n, por ejemplo la temperatura promedio de cierto lugar.</p> <p> Imagen de Bianca van Dijk en Pixabay</p> <p>Ser\u00eda conveniente tener f\u00f3rmulas generales para poder estimar algo desconocido \u00fanicamente utilizando informaci\u00f3n obtenida a partir de la observaci\u00f3n de fen\u00f3menos; quisi\u00e9ramos que esas f\u00f3rmulas generales sean buenas y que se pudieran utilizar con otros datos. Por ello en este documento se detalla la forma en obtener estimadores de los par\u00e1metros poblacionales que son de inter\u00e9s.</p>"},{"location":"estadistica/inferencia/#propiedades-deseables-de-los-estimadores","title":"Propiedades deseables de los estimadores","text":"<p>Sup\u00f3ngase que \\(\\mathbf{X}=( X_1,X_2,\\ldots,X_n )\\) es una muestra aleatoria de una densidad \\(f_X(x;\\theta)\\) conocida, la cual depende de un par\u00e1metro desconocido[^1] \\(\\theta\\), aunque sabemos que \\(\\theta\\) pertenece a un espacio de par\u00e1metros \\(\\Theta\\). Si \u00fanicamente conocemos la muestra aleatoria (observaciones), \\(\\mathbf{x}\\) que representan una realizaci\u00f3n de \\(\\mathbf{X}\\), \u00bfCu\u00e1l es el valor aproximado de \\(\\theta\\)?.</p> <p>Definici\u00f3n Estad\u00edstica</p> <p>Una estad\u00edstica es una funci\u00f3n de la muestra aleatoria solamente. Note que es una variable aleatoria.</p> <p>Definici\u00f3n Estimador</p> <p>Un estimador del par\u00e1metro \\(\\theta\\) es una estad\u00edstica \\(T=v(\\mathbf{X})\\), funci\u00f3n de la muestra aleatoria, tal que la estimaci\u00f3n \\(t=v(\\mathbf{x}) \\in \\Theta\\).</p> <p>Definici\u00f3n Estimaci\u00f3n</p> <p>Una estimaci\u00f3n es una realizaci\u00f3n de un estimador, es decir, es un n\u00famero real.</p> <p>En otras palabras, para que \\(T\\) sea un estimador[^2], es necesario que al evaluar el estimador en cualquier muestra, \\(T\\) caiga dentro del espacio de par\u00e1metros \\(\\Theta\\). Se desea que los estimadores tengan ciertas propiedades deseables:</p>"},{"location":"estadistica/inferencia/#suficiencia","title":"Suficiencia","text":"<p>Principio de suficiencia</p> <p>Si \\(Y_1=u( X_1,X_2,\\ldots,X_n )\\) es una estad\u00edstica suficiente para \\(\\theta\\), entonces cualquier inferencia sobre \\(\\theta\\) va a depender de la muestra \\(X_1,X_2,\\ldots,X_n\\) \u00fanicamente a trav\u00e9s de la estad\u00edstica suficiente \\(Y_1\\).</p> <p>Es decir si tenemos dos muestras observadas \\(x_1,x_2,\\ldots,x_n\\) y \\(y_1,y_2,\\ldots,y_n\\), entonces la inferencia sobre \\(\\theta\\) ser\u00e1 la misma sin importar que se use la muestra uno \\(\\mathbf{x}=x_1,x_2,\\ldots,x_n\\) o la muestra dos \\(\\mathbf{y}=y_1,y_2,\\ldots,y_n\\); en otras palabras \\(u( x_1,\\ldots,x_n ) =u( y_1,\\ldots,y_n ) \\).</p> <p>La propiedad de suficiencia se refiere a que una estad\u00edstica \\(Y_1\\) concentra toda la informaci\u00f3n acerca del par\u00e1metro de la muestra aleatoria en una sola variable aleatoria. Es decir debe tomar en cuenta a toda la muestra.</p> <p>La estad\u00edstica suficiente es un tipo especial de estad\u00edstica, ya que condensa la informaci\u00f3n de la muestra de tal forma que no se pierda ninguna informaci\u00f3n acerca del par\u00e1metro \\(\\theta\\).</p> <p>Definici\u00f3n Estad\u00edstica suficiente</p> <p>Sea \\(\\mathbf{X}\\) una muestra aleatoria con densidad conjunta \\(f_{\\mathbf{X}}(\\mathbf{x} ;\\theta)\\). Una estad\u00edstica \\(Y_1=u(\\mathbf{X}) \\) es suficiente si y s\u00f3lo si \\(f_{\\mathbf{X}|Y_1 } (\\mathbf{x}|y_1)\\) no depende de \\(\\theta\\).</p> Ilustraci\u00f3n de una estad\u00edstica suficiente <p>Sea \\(X_1, X_2,\\dots, X_n\\) una muestra aleatoria con densidad \\(f_X(x; \\theta) = \\theta e^{\u2212\\theta x}I_{(0,\\infty)}(x)\\), se demostrara que</p> <p>\\(Y_1 = \\sum_{i=1}^{n} Xi\\)</p> <p>es una estad\u00edstica suficiente para \\(\\theta\\), la cual al ser suma de exponenciales, tiene densidad \\(Gamma(n, \\theta)\\), donde \\(\\theta = 1/\\beta\\).</p> <p>En la pr\u00e1ctica, esta definici\u00f3n no es muy \u00fatil ya que implica calcular la densidad condicional y conocer la distribuci\u00f3n de la estad\u00edstica suficiente. Para ello se tiene el siguiente teorema.</p> <p>Teorema de Neyman-Fisher</p> <p>Sea \\(X_1, X_2,\\dots, X_n\\) una muestra aleatoria con densidad \\(f_X(x; \\theta), \\theta \\in (a, b) \\subset \\mathbb{R}\\). Sea \\(Y_1 = u(X)\\) una estad\u00edstica con densidad \\(f_{Y_1}(y_1)\\). \\(Y_1\\) es una estad\u00edstica suficiente para \\(\\theta\\) si y solo si </p> <p>\\(f_X(x) = \\varphi_1(Y_1, \\theta)\\varphi_2(x)\\)</p> <p>la densidad conjunta de las observaciones se puede factorizar de la forma anterior.</p>"},{"location":"estadistica/inferencia/#estimadores-insesgados-de-varianza-uniformemente-minima","title":"Estimadores insesgados de varianza uniformemente m\u00ednima","text":""},{"location":"estadistica/inferencia/#consistencia","title":"Consistencia","text":""},{"location":"estadistica/inferencia/#mejor-asintototicamente-normal","title":"Mejor asint\u00f3toticamente normal","text":""},{"location":"estadistica/inferencia/#completez","title":"Completez","text":""},{"location":"estadistica/inferencia/#la-familia-exponencial","title":"La familia exponencial","text":"<p>Muchas de las distribuciones estudiadas en estad\u00edstica, pueden clasificarse en una familia de distribuciones que se denomina familia exponencial.</p> <p>Familia exponencial</p> <p>Se dice que la distribuci\u00f3n \\(f(y,\\theta)\\) pertenece a la familia exponencial si puede expresarse como:</p> \\[f(y,\\theta)=e^{a(y)b(\\theta)+c(\\theta)+d(y)}\\] <p>Si \\(a(y)=y\\), entonces se dice que la distribuci\u00f3n est\u00e1 en forma can\u00f3nica y \\(b(\\theta)\\) es llamado el par\u00e1metro natural (Dobson &amp; Barnett, 2008).</p> <p>Otra notaci\u00f3n</p> <p>Algunos autores, por ejemplo (Mood et\u00a0al., 1974), definen a la familia exponencial como \\(f(y,\\theta)=a(\\theta)b(y)e^{c(\\theta)d(y)}\\).</p> <p>Esta familia es importante debido a que pueden obtenerse las estad\u00edsticas suficientes y mostrar que son completas f\u00e1cilmente.</p> <p>Estad\u00edsticas suficientes en la familia exponencial</p> <p>Bajo muestra aleatoria, por el criterio de factorizaci\u00f3n \\(\\sum_{i=1}^{n}d(y_i)\\) es una estad\u00edstica suficiente minimal.</p> <p>La definici\u00f3n de familia exponencial puede exterderse para el caso de \\(p\\) par\u00e1metros.</p> <p>La familia exponencial tiene propiedades interesantes, ya que debido a su forma, la media y varianza (si existen) pueden obtenerse f\u00e1cilmente.</p> <p>Media y varianza en la familia exponencial</p> <p>Si \\(a(y)=y\\), entonces: </p> \\[E(Y) = \\frac{-c^{'}(\\theta)}{b^{'}(\\theta)},\\;Var(Y)=\\frac{b^{''}(\\theta)c^{'}(\\theta)-c^{''}(\\theta)b^{'}(\\theta)}{b^{'}(\\theta)^3}\\] Derivaci\u00f3n de la media y varianza en la familia exponencial <p>Primero se aprovecha el hecho de que la distribuci\u00f3n \\(f(y,\\theta)\\) est\u00e1 bien definida \\(\\int f(y,\\theta)dy=1\\), por lo que \\(\\frac{\\partial}{\\partial \\theta}\\int f(y,\\theta)dy=0\\) y \\(\\frac{\\partial^2}{\\partial \\theta^2}\\int f(y,\\theta)dy=0\\).</p> <p>Bajo condiciones de regularidad, es posible intercambiar la integral con la derivada, por lo que \\(\\int \\frac{\\partial}{\\partial \\theta} f(y,\\theta)dy=0\\) y \\(\\int \\frac{\\partial^2}{\\partial \\theta^2} f(y,\\theta)dy=0\\).</p> <p>Note que la primera con respecto a \\(\\theta\\) es:</p> \\[\\frac{\\partial}{\\partial \\theta} f(y,\\theta)=\\left(a(y)b^{'}(\\theta)+c^{'}(\\theta)\\right)f(y,\\theta)\\] <p>y la segunda derivada de la densidad es:</p> \\[\\frac{\\partial^2}{\\partial \\theta^2} f(y,\\theta)=\\left[\\left(a(y)b^{'}(\\theta)+c^{'}(\\theta)\\right)^2+\\left(a(y)b^{''}(\\theta)+c^{''}(\\theta)\\right)\\right]f(y,\\theta)\\] <p>Por lo tanto el resultado con la primer derivada es:</p> <p>\\( \\begin{align*} 0 &amp;=\\frac{\\partial}{\\partial \\theta}\\int f(y,\\theta)dy\\\\   &amp;=\\int \\frac{\\partial}{\\partial \\theta} f(y,\\theta)dy\\\\   &amp;= \\int \\left(a(y)b^{'}(\\theta)+c^{'}(\\theta)\\right)f(y,\\theta) dy\\\\   &amp;= \\left(a(y)b^{'}(\\theta)+c^{'}(\\theta)\\right) \\int f(y,\\theta) dy\\\\   &amp;=a(y)b^{'}(\\theta)+c^{'}(\\theta) \\end{align*} \\)</p> <p>Por lo que \\(a(y)=\\frac{-c^{'}(\\theta)}{b^{'}(\\theta)}\\) y por lo tanto \\(E(a(y))=\\frac{-c^{'}(\\theta)}{b^{'}(\\theta)}\\).</p> <p>Para la segunda derivada, note que \\(\\left[a(y)b^{'}(\\theta)+c^{'}(\\theta)\\right]^2=b^{'}(\\theta)^2\\left[a(y)-E(a(y))\\right]^2\\), por ende</p> <p>\\(     \\begin{align*}     0 &amp;=\\frac{\\partial^2}{\\partial \\theta^2} \\int f(y,\\theta)dy\\\\     &amp;=\\int \\frac{\\partial^2}{\\partial \\theta^2} f(y,\\theta)dy\\\\     &amp; =\\int \\left[\\left(a(y)b^{'}(\\theta)+c^{'}(\\theta)\\right)^2+\\left(a(y)b^{''}(\\theta)+c^{''}(\\theta)\\right)\\right]f(y,\\theta)dy\\\\     &amp;=\\int \\left[b^{'}(\\theta)^2\\left[a(y)-E(a(y))\\right]^2+\\left(a(y)b^{''}(\\theta)+c^{''}(\\theta)\\right)\\right]f(y,\\theta)dy\\\\     &amp;=\\int b^{'}(\\theta)^2\\left[a(y)-E(a(y))\\right]^2f(y,\\theta)dy+\\int a(y)b^{''}(\\theta)f(y,\\theta)dy+\\int c^{''}(\\theta)f(y,\\theta)dy\\\\     &amp;= b^{'}(\\theta)^2 Var(a(y)) + b^{''}(\\theta) E(a(y)) + c^{''}(\\theta)\\\\     &amp;= b^{'}(\\theta)^2 Var(a(y)) + b^{''}(\\theta) \\frac{-c^{'}(\\theta)}{b^{'}(\\theta)} + c^{''}(\\theta)     \\end{align*} \\)</p> <p>Por lo tanto \\(Var(a(y))= \\frac{b^{''}(\\theta) c^{'}(\\theta)-c^{''}(\\theta)b^{'}(\\theta)}{b^{'}(\\theta)^3}\\).</p>"},{"location":"estadistica/inferencia/#estimacion-puntual","title":"Estimaci\u00f3n puntual","text":""},{"location":"estadistica/inferencia/#dos-teoremas-importantes","title":"Dos teoremas importantes","text":""},{"location":"estadistica/inferencia/#metodo-de-momentos","title":"M\u00e9todo de momentos","text":""},{"location":"estadistica/inferencia/#estimadores-de-maxima-verosimilitud","title":"Estimadores de m\u00e1xima verosimilitud","text":"<p>Antes de conocer el m\u00e9todo, se discutir\u00e1 que se entiende por verosimilitud. Esta idea fue desarrollada por Fisher en la d\u00e9cada de 1920 y es uno de los conceptos m\u00e1s usados en estad\u00edstica.</p> <p>La idea de verosimilitud se basa en la probabilidad de observar lo m\u00e1s creible dada una muestra, por lo tanto estos estimadores tratar\u00e1n de maximizar la probabilidad de que haya ocurrido el evento m\u00e1s probable dada cierta informaci\u00f3n.</p> <p>Por ejemplo, si en una carrera de caballos participan 8 caballos en igualdad de condiciones,  pero se sabe que hay un caballo favorito (el cual ya ha ganado varias carreras anteriormente) y \u00e9ste gana la carrera, entonces el caballo ganador seguramente ten\u00eda las mejores condiciones sobre los dem\u00e1s y por l\u00f3gica gan\u00f3 la carrera. De hecho pudo haber ganado cualquier otro caballo, ya que es un evento posble pero con poca probabilidad.</p> <p>Funci\u00f3n de verosimilitud</p> <p>La funci\u00f3n de verosimilitud de \\(n\\) variables aleatorias \\(X_1, X_2,\\dots,X_n\\), denotada como \\(L(\\theta|x)\\), se define como la densidad conjunta de \\(n\\) variables aleatorias \\(f_{X_1,\\dots,X_n}(x_1,\\dots,x_n; \\theta)\\) como funci\u00f3n de \\(\\theta\\). </p> <p>En particular si \\(X1, X_2,\\dots,X_n\\) es una muestra aleatoria de \\(f(x; \\theta)\\), entonces la funci\u00f3n de verosimilitud es \\(\\prod_{i=1}^{n}f(x_i; \\theta)\\).</p> <p>Funci\u00f3n de log-verosimilitud</p> <p>En ocasiones se prefiere trabajar con el logaritmo de la funci\u00f3n de verosimilitud, denotado como \\(l(\\theta|x)=\\log \\left(L(\\theta|x) \\right)\\). </p> <p>Note que bajo muestreo aleatorio \\(l(\\theta|x)=\\sum_{i=1}^{n}\\log \\left(f(x; \\theta) \\right)\\).</p> Funci\u00f3n de verosimilitud de lanzamiento de monedas <p>Suponga que se lanza una moneda 5 veces y resulta que s\u00f3lo cae un \u00e1guila. Se sospecha que la moneda est\u00e1 cargada (\\(p = 0.2\\)), pero el due\u00f1o de la moneda asegura que la moneda es legal (\\(p = 0.5\\)). De acuerdo a los datos, \u00bfc\u00faal de los dos afirmaciones es m\u00e1s plausible?</p> <p>Note que la funci\u00f3n de distribuci\u00f3n conjunta puede expresarse como:</p> <p>\\(f_{\\mathbf{X}}(\\mathbf{x},p)=\\prod_{i=1}^5 p^{x_i}\\left(1-p\\right)^{1-x_i}=p^{y}\\left(1-p\\right)^{5-y}  \\)</p> <p>donde \\(y=\\sum_{i=1}^5\\). Debido a que se observ\u00f3 s\u00f3lo un \u00e1guila, \\(y=1\\) y la funci\u00f3n de verosimiltud \u00fanicamente depende de \\(p\\). Haciendo los c\u00e1lculos, se tiene que </p> <p>\\(  L(p|y=1) =   \\begin{cases}  0.08192 &amp; \\text{ si } p = 0.2 \\\\  0.03125 &amp; \\text{ si } p = 0.5  \\end{cases}  \\)</p> <p>Si se toma la log-verosimilitud \\(l(p|\\mathbf{x})=1*\\log(p)+4*\\log(1-p)\\) , se obtiene el siguiente resultado.</p> <p>\\(  l(p|y=1) =   \\begin{cases}  -2.5020 &amp; \\text{ si } p = 0.2 \\\\  -3.4657 &amp; \\text{ si } p = 0.5  \\end{cases}  \\)</p> <p>Note que en ambos casos la conclusi\u00f3n es la misma: la verosimilitud (o log-verosimilitud) es m\u00e1s grande en \\(p=0.2\\).</p> <p>Por lo tanto se concluye que, dada la muestra \\(p=0.2\\) es m\u00e1s plausible que la moneda est\u00e9 cargada, ya que la funci\u00f3n de verosimiltud es mayor.</p> <p>A continuaci\u00f3n se dar\u00e1 una definici\u00f3n para obtener un estimador de m\u00e1xima verosimilitud.</p> <p>Estimador de m\u00e1xima verosimilitud</p> <p>Sea \\(L(\\theta|x_1, x_2,\\dots, x_n)\\) la funci\u00f3n de verosimilitud para las variables \\(X_1, X_2,\\dots, X_n\\). Si \\(\\hat{\\theta}\\) es un valor de \\(\\theta \\in \\Theta\\) que maximiza la funci\u00f3n de verosimilitud \\(L(\\theta|x_1, x_2,\\dots, x_n)\\), entonces \\(\\hat{\\theta}\\) es una estimaci\u00f3n de \\(\\theta\\) de la muestra observada \\(x_1, x_2,\\dots, x_n\\) espec\u00edficamente.</p> <p>Si fuera posible encontrar una funci\u00f3n que dependa s\u00f3lo de la muestra aleatoria y que siempre maximizara \\(L(\\theta|x_1, x_2,\\dots, x_n)\\), para cualquier muestra \\(X_1, X_2,\\dots, X_n\\), entonces \\(\\hat{\\theta}_X\\) es el estimador de m\u00e1xima verosimilitud.</p> <p>Se mostrar\u00e1n algunos ejemplos en los cuales es posible encontrar el estimador de m\u00e1xima verosimilitud.</p> Estimador de M\u00e1xima Verosimilitud del lanzamiento de una moneda <p>Suponga que se lanza una moneda \\(n\\) veces. Encontrar el estimador de m\u00e1xima verosimilitud para \\(\\theta\\).</p> <p>Note que \\(n\\) lanzamienton de moneda \\(X_1, X_2,\\dots, X_n\\) pueden considerarse como una muestra aleatoria de la distribuci\u00f3n \\(Ber(\\theta)\\) con \\(\\theta \\in (0, 1) = \\Theta\\). Usando la funci\u00f3n de densidad conjunta del ejemplo anterior:</p> <p>\\(f_{\\mathbf{X}}(\\theta,\\mathbf{x}) = \\theta^{\\sum_{i=1}^n x_i}\\left(1-\\theta\\right)^{n-\\sum_{i=1}^n x_i}\\)</p> <p>Una vez observada la muestra, la funci\u00f3n de verosimilitud puede expresarse como \u00fanicamente como funci\u00f3n de \\(\\theta\\), por lo que basta con encontrar \\(\\hat{\\theta}\\) que maximice \\(L(\\theta|x_1, x_2,\\dots, x_n)\\). Note que \\(L(\\theta|x_1, x_2,\\dots, x_n)\\) es continua en el intervalo (0,1), por lo que es posible encontrar la derivada de \\(L(\\theta|x_1, x_2,\\dots, x_n)\\) y hallar su soluci\u00f3n.</p> <p>\\(  \\frac{\\partial L(\\theta|x_1, x_2,\\dots, x_n)}{\\partial \\theta} = \\frac{\\sum_{i=1}^n x_i}{\\theta}-\\frac{n-\\sum_{i=1}^n x_i}{1-\\theta}=0  \\)</p> <p>Cuya soluci\u00f3n es \\(\\hat{\\theta} = \\frac{\\sum_{i=1}^n x_i}{n}\\). </p> <p>Para comprobar que este valor cr\u00edtico en un punto m\u00e1ximo, se usa el criterio de la segunda derivada.</p> <p>\\(  \\frac{\\partial ^2 L(\\theta|x_1, x_2,\\dots, x_n)}{\\partial \\theta^2} = \\frac{-2\\sum_{i=1}^n x_i}{\\theta}-\\frac{n-\\sum_{i=1}^n x_i}{1-\\theta}&lt;0  \\)</p> <p>Lo cual implica que \\(\\frac{\\sum_{i=1}^n x_i}{n}\\) maximiza la funci\u00f3n de verosimilitud.</p> <p>Por lo tanto \\(\\hat{\\theta}=\\frac{\\sum_{i=1}^n x_i}{n}=\\bar{x}\\) es la estimaci\u00f3n de m\u00e1xima verosimilitud de \\(\\theta\\) cuando observamos \\(x_1,x_2,\\dots,x_n\\).</p> <p>Como esto ocurrir\u00e1 en cada muestra \\(\\mathbf{X}\\), entonces el estimador de m\u00e1xima verosimilitud ser\u00e1:</p> <p>\\(\\hat{\\theta}=\\bar{X}=\\frac{\\sum_{i=1}^n X_i}{n}\\)</p> <p>Aunque hasta el momento se ha considerado distribuciones que tienen \u00fanicamente un par\u00e1metro \\(\\theta\\), esta idea puede generalizarse para un vector de par\u00e1metros.</p>"},{"location":"estadistica/inferencia/#propiedades-de-los-estimadores-de-maxima-verosimilitud","title":"Propiedades de los estimadores de M\u00e1xima verosimilitud","text":"<p>A continuaci\u00f3n mencionaremos caracter\u00edsticas importantes de los estimadores de m\u00e1xima verosimilitud.</p> <p>Condiciones de regularidad</p> <p>Se dice que una densidad \\(f_X(x;\\theta)\\) es regular si:</p> <ul> <li>El soporte de \\(X\\) no depende de \\(\\theta\\).</li> <li>\\(f_X(x;\\theta)\\) es diferencible.</li> <li>\\(\\theta\\) no est\u00e1 en la frontera del espacio param\u00e9trico \\(\\Theta\\).</li> </ul> <p>Propiedades de los estimadores de m\u00e1xima verosimilitud</p> <p>Bajo condiciones de regularidad, los estimadores de m\u00e1xima verosimilitud tienen las siguientes propiedades:</p> <ul> <li>Mejores asint\u00f3ticamente normales.</li> <li>Consistentes en error cuadrado medio.</li> <li>Son funci\u00f3n de estad\u00edstica suficiente (y minimal).</li> <li>Son invariantes (si \\(g\\) es una funci\u00f3n invertible, entonces \\(\\hat{g(\\theta)} = g(\\hat{\\theta})\\)).</li> <li>No necesariamente insesgados.</li> </ul> <p>Antes de entrar en detalles acerca de la distribuci\u00f3n de los estimadores de m\u00e1xima verosimilitud, se definir\u00e1 un concepto muy importante en inferencia y ser\u00e1 de gran utilidad en otros cursos.</p> <p>Informaci\u00f3n de Fisher</p> <p>Sea \\(f_X(x;\\theta)\\) una densidad regular. La informaci\u00f3n de Fisher para una sola observaci\u00f3n se define como:</p> <p>\\(I_x(\\theta)=-E\\left(\\frac{\\partial ^2}{\\partial \\theta ^2}l(\\theta|x)\\right)\\).</p> <p>Si \\(\\mathbf{X}\\) es una muestra aleatoria de tama\u00f1o \\(n\\), entonces la informaci\u00f3n de Fisher para la muestra se define como:</p> <p>\\(I_n(\\theta)=-E\\left(\\frac{\\partial ^2}{\\partial \\theta ^2}\\sum_{i=1}^{n}\\log \\left(f(x; \\theta) \\right)\\right)= nI_x(\\theta)\\) </p> <p>Funci\u00f3n Score</p> <p>A la derivada de la funci\u00f3n de verosimilitud \\(S(\\theta)=\\frac{\\partial}{\\partial \\theta} l(\\theta|x)\\), se le conoce como funci\u00f3n Score y tiene las siguientes propiedades:</p> <ul> <li>\\(E(S(\\theta))=0\\)</li> <li>\\(V(S(\\theta))=I_x(\\theta)\\)</li> </ul>"},{"location":"estadistica/inferencia/#bibliografia","title":"Bibliograf\u00eda","text":"<p>Dobson, A., &amp; Barnett, A. (2008). An Introduction to Generalized Linear Models (Third Edition). CRC Press.</p> <p>Mood, A., Graybill, F., &amp; Boes, D. (1974). Introduction to the Theory of Statistics. McGraw-Hill.</p> <p>Muchas de las ideas fueron tomadas del curso Inferencia Estad\u00edstica impartido por el Dr. Jos\u00e9 Villase\u00f1or en el cuatrimestre Oto\u00f1o de 2014 en el Colegio de Postgraduados, Campus Montecillo.</p>"},{"location":"estadistica/modelos_lineales/","title":"Modelos Lineales","text":""},{"location":"estadistica/modelos_lineales/#introduccion","title":"Introducci\u00f3n","text":"<p>Los Modelos Lineales es un conjunto de teor\u00edas y metodolog\u00edas en los cuales se estudia la asociaci\u00f3n lineal de un conjunto de covariables \\(x\\) con una variable respuesta \\(y\\). Las covariables pueden ser de tipo continua o categ\u00f3rica, pero la respuesta debe ser continua.</p> <p>Algunos de los modelos que pueden ser estudiados por los modelos lineales son los siguientes.</p> <ul> <li>Regresi\u00f3n lineal</li> <li>An\u00e1lisis de Varianza</li> <li>An\u00e1lisis de Covarianza</li> </ul> <p>Los modelos lineales en general pueden expresarse de la siguiente manera</p> \\[ y = f(x,\\beta) + e \\] <p>donde \\(f\\) es una funci\u00f3n (lineal), \\(\\beta\\) es un par\u00e1metro de inter\u00e9s y \\(e\\) es un t\u00e9rmino de error aleatorio, en general se pretende explicar a la variable respuesta por medio de una relaci\u00f3n de las variables explicativas y par\u00e1metros m\u00e1s un t\u00e9rmino de error aleatorio. Para fines pr\u00e1cticos, es preferible expresarlos en t\u00e9rminos de matrices y vectores.</p> \\[ \\mathbf{y} = \\mathbf{X} \\vec{\\beta} + \\mathbf{e} \\] <p>donde \\(\\mathbf{y}\\) es el vector de observaciones de la variable respuesta, \\(\\mathbf{X}\\) es la matriz dise\u00f1o que contiene las covariables o variables explicativas, \\(\\vec{\\beta}\\) es un vector que contiene los par\u00e1metros del modelo y \\(\\mathbf{e}\\) es el vector de errores del modelo.</p> <p>A continuaci\u00f3n se ilustran algunos ejemplos de modelos lineales.</p> Regresi\u00f3n lineal simple <p>El siguiente ejemplo fue tomado de Rencher y Schaalje (2008). Se desea conocer si la calificaci\u00f3n promedio de las tareas \\(x\\) incide en la calificaci\u00f3n final \\(y\\) para un grupo de 18 alumnos. Un modelo de regresi\u00f3n lineal puede establecer esta relaci\u00f3n de la siguiente manera:</p> \\[ y_i = \\beta_0 + \\beta_1 x_i + e_i \\] <p>Puede ser expresado en forma matricial de la siguiente manera</p> \\[ \\begin{pmatrix} 95 \\\\ 80 \\\\ \\vdots \\\\ 66 \\end{pmatrix} =  \\begin{pmatrix} 1 &amp; 96 \\\\ 1 &amp; 77 \\\\ \\vdots &amp; \\vdots \\\\ 1 &amp; 67 \\end{pmatrix}  \\begin{pmatrix} \\beta_0 \\\\ \\beta_1 \\end{pmatrix} +  \\begin{pmatrix} e_1 \\\\ e_2 \\\\ \\vdots \\\\ e_{18} \\end{pmatrix} \\] Modelo ANOVA balanceado de una v\u00eda <p>Un modelo ANOVA de una v\u00eda puede expresarse como un modelo lineal.</p> \\[ y_{ij} = \\mu + \\tau_i + e_{ij} \\] <p>donde \\(y_{ij}\\) es la respuesta de la j-\u00e9sima observaci\u00f3n que recibi\u00f3 el i-\u00e9simo tratamiento, \\(\\tau_{ij}\\) es el efecto del tratamiento \\(i\\), \\(\\mu\\) es la media general y \\(e_{ij}\\) es el error experimental. Este modelo puede expresarse de forma matricial suponiendo que hay \\(k\\) tratamientos y 2 r\u00e9plicas:</p> \\[ \\begin{pmatrix} y_{11} \\\\ y_{12} \\\\ \\vdots \\\\ y_{k2} \\end{pmatrix} =  \\begin{pmatrix} 1 &amp; 1 &amp; \\dots &amp; 0 \\\\ 1 &amp; 1 &amp; \\dots &amp; 0\\\\ \\vdots &amp; \\vdots &amp; \\ddots &amp; \\vdots \\\\ 1 &amp; 0 &amp; \\dots &amp; 1 \\end{pmatrix}  \\begin{pmatrix} \\mu \\\\ \\tau_1 \\\\ \\vdots \\\\ \\tau_k \\end{pmatrix} +  \\begin{pmatrix} e_{11} \\\\ e_{12} \\\\ \\vdots \\\\ e_{k2} \\end{pmatrix} \\] <p>Como se mostr\u00f3 en los ejemplos anteriores, la matriz dise\u00f1o juega un papel muy importante ya que dependiendo de su estructura, se podr\u00e1n obtener estimadores de los par\u00e1metros del modelo, por lo que es importante estudiarla con detalle. A continuaci\u00f3n se da una definici\u00f3n muy importante para caracterizar a las matrices dise\u00f1o que son usadas en los modelos lineales</p> <p>Dependencia lineal</p> <p>Se dice que un conjunto de vectores \\(\\mathbf{x}_1,\\mathbf{x}_2,\\dots,\\mathbf{x}_p\\) son linealmente dependientes si existen escalares \\(c_1,c_2,\\dots, c_p\\) (no todos ceros) tales que</p> \\[ c_1 \\mathbf{x}_1 + c_2 \\mathbf{x}_2 + \\dots + c_p \\mathbf{x}_p = \\mathbf{0} \\] <p>En otras palabras los vectores \\(\\mathbf{x}_1,\\mathbf{x}_2,\\dots,\\mathbf{x}_p\\) son linealmente independientes si \\(c_1 = c_2 = \\dots = c_p = 0\\).</p> <p>Rango de una matriz</p> <p>Sea \\(\\mathbf{X}\\) una matriz de dimensi\u00f3n \\(n \\times p\\). El rango de una matriz es el n\u00famero de columnas (o renglones) linealmente independientes. Se dice que la matriz \\(\\mathbf{X}\\) es de rango completo si</p> \\[ R(\\mathbf{X}) = \\min(n,p) \\] <p>En el caso que \\(R(\\mathbf{X}) &lt; \\min(n,p)\\), se dice que la matriz es de rango incompleto.</p> <p>En la siguiente secci\u00f3n se estudiar\u00e1 m\u00e1s a detalle los modelos lineales de acuerdo a su rango.</p> <p>Debido a que es com\u00fan trabajr con matrices y vectores, se ilustrar\u00e1 de forma breve c\u00f3mo usar software estad\u00edstico para introducir matrices de forma manual. En secciones posteriores se usar\u00e1n rutinas m\u00e1s completas y eficientes para realizar estas tareas.</p> Modelo lineal con software <p>Se usar\u00e1 el ejemplo 6.2 de Rencher y Schaalje (2008) para mostrar c\u00f3mo introducir los datos en forma matricial</p> JuliaPythonRSAS <p>Primero se definir\u00e1 el vector <code>y</code> que contiene las calificaciones finales y posteriormente la matriz dise\u00f1o <code>X</code>.</p> <pre><code>y = [95, 80, 0, 0, 79, 77, 72, 66, 98, 90, 0, 95, 35, 50, 72, 55, 75, 66]\nX = [1 96; 1 77; 1 0; 1 0; 1 78; 1 64; 1 89; 1 47; 1 90; 1 93; 1 18; 1 86; 1 0; 1 30; 1 59; 1 77; 1 74; 1 67;]\n</code></pre> <p>Para poder trabajar con vectores y matrices, se debe cargar la librer\u00eda <code>numpy</code>.</p> <pre><code>import numpy as nu\ny =  nu.array([95, 80, 0, 0, 79, 77, 72, 66, 98, 90, 0, 95, 35, 50, 72, 55, 75, 66])\nX = nu.array([[1, 96], [1, 77], [1, 0], [1, 0], [1, 78], [1, 64], [1, 89], [1, 47], [1, 90],\n    [1, 93], [1, 18], [1, 86], [1, 0], [1, 30], [1, 59], [1, 77], [1, 74], [1, 67]])\n</code></pre> <p>En R existen funciones nativas para crear matrices y vectores de forma sencilla.</p> <pre><code>y = c(95, 80, 0, 0, 79, 77, 72, 66, 98, 90, 0, 95, 35, 50, 72, 55, 75, 66)\nX = matrix(c(1, 96, 1, 77, 1, 0, 1, 0, 1, 78, 1, 64, 1, 89, 1, 47, 1, 90, 1, 93,\n1, 18, 1, 86, 1, 0, 1, 30, 1, 59, 1, 77, 1, 74, 1, 67), ncol = 2, byrow = T)\n</code></pre> <p>En SAS se requiere el uso del m\u00f3dulo SAS/IML con el fin de usar el lenguaje de matrices y vectores.</p> <pre><code>PROC IML;\ny = {95, 80, 0, 0, 79, 77, 72, 66, 98, 90, 0, 95, 35, 50, 72, 55, 75, 66};\nX = {1  96, 1  77, 1  0, 1  0, 1  78, 1  64, 1  89, 1  47, 1  90, 1  93, 1  18,\n    1  86, 1  0, 1  30, 1  59, 1  77, 1  74, 1  67};\nQUIT;\n</code></pre>"},{"location":"estadistica/modelos_lineales/#inferencia","title":"Inferencia","text":"<p>Dado el modelo lineal \\(\\mathbf{y} = \\mathbf{X} \\vec{\\beta} + \\mathbf{e}\\) donde \\(\\mathbf{y}\\) es el vector de observaciones de la variable respuesta, \\(\\mathbf{X}\\) es la matriz dise\u00f1o que contiene las covariables o variables explicativas, \\(\\vec{\\beta}\\) es un vector que contiene los par\u00e1metros del modelo y \\(\\mathbf{e}\\) es el vector de errores del modelo. Se asume que \\(E(\\mathbf{e}) = \\mathbf{0}\\) y \\(V(\\mathbf{e}) = \\sigma^2 I\\).</p> <p>Para encontrar el estimador de \\(\\vec{\\beta}\\), denotado como \\(\\hat{\\beta}\\) mediante el m\u00e9todo de M\u00ednmos Cuadrados Ordinarios.</p> Derivaci\u00f3n del m\u00e9todo de M\u00ednimos Cuadrados Ordinarios <p>El estimador de m\u00ednimos cuadrados es el vector que minimiza la suma de cuadrados del vector \\(\\mathbf{y}\\) con respecto a \\(\\mathbf{X} \\vec{\\beta}\\).</p> <p>\\( \\begin{align*} S(\\vec{\\beta}) &amp;= (\\mathbf{y}-\\mathbf{X} \\vec{\\beta})^\u00b4(\\mathbf{y}-\\mathbf{X} \\vec{\\beta})\\\\ &amp; = \\mathbf{y}^\u00b4\\mathbf{y} - 2 \\vec{\\beta}^\u00b4 \\mathbf{X}^\u00b4\\mathbf{y} + \\vec{\\beta}^\u00b4\\mathbf{X}^\u00b4\\mathbf{X}\\vec{\\beta} \\end{align*} \\)</p> <p>Para hallar el m\u00ednimo se deriva con respecto a \\(\\vec{\\beta}\\) y se iguala a cero.</p> \\[ \\frac{\\partial}{\\partial \\vec{\\beta}}S(\\vec{\\beta}) = - 2 \\mathbf{X}^\u00b4\\mathbf{y} + 2 \\mathbf{X}^\u00b4\\mathbf{X}\\vec{\\beta} = 0 \\] <p>Al sistema de ecuaciones resultante \\(\\mathbf{X}^\u00b4\\mathbf{X}\\vec{\\beta} = \\mathbf{X}^\u00b4\\mathbf{y}\\) se le conoce como Ecuaciones Normales. Al resolver este sistema de ecuaciones si la inversa \\((\\mathbf{X}^\u00b4\\mathbf{X})^{-1}\\) existe  , se obtiene el estimador de m\u00ednimos cuadrados ordinarios, dados por:</p> \\[ \\hat{\\beta} = (\\mathbf{X}^\u00b4\\mathbf{X})^{-1}\\mathbf{X}^\u00b4\\mathbf{y} \\]"},{"location":"estadistica/modelos_lineales/#modelos-de-rango-completo","title":"Modelos de rango completo","text":""},{"location":"estadistica/modelos_lineales/#modelos-de-rango-incompleto","title":"Modelos de rango incompleto","text":""},{"location":"estadistica/modelos_lineales/#referencias","title":"Referencias","text":"<ul> <li>Rencher, Alvin C., y G. Bruce Schaalje. 2008. Linear Models in Statistics. 2nd ed. New Jersey: John Wiley &amp; Sons.</li> </ul>"},{"location":"estadistica/modelos_lineales_generalizados/","title":"Modelos Lineales Generalizados","text":""},{"location":"estadistica/modelos_lineales_generalizados/#introduccion","title":"Introducci\u00f3n","text":"<p>Los modelos lineales generalizados (MLG) son una poderosa herramienta para el an\u00e1lisis de datos, cuya caracter\u00edstica principal es que la variable respuesta no necesariamente es normal, por lo que se extiende a varias distribuciones.</p> <p>Un caso particular de estos modelos es el modelo de regresi\u00f3n lineal, aunque tambi\u00e9n lo son la regresi\u00f3n Poisson o regresi\u00f3n Log\u00edstica.</p> <p>A continuaci\u00f3n se definir\u00e1 a los modelos lineales generalizados.</p> <p>Definici\u00f3n</p> <p>Sean \\(Y_1,Y_2,\\dots,Y_n\\) variables aleatorias independientes con distribuci\u00f3n \\(f_{Y}(y_i;\\theta_i)=e^{y_i b(\\theta_i)+c(\\theta_i)+d(y_i)}\\). Entonces se tienen las siguientes caracter\u00edsticas:</p> <p>1) \\(f_Y(y_i;\\theta_i)\\) pertenece a la familia exponencial.</p> <p>2) Si \\(E(Y_i)=\\mu_i\\), con \\(h(\\theta_i)=\\mu_i\\), entonces \\(g(\\mu_i)=\\eta_i\\).</p> <p>3) \\(g\\) es una funci\u00f3n mon\u00f3tona y diferenciable y se le conoce como funci\u00f3n enlace.</p> <p>Note que \\(g(\\mu_i)\\) es una funci\u00f3n del predictor lineal \\(\\eta_i=\\beta_0+\\beta_1X_{i1}+\\dots+\\beta_p X_{ip}\\) el cual est\u00e1 formado por por covariables \\(X_j,j=1,2,\\dots,p&lt;n\\) y par\u00e1metros desconocidos \\(\\beta_0, \\beta_1,\\dots,\\beta_p\\), por lo que estos par\u00e1metros son de inter\u00e9s.</p> <p>A continuaci\u00f3n se presentan algunos ejemplo de los modelos lineales generalizados m\u00e1s usados en estad\u00edstica.</p> Modelo de regresi\u00f3n lineal <p>El modelo de regresi\u00f3n lineal puede considerarse como un caso particular de un modelo lineal generalizado, ya que cumple con las 3 caracter\u00edsticas descitas anteriormente.</p> <p>1) \\(Y_i \\sim N(\\mu_i,\\sigma^2)\\) (La distribuci\u00f3n normal pertenece a la familia exponencial).</p> <p>2) \\(E(Y_i)=\\mu_i=\\beta_0+\\beta_1X_{i1}+\\dots+\\beta_p X_{ip}\\) (El valor esperado de \\(Y_i\\) es el predictor lineal).</p> <p>3) \\(g(\\mu_i)=\\mu_i\\) (funci\u00f3n enlace identidad).</p> Modelo de regresi\u00f3n log\u00edstica <p>El modelo de regresi\u00f3n log\u00edstica tambien es considerado un caso particular de un modelo lineal generalizado, este modelo es usado para modelar probabilidades de \u00e9xito con variable respuesta binaria o de conteos.</p> <p>1) \\(Y_i \\sim Ber(p_i)\\) para datos con respuesta binaria o \\(Y_i \\sim Bin(n_i,p_i)\\) para datos agrupados.</p> <p>2) \\(\\log \\left(\\frac{p_i}{1-p_i}\\right)=\\beta_0+\\beta_1X_{i1}+\\dots+\\beta_p X_{ip}\\)</p> <p>3) La funci\u00f3n logit es mon\u00f3tona (es la inversa de la funci\u00f3n log\u00edstica).</p> Modelo de regresi\u00f3n Poisson <p>Otro modelo que puede considerarse un caso particular de los modelos lineales generalizados es la regresi\u00f3n Poisson.</p> <p>1) \\(Y_i \\sim Poi(\\lambda_i)\\).</p> <p>2) \\(\\log \\lambda_i = \\beta_0+\\beta_1X_{i1}+\\dots+\\beta_p X_{ip}\\).</p> <p>3) \\(g\\) es mon\u00f3tona (La inversa de la funci\u00f3n logaritmo es la funci\u00f3n exponencial).</p>"},{"location":"estadistica/modelos_lineales_generalizados/#estimacion","title":"Estimaci\u00f3n","text":"<p>Usando el supuesto de que las observaciones son independientes, es posible construir la funci\u00f3n de verosimilitud</p> \\[L(\\theta_i|\\mathbf{x},y)=e^{\\sum_{i=1}^n y_i b(\\theta_i)+c(\\theta_i)+d(y_i)}\\] <p>sin embargo en ocasiones es preferible trabajar con la funci\u00f3n de log-verosimilitud.</p> \\[l(\\theta_i|\\mathbf{x},y)=\\sum_{i=1}^n y_i b(\\theta_i)+\\sum_{i=1}^n c(\\theta_i)+\\sum_{i=1}^n d(y_i)\\] <p>Las estimaciones de los par\u00e1metros se obtienen maximizando esa funci\u00f3n. En general, no es posible encontrar una soluci\u00f3n anal\u00edtica cerrada de la funci\u00f3n de log-verosimilitud.</p> <p>A continuaci\u00f3n se muestran algunos m\u00e9todos para la estimaci\u00f3n de par\u00e1metros.</p>"},{"location":"estadistica/modelos_lineales_generalizados/#metodo-de-scoring","title":"M\u00e9todo de Scoring","text":"<p>Este m\u00e9todo puede ser considerado como una variante del m\u00e9todo de Newton-Raphson, en el cual los par\u00e1metros se estiman de forma iterativa</p> <p>\\(\\theta^{(i+1)}=\\theta^{(i)}+\\mathbf{I}\\left(\\theta^{(i)}\\right)^{-1}\\mathbf{U}\\left(\\theta^{(i)}\\right)\\)</p> <p>donde \\(\\mathbf{U}=\\frac{\\partial l(\\theta|\\mathbf{x},y)}{\\partial \\theta}\\) es conocido como vector score o gradiente y \\(\\mathbf{I}=-E\\left(\\frac{\\partial^2 l(\\theta|\\mathbf{x},y)}{\\partial \\theta^2}\\right)\\) es la informaci\u00f3n.</p> <p>Note que si no se tienen covariables, este m\u00e9todo puede ser usado directamente para estimar a \\(\\theta_i\\) como se muestra en el siguiente ejemplo.</p>"},{"location":"estadistica/modelos_lineales_generalizados/#minimos-cuadrados-ponderados-iterativos","title":"M\u00ednimos cuadrados ponderados iterativos","text":"<p>Para los modelos lineales generalizados, el vector score puede escribirse como</p> <p>\\( \\mathbf{U}= \\left(U_j\\right), j=1,\\dots,p \\)</p> <p>donde \\(U_j=\\sum_{i_1}^n\\frac{(y_i-\\mu_i)}{Var(Y_i)}x_{ij}\\frac{\\partial \\mu_i}{\\partial \\eta_i}\\) y la matriz de Informaci\u00f3n como</p> <p>\\( \\mathbf{I}=\\lbrace I_{jk} \\rbrace, j,k=1,\\dots,p \\)</p> <p>donde \\(I_{jk}=\\frac{x_{ij}x_{ik}}{Var(Y_i)}\\left(\\frac{\\partial \\mu_i}{\\partial \\eta_i}\\right)^2\\). Vea el cap\u00edtulo 4 de (Dobson &amp; Barnett, 2008) para mayores detalles.</p> <p>Usando las ecuaciones del m\u00e9todo de Scoring se tiene que</p> <p>\\( \\begin{align*} \\mathbf{b}^{(i+1)}&amp;=\\mathbf{b}^{(i)} + \\left(\\mathbf{I}^{(i)}\\right)^{-1}\\mathbf{U}^{(i)}\\\\ \\mathbf{I}^{(i)}\\mathbf{b}^{(i+1)}&amp;=\\mathbf{I}^{(i)}\\mathbf{b}^{(i)} + \\mathbf{U}^{(i)} \\end{align*} \\)</p> <p>donde \\(\\mathbf{b}\\) es un vector que contiene estimaciones de los par\u00e1metros de inter\u00e9s.</p> <p>Note que la informaci\u00f3n puede expresarse de forma matricial como \\(\\mathbf{I}=\\mathbf{X}^t\\mathbf{W}\\mathbf{X}\\), donde \\(\\mathbf{W}\\) es una matriz diagonal de dimensi\u00f3n \\(n \\times n\\) con elementos \\(w_i=\\frac{1}{Var(Y_i)}\\left(\\frac{\\partial \\mu_i}{\\partial \\eta_i}\\right)^2\\), tambi\u00e9n se puede construir un vector \\(\\mathbf{z}\\) con elementos \\(z_i=\\sum_{k=1}^{p}x_{ik}b_k^{(i)}+(y_i-\\mu_i)\\left(\\frac{\\partial \\mu_i}{\\partial \\eta_i}\\right)\\), por lo que las ecuaciones se pueden representar como</p> <p>\\( \\mathbf{X}^t\\mathbf{W}\\mathbf{X}\\mathbf{b}^{(i+1)}=\\mathbf{X}^t\\mathbf{W}\\mathbf{z} \\)</p> <p>Estas ecuaciones son similares a las ecuaciones normales, aunque deben ser resueltas de forma iterativa ya que \\(\\mathbf{z}\\) y \\(\\mathbf{W}\\) dependen del valor de \\(\\mathbf{b}\\) anterior.</p> M\u00ednimos cuadrados ponderados iterativos en el modelo normal <p>Sea \\(Y_1,Y_2,\\dots,Y_n\\) variables aleatoria independientes con \\(Y_i \\sim N(\\mu_i,\\sigma^2)\\).</p> <p>De las propiedades de la distribuci\u00f3n normal se sabe que \\(E(Y_i)=\\mu_i\\), \\(Var(Y_i)=\\sigma^2\\), adem\u00e1s se puede modelar su media \\(\\mu_i\\) directamente a trav\u00e9s del predictor lineal \\(\\eta_i\\), es decir \\(g(\\mu_i)=\\mu_i=\\eta_i\\).</p> <p>Se puede construir la matriz \\(\\mathbf{W}\\) con elementos de la diagonal iguales a \\(w_i=\\frac{1}{\\sigma^2}\\) ya que \\(\\frac{\\partial \\mu_i}{\\partial \\eta_i}=1\\). El vector \\(\\mathbf{z}\\) puede expresarse como \\(\\mathbf{z}=\\eta_i+(y_i-\\eta_i)=y_i\\).</p> <p>Por lo que \\(\\mathbf{X}^t\\mathbf{W}\\mathbf{X}=\\frac{1}{\\sigma^2}\\mathbf{X}^t\\mathbf{X}\\) y \\(\\mathbf{X}^t\\mathbf{W}\\mathbf{z}=\\frac{1}{\\sigma^2}\\mathbf{X}^t\\mathbf{y}\\).</p> <p>Note que en este caso particular, se obtienen las ecuaciones normales del modelo de regresi\u00f3n lineal \\(\\mathbf{X}^t\\mathbf{X}\\mathbf{b}^=\\mathbf{X}^t\\mathbf{z}\\), por lo que no es necesario hacer la estimaci\u00f3n de forma iterativa, ya que existir\u00e1 la soluci\u00f3n si \\(\\left(\\mathbf{X}^t\\mathbf{X}\\right)^{-1}\\) existe.</p> <p>La mayor\u00eda de los softwares estad\u00edsticos emplean este m\u00e9todo cuando estiman los par\u00e1metros por m\u00e1xima verosimilitud.</p>"},{"location":"estadistica/modelos_lineales_generalizados/#inferencia","title":"Inferencia","text":"<p>En estad\u00edstica no s\u00f3lo es importante obtener estimaciones de par\u00e1metros, sino tambi\u00e9n es de inter\u00e9s hacer inferencia ya sea sobre valores futuros o realizar pruebas de hip\u00f3tesis o de bondad de ajuste con el fin de verificar si el modelo propuesto es v\u00e1lido o no para un conjunto de datos.</p> <p>Debido a que es complicado obtener las distribuciones exactas de muchas cantidades de inter\u00e9s, se suele recurrir a la teor\u00eda asint\u00f3tica. A continuaci\u00f3n se muestran algunos resultados de inter\u00e9s.</p>"},{"location":"estadistica/modelos_lineales_generalizados/#estadistica-score","title":"Estad\u00edstica Score","text":"<p>Distribuci\u00f3n muestral para la estad\u00edstica Score</p> <p>Sea \\(Y_1,Y_2,\\dots,Y_n\\) variables aleatorias independientes y sea \\(\\mathbf{U}\\) la estad\u00edstica score y \\(\\mathbf{I}_n\\) la matriz de informaci\u00f3n, entonces asint\u00f3ticamente</p> <ul> <li>\\(\\mathbf{U} \\sim N_p \\left(\\mathbf{0},\\mathbf{I}\\right)\\)</li> <li>\\(\\mathbf{U}^T\\mathbf{I}_n^{-1}\\mathbf{U} \\sim \\chi_{p}^2\\)</li> </ul>"},{"location":"estadistica/modelos_lineales_generalizados/#estadistica-de-wald","title":"Estad\u00edstica de Wald","text":"<p>Estad\u00edstica de Wald</p> <p>Sea \\(\\hat{\\beta}=(\\hat{\\beta}_0,\\hat{\\beta}_1,\\dots,\\hat{\\beta}_p)^t\\) el estimador de m\u00e1xima verosimilitud de \\(\\beta=(\\beta_0,\\beta_1,\\dots,\\beta_p)^t\\). Por las propiedades del estimador de m\u00e1xima verosimilitud, la distribuci\u00f3n asint\u00f3tica es:</p> <ul> <li>\\((\\hat{\\beta}-\\beta)^{T}\\mathbf{I}_n(\\hat{\\beta})(\\hat{\\beta}-\\beta)\\sim \\chi_{p}^2\\)</li> </ul>"},{"location":"estadistica/modelos_lineales_generalizados/#estadistica-de-razon-de-verosimilitudes","title":"Estad\u00edstica de raz\u00f3n de verosimilitudes","text":"<p>Una forma de medir la bondad de ajuste de un modelo, es compararlo con el modelo saturado, el cual tendr\u00e1 \\(n\\) par\u00e1metros y en teor\u00eda tendr\u00eda el mejor ajuste posible. La idea es comparar si el modelo ajustado est\u00e1 cerca o lejos del modelo saturado.</p> <p>Para ello se usa la devianza definida como \\(D=2\\left(l(\\beta_m)-l(\\hat{\\beta})\\right)\\), donde \\(l(\\beta_m)\\) es la verosimilitud evaluada en los par\u00e1metros del modelo saturado y \\(l(\\hat{\\beta})\\) es la verosimilitud evaluada en el estimador de m\u00e1xima verosimilitud.</p> <p>Distribuci\u00f3n muestral de la devianza</p> <p>La distribuci\u00f3n muestral de la devianza asint\u00f3tica es:</p> <p>\\(D\\sim\\chi_{n-p,v}^2\\)</p> <p>donde \\(v\\) es el par\u00e1metro de no centralidad y \\(p\\) el n\u00famero de par\u00e1metros del modelo.</p> <p>A continuaci\u00f3n se muestran algunos ejemplos del c\u00e1lculo de la devianza para algunos modelos</p> Devianza en el modelo Poisson <p>Sea \\(Y_1,\\dots,Y_n\\) una muestra aleatoria con \\(Y_i\\sim Poi(\\lambda_i)\\). Note que el modelo completo es aquel que tenga tantos par\u00e1metros como observaciones. Para encontrar un estimador de \\(\\lambda_i\\) se puede usar la primer derivada de la funci\u00f3n de log-densidad e igualar a cero.</p> <p>\\(     \\begin{align*}     0&amp;=\\frac{\\partial}{\\partial \\lambda_i}\\log e^{y_i \\log \\lambda_i -\\lambda_i -\\log y_i!}\\\\     &amp;=\\frac{\\partial}{\\partial \\lambda_i} y_i \\log \\lambda_i -\\lambda_i -\\log y_i! \\\\     &amp;=\\frac{y_i}{\\lambda_i}-1\\\\     &amp;=y_i-\\lambda_i     \\end{align*} \\)</p> <p>Por lo que \\(l(\\beta_m)=\\sum_{i=1}^n y_i \\log y_i -y_i -\\log y_i!\\).</p> <p>Por otro lado, \\(\\hat{y}_i\\) son los valores estimados con los estimadores de m\u00e1xima verosimilitud \\(\\hat{\\beta}\\), asumiendo \\(\\hat{y}_i=\\hat{\\lambda}_i\\), por lo que \\(l(\\hat{\\beta})=\\sum_{i=1}^n y_i \\log \\hat{y}_i -\\hat{y}_i -\\log y_i!\\).</p> <p>Por lo tanto la devianza puede ser calculada como \\(D=2\\left[\\sum_{i=1}^n y_i \\log \\frac{y_i}{\\hat{y}_i}-(y_i-\\hat{y}_i) \\right]\\).</p> Devianza en el modelo Binomial <p>Sea \\(Y_1,\\dots,Y_n\\) una muestra aleatoria con \\(Y_i\\sim Bin(n_i,p_i)\\). Asumiendo \\(n_i\\) conocida, el estimador para \\(\\pi\\) puede obtenerse de la siguiente manera:</p> <p>\\( \\begin{align*} 0&amp;=\\frac{\\partial}{\\partial \\lambda_i}\\log e^{y_i \\log \\left(\\frac{p_i}{1-p_i}\\right) + n_i\\log (1-p_i)+\\log \\binom{n_i}{y_i}}\\\\ &amp;=\\frac{\\partial}{\\partial p_i} y_i \\log \\left(\\frac{p_i}{1-p_i}\\right) + n_i\\log (1-p_i)+\\log \\binom{n_i}{y_i}\\\\ &amp;=\\frac{y_i}{p_i(1-p_i)}-\\frac{n_i}{(1-p_i)} \\end{align*} \\)</p> <p>Por lo que \\(\\hat{p}_i = \\frac{y_i}{n_i}\\) y la verosimilitud completa es \\(l(\\beta_m)=\\sum_{i=1}^n y_i\\log \\frac{y_i}{n_i}-y_i\\log \\frac{n_i-y_i}{n_i} +n_i\\log \\frac{n_i-y_i}{n_i}+\\log \\binom{n_i}{y_i}\\).</p> <p>Los estimadores \\(\\hat{\\beta}\\) pueden ser usados para estimar \\(\\hat{p}_i\\) y con ello es posible estimar \\(\\hat{y}_i=n_i\\hat{p}_i\\), por lo que \\(l(\\hat{\\beta})=\\sum_{i=1}^n y_i\\log \\frac{\\hat{y}_i}{n_i}-y_i\\log \\frac{n_i-\\hat{y}_i}{n_i}+n_i\\log \\frac{n_i-\\hat{y}_i}{n_i}+\\log \\binom{n_i}{y_i}\\).</p> <p>Por lo tanto, la devianza para el modelo binomial es \\(D=2\\left[\\sum_{i=1}^n y_i \\log \\frac{y_i}{\\hat{y}_i}+(n_i-y_i)\\log \\frac{n_i-y_i}{n_i-\\hat{y}_i} \\right]\\).</p> <p>Tambien es posible hacer pruebas de hip\u00f3tesis para verificar si algun coeficiente \\(\\beta_j\\) estad\u00edsticamente es cero con el fin de tener un modelo m\u00e1s parsimoniso. A estos modelos se les denominan modelos anidados.</p> <p>Por ejemplo, sea \\(H_0:\\beta = \\beta_{M_0}=(\\beta_0,\\beta_1,\\dots,\\beta_q)\\) contra la alternativa \\(H_a:\\beta = \\beta_{M_1}=(\\beta_0,\\beta_1,\\dots,\\beta_p)\\) con \\(q&lt;p\\). Es posible usar la estad\u00edstica de diferencia de devianzas de los modelos \\(\\Delta D=2\\left(l(\\beta_{M_1})-l(\\hat{\\beta_{M_0}})\\right)\\) para probar dicha hip\u00f3tesis.</p> <p>Prueba de modelos anidados</p> <p>La distribuci\u00f3n muestral de la diferencia de devianza de dos modelos anidados asint\u00f3tica es:</p> <p>\\(D\\sim\\chi_{p-q,v}^2\\)</p> <p>donde \\(v\\) es el par\u00e1metro de no centralidad, \\(p\\) y \\(q\\) el n\u00famero de par\u00e1metros del modelo del modelo 1 y modelo 0 respectivamente.</p>"},{"location":"estadistica/modelos_lineales_generalizados/#bibliografia","title":"Bibliograf\u00eda","text":"<p>Dobson, A., &amp; Barnett, A. (2008). An Introduction to Generalized Linear Models (Third Edition). CRC Press.</p>"},{"location":"estadistica/multivariado/","title":"Introducci\u00f3n a la Estad\u00edstica Multivariada","text":"<p>La estad\u00edstica multivariada es un \u00e1rea que estudia datos recolectados de individuos a los cuales se les mide una o m\u00e1s caracter\u00edsticas.</p> <p>Con el avance de la tecnolog\u00eda, muchas empresas han empezado a analizar bases de datos empleando t\u00e9cnicas multivariadas con el fin de encontrar patrones o crear grupos de individus con el fin de enfocar mejor sus estrategias, por lo que esta \u00e1rea es muy importante en la actualidad.</p>"},{"location":"estadistica/multivariado/#introduccion","title":"Introducci\u00f3n","text":"<p>Usualmente los datos, denotados por \\(\\mathbf{X}\\), son registrados en forma rectangular por medio de columnas y renglones. Esta forma permite representar los datos en forma matricial.</p> <p>\\(\\mathbf{X} =\\lbrace X_{i,j}\\rbrace =  \\begin{bmatrix} X_{1,1} &amp; X_{1,2} &amp; \\dots &amp; X_{1,p} \\\\ X_{2,1} &amp; X_{2,2} &amp; \\dots &amp; X_{2,p} \\\\ \\vdots &amp; \\vdots &amp;\\ddots &amp; \\vdots \\\\ X_{n,1} &amp; X_{n,2} &amp; \\dots &amp; X_{n,p} \\\\ \\end{bmatrix} \\)</p> <p>Note que cada rengl\u00f3n representa una observaci\u00f3n multivariada, mientras que cada columna denota una variable, se usar\u00e1n letras min\u00fasculas para refereirse a observaciones o realizaciones.</p> Datos multivariados <p>La siguiente base contiene informaci\u00f3n de 20 pa\u00edses y 17 indicadores. Esta informaci\u00f3n fue tomada del banco mundial con informaci\u00f3n de 2020.</p> Country Agriculture Exports Fertility Forest_area GDP_growth GNI_pc Gross_capital_formation High_tech_exports Imports Industry Inflation Life_expectancy Merchandise_trade Military_expenditure Mobile_subs Mortality_rate Pop_density ARG 5.93 16.59 2.233 285730 -9.89 9080 14.01 6.90 13.55 23.31 39.89 76.813 24.95 0.76 121.17 8.6 16.581 AUS 2.00 23.98 1.581 1340051 -0.003 53680 22.26 21.48 20.05 25.46 1.78 83.2 34.84 2.06 107.65 3.7 3.34 BRA 5.89 16.79 1.706 4966196 -3.87 7800 15.93 11.35 16.09 17.70 5.14 76.08 25.92 1.43 96.83 14.7 25.43 CHN 7.69 18.54 1.7 2199781.8 2.23 10530 43.36 31.28 16.04 37.84 0.49 77.097 31.69 1.74 119.39 7.3 149.72 FRA 1.59 27.87 1.83 172530 -7.85 39500 23.81 23.14 29.89 16.44 2.52 82.17 40.67 2.07 111.45 4.4 123.05 DEU 0.73 43.41 1.53 114190 -4.56 47520 21.14 15.49 37.69 26.53 1.59 80.94 66.40 1.39 128.18 3.7 238.02 IND 18.22 18.70 2.184 721600 -6.59 1910 27.89 11.03 19.09 24.53 5.60 69.887 24.35 2.88 83.60 32.6 464.14 IDN 13.70 17.27 2.266 921332 -2.06 3870 32.35 8.42 15.70 38.25 -0.43 71.908 28.80 0.86 130.01 23 145.68 ITA 2.009 29.53 1.24 95661.3 -9.02 32380 17.70 9.04 25.87 21.60 1.37 82.34 48.96 1.56 128.31 2.9 199.67 JPN 1.04 15.55 1.34 249350 -4.50 40810 25.41 18.60 15.80 29.01 0.90 84.61 25.33 0.99 154.22 2.5 346.39 KOR 1.83 36.44 0.837 62870 -0.85 32930 31.86 35.70 32.76 32.58 1.31 83.42 59.84 2.84 137.53 3 531.54 MEX 3.79 39.60 2.079 656920.8 -8.16 8530 19.16 21.50 37.55 29.62 4.01 75.131 74.53 0.57 95.31 13.7 66.32 NLD 1.58 77.85 1.55 3695 -3.79 51070 21.74 23.14 67.44 17.77 2.29 81.40 138.93 1.42 124.97 4.2 518.013 RUS 4.002 25.53 1.505 8153116 -2.68 10740 23.48 9.20 20.43 29.82 0.60 71.33 38.50 4.26 163.58 5.4 8.79 SAU 2.54 26.18 2.238 9770 -4.13 22270 27.62 0.60 25.89 40.10 -8.69 75.28 44.33 8.44 124.13 7 16.19 ESP 3.14 30.62 1.23 185721.7 -10.82 27360 20.69 7.76 29.14 20.37 1.10 82.33 49.51 1.40 119.02 3.2 94.80 CHE 0.68 62.34 1.46 12691.1 -2.39 82620 28.35 12.84 53.54 25.24 -0.50 83.1 81.26 0.77 127.30 4 218.55 TUR 6.68 28.66 2.039 222203.6 1.79 9040 31.88 3.15 32.47 28.01 14.82 77.928 54.05 2.77 97.37 9.5 109.58 GBR 0.58 28.36 1.56 31900 -9.27 39970 16.72 22.99 28.06 17.10 5.09 80.90 37.64 2.24 116.38 4.2 277.27 USA 1.05 10.16 1.63 3097950 -3.40 64140 21.15 19.48 13.27 18.43 1.20 77.28 18.33 3.74 106.18 6.3 36.23 <p>Como puede apreciarse, la variable Country muestra el nombre de los individuos o paises, mientras que las dem\u00e1s variables miden alguna carater\u00edstica de los individuos.</p> <p>Note que el supuesto de que las observaciones es independientes es l\u00f3gico, mientras que es posible que haya cierta asocicac\u00f3n o correlaci\u00f3n entre las variables para cada individuo.</p> Lectura de datos <p>En aplicaciones, es com\u00fan tener que leer bases con una gran cantidad de datos, para ello es necesario saber c\u00f3mo importar la informaci\u00f3n. En este ejemplo se mostrar\u00e1 c\u00f3mo leer una base en formato csv en distintos softwares. Los datos se encuentran en la siguiente liga.</p> JuliaPythonRSAS <pre><code>using CSV, DataFrames\nindicadores = CSV.read(download(\"https://franciscoariel.github.io/site/estadistica/src/indicadores.csv\"),DataFrame)\n</code></pre> <pre><code>import pandas as pd\nindicadores=pd.read_csv(\"https://franciscoariel.github.io/site/estadistica/src/indicadores.csv\")\n</code></pre> <pre><code>indicadores=read.csv(\"https://franciscoariel.github.io/site/estadistica/src/indicadores.csv\")\n</code></pre> <pre><code>FILENAME web URL \"https://franciscoariel.github.io/site/estadistica/src/indicadores.csv\";\n\nPROC IMPORT OUT = indicadores DATAFILE = web DBMS = CSV REPLACE;\n    GETNAMES = YES;\n    DATAROW = 2;\nRUN;\n</code></pre> <p>En muchas ocasiones, se prefiere trabajar con la matriz de covarianzas \\(\\mathbf{\\Sigma}\\) en lugar de la matriz de datos, ya que resume las relaciones que hay entre las variables. </p> <p>\\(\\mathbf{\\Sigma} =\\lbrace \\sigma_{i,j}\\rbrace =  \\begin{bmatrix} \\sigma_{1,1} &amp; \\sigma_{1,2} &amp; \\dots &amp; \\sigma_{1,p} \\\\ \\sigma_{2,1} &amp; \\sigma_{2,2} &amp; \\dots &amp; \\sigma_{2,p} \\\\ \\vdots &amp; \\vdots &amp;\\ddots &amp; \\vdots \\\\ \\sigma_{p,1} &amp; \\sigma_{p,2} &amp; \\dots &amp; \\sigma_{p,p} \\\\ \\end{bmatrix} \\)</p> <p>La matriz de covarianzas (llamada en ocasiones matriz de varianza-covarianza) resume las relaciones que hay entre las variables de un conjunto de datos. Esta matriz tiene propiedades interesantes que se mencionar\u00e1n a continuaci\u00f3n:</p> <ul> <li>Es una matriz cuadrada de dimensi\u00f3n \\(p \\times p\\), es decir, igual al n\u00famero de variables num\u00e9ricas que tengamos en la base.</li> <li>En la diagonal de la matriz, se encuentra la varianza de cada variable (denotada como \\(\\sigma_{i,i}\\)), mientras que los otros elementos representan la covarianza entre cuales quiera dos variables (se denota por \\(\\sigma_{i,j}\\)).</li> <li>Es sim\u00e9trica.</li> <li>Es una matriz definida positiva.</li> </ul> <p>Matriz definda positiva</p> <p>Se dice que una matriz \\(\\mathbf{A}\\) es definida positiva si para todo \\(\\mathbf{c}\\ne \\mathbf{0}\\), entonces \\(\\mathbf{c}^t\\mathbf{A}\\mathbf{c}&gt;0\\). Note que \\(\\mathbf{c}^t\\mathbf{A}\\mathbf{c}\\) es un escalar y se le conoce como forma cuadr\u00e1tica.</p> <p>Eigenvalores y eigenvectores de una matriz</p> <p>Sea \\(\\mathbf{A}\\) una matriz cuadrada sim\u00e9trica de dimensi\u00f3n \\(p \\times p\\). Entonces \\(A\\) tendr\u00e1 las parejas:</p> <p>\\( \\lbrace \\lambda_1,\\mathbf{e}_1\\rbrace,\\lbrace \\lambda_2,\\mathbf{e}_2\\rbrace,\\dots \\lbrace \\lambda_p,\\mathbf{e}_p\\rbrace \\)</p> <p>donde \\(\\mathbf{A}\\mathbf{e}_j=\\lambda_j\\mathbf{e}_j\\), para \\(j=1,2,\\dots,p\\) y los eigenvectores son ortonormales, decir \\(\\mathbf{e}_i^t\\mathbf{e}_j=1\\) si \\(i=j\\) y \\(\\mathbf{e}_i^t\\mathbf{e}_j=0\\) si \\(i\\ne j\\).</p> <p>Para el c\u00e1lculo de un eigenvalores y eigenvectores, se requiere el uso de sotfware. Para un ejemplo num\u00e9rico de una matriz de \\(2 \\times 2\\), vease Johnson, R., &amp; Wichern, D., (2007) pp. 97.</p> C\u00e1lculo de eigenvalores y eigenvectores <p>Sea \\(\\mathbf{A}=\\begin{pmatrix}9&amp;-2\\\\-2&amp;6\\end{pmatrix}\\). Encontrar los eigenvalores y eigenvectores de \\(\\mathbf{A}\\).</p> JuliaPythonRSAS <p>Para definir una matriz en julia se usan los corchetes cuadrados  <code>[]</code> y se pueden definir los renglones de la matriz la notaci\u00f3n de vectores <code>[]</code> separados por un espacio.</p> <p>Para obtener los eigenvalores y eigenvectores, se usa la funci\u00f3n <code>eigen</code> de la librer\u00eda <code>LinearAlgebra</code>. Tambi\u00e9n se pueden usar las funciones <code>eigvals</code> y <code>eigvecs</code>.</p> <pre><code>using LinearAlgebra\nA = [[9,-2] [-2,6]]\neigen(A)\n# opcionalmente \neigvals(A)\neigvecs(A)\n</code></pre> <p></p> <p>En python es necesario usar la librer\u00eda <code>numpy</code> y el m\u00f3dulo <code>linalg</code>.</p> <p>Para definir una matriz, se usa la funci\u00f3n <code>array</code> para definir un arreglo (o matriz) y usar la funci\u00f3n <code>eig</code>.</p> <pre><code>import numpy as np\nfrom numpy.linalg import eig\n\nA=np.array([[9,-2],[-2,6]])\neig(A)\n</code></pre> <p></p> <p>En R se debe definir una matriz, a partir de un vector, usando la funci\u00f3n <code>matrix</code> y especificando las dimensiones, opcionalmente se le puede indicar que la matriz se llene por renglones con la opci\u00f3n <code>byrow=TRUE</code>.</p> <p>Los eigenvalores y eigenvectores se puede obtener con la funci\u00f3n <code>eigen</code>.</p> <pre><code>A = matrix(c(9,-2,-2,6),2,2,byrow=TRUE)\neigen(A)\n</code></pre> <p></p> <p>En SAS se debe usar el procedimiento IML, que es el lenguaje de SAS para manejar matrices.</p> <p>La forma de definir una matriz es mediante llaves <code>{}</code>. SAS solo acepta valores num\u00e9ricos y cada valor se separa con un espacio y los renglones con una coma.</p> <p>Para obtener los eigenvalores y eigenvectores se hace uso de la llamada a la rutina <code>eigen</code>, especificando en donde se deben guardar los valores obtenidos. Opcionalmente pueden usarse las funciones <code>eigval</code> y <code>eigvec</code>.</p> <pre><code>proc iml;\n    A = {9 -2,-2 6};\n    CALL eigen(L,e,A);\n    PRINT L,e;\n    /* opcionalmente */\n    L2 = eigval(A);\n    e2 = eigvec(A);\n    PRINT L2,e2;\nquit;\n</code></pre> <p></p> <p>Un resultado importante es que si la matriz de covarianzas \\(\\mathbf{\\Sigma}\\) es positiva definida, existe su inversa \\(\\mathbf{\\Sigma}^{-1}\\), tal que \\(\\mathbf{\\Sigma}^{-1}\\mathbf{\\Sigma}=\\mathbf{I}\\) y se cumple que:</p> <p>\\( \\mathbf{\\Sigma}\\mathbf{e}=\\lambda \\mathbf{e} \\rightarrow \\mathbf{\\Sigma}^{-1}\\mathbf{e}=\\frac{1}{\\lambda} \\mathbf{e} \\)</p> <p>donde \\(\\lambda\\) es un eigenvalor y \\(\\mathbf{e}\\) es un eigenvector.</p> <p>Una propiedad interesante es que la matriz \\(\\mathbf{\\Sigma}\\) puede descomponerse por medio de sus eigenvalores y eigen vectores.</p> <p>Descomposici\u00f3n espectral</p> <p>Sea \\(A\\) una matriz de dimensi\u00f3n \\(p \\times p\\), entonces</p> <p>\\( A=\\sum_{j=1}^{p}\\lambda_j\\mathbf{e}_j\\mathbf{e}_j^t \\)</p> Ilustraci\u00f3n de la descomposici\u00f3n espectral <p>Usando la descomposici\u00f3n espectral, se mostrar\u00e1 el resultado anterior usando la matriz \\(\\mathbf{A}=\\begin{pmatrix}9&amp;-2\\\\-2&amp;6\\end{pmatrix}\\).</p> JuliaPythonRSAS <p>Para mostrar que se puede expresar una matriz a partir de sus eigenvalores y eigenvectores, primero se definir\u00e1 una matriz de ceros de dimensi\u00f3n \\(2 \\times 2\\) en donde se almacenar\u00e1 el resultado con la funci\u00f3n <code>zeros</code>, despu\u00e9s se har\u00e1 uso de la multiplicaci\u00f3n de matrices con el operador <code>*</code> y el uso del vector transpuesto con la funci\u00f3n <code>transpose</code>. La suma se har\u00e1 de manera iterativa mediante el uso de un ciclo.</p> <pre><code>using LinearAlgebra\nA = [[9,-2] [-2,6]]\nlj=eigvals(A)\nej=eigvecs(A)\nA2=zeros(2,2)\nfor j in 1:2\nA2=A2+lj[j]*ej[:,j]*transpose(ej[:,j])\nend\n</code></pre> <p></p> <p>Note que en python, los eigenvectores corresponder\u00edan a las columnas del arreglo, por lo que se recomienda transponer la matriz de los eigenvectores que arroja python para que cada rengl\u00f3n corresponda a un eigenvector.</p> <p>Debido a esto, el producto punto <code>@</code> se debe hacer de forma <code>\\mathbf{e}_j^t \\mathbf{e}_j</code> ya que se accede por renglones a la matriz.</p> <pre><code>import numpy as np\nfrom numpy.linalg import eig\nA=[[9,-2],[-2,6]]\ndim=(2,2)\njj=[0,1]\nA2=np.zeros(dim)\nlj,ej=eig(A)\nlj=np.matrix(lj)\nej=np.matrix(ej.transpose())\nfor j in jj:\n    A2=A2+lj[0,j]*ej[j].transpose()@ej[j]\n\nprint(A2)\n</code></pre> <p></p> <p>En R el resultado se almacena en una lista y de ah\u00ed se pueden obtener los eigen valores y eigenvectores de la matriz usando <code>$</code>. Se puede definir una matriz de ceros en donde se almacenen los resultados.</p> <p>Note que el producto de matrices se realiza con el operador <code>%*%</code> mientras que multiplicar un escalar por una matriz se hace con <code>*</code>.</p> <pre><code>A = matrix(c(9,-2,-2,6),2,2,byrow=TRUE)\nEV=eigen(A)\nlj=EV$values\nej=EV$vectors\nA2=matrix(rep(0,4),2,2)\nfor(j in 1:2)\n{\nA2=A2+lj[j]*ej[,j]%*%t(ej[,j])\n}\nA2\n</code></pre> <p></p> <p>En SAS simplemente basta con realizar la suma iterativa mediante un ciclo, de manera similar a los otros softwares, se recomienda definir una matriz de ceros en donde se pueda almacenar el resultado, esto se puede hacer con la funci\u00f3n <code>j</code>.</p> <p>El producto de matrices se realiza con <code>*</code> mientras que la multiplicaci\u00f3n de un escalar por una matriz se realiza con <code>#</code>.</p> <pre><code>proc iml;\n    A = {9 -2,-2 6};\n    A2 = j(2,2,0);\n    CALL eigen(lj,ej,A);\n    DO j= 1 to 2;\n        A2 = A2 + lj[j] # ej[,j] * t(ej[,j]);\n    END;\n    print A2;\nquit;\n</code></pre> <p></p> <p>Los eigenvectores tienen muchas aplicaciones en estad\u00edstica multivariada ya que son ortonormales. Sea \\(\\mathbf{P}=[\\mathbf{e}_1,\\mathbf{e}_2,\\cdots,\\mathbf{e}_k]\\) de dimensi\u00f3n \\(p \\times p\\), entonces \\(\\mathbf{P}\\mathbf{P}^t = \\mathbf{P}^t\\mathbf{P}=\\mathbf{I}\\).</p> <p>Una aplicaci\u00f3n es que si se define la matriz:</p> <p>\\( \\mathbf{\\Lambda}=\\begin{bmatrix} \\lambda_1 &amp; 0 &amp; \\dots &amp; 0\\\\ 0 &amp; \\lambda_2 &amp; \\dots &amp; 0\\\\ \\vdots &amp; \\vdots &amp; \\ddots &amp; \\vdots\\\\ 0 &amp; 0 &amp; \\dots &amp; \\lambda_p\\\\ \\end{bmatrix} \\)</p> <p>entonces \\(\\mathbf{A}=\\mathbf{P}\\mathbf{\\Lambda}\\mathbf{P}^t=\\sum_{j=1}^{p}\\lambda_j\\mathbf{e}_j\\mathbf{e}_j^t\\) y \\(\\mathbf{A}^{-1}=\\mathbf{P}\\mathbf{\\Lambda}^{-1}\\mathbf{P}^t=\\sum_{j=1}^{p}\\frac{1}{\\lambda_j}\\mathbf{e}_j\\mathbf{e}_j^t\\). </p> Calculando la inversa de una matriz con eigenvalores <p>En este ejemplo se mostrar\u00e1 c\u00f3mo hallar la matriz inversa de \\(\\mathbf{A}=\\begin{pmatrix}9&amp;-2\\\\-2&amp;6\\end{pmatrix}\\) mediante los eigenvalores y eigenvectores.</p> JuliaPythonRSAS <p>Para mostrar que se puede expresar la inversa de una matriz a partir de sus eigenvalores y eigenvectores, se har\u00e1 uso de la multiplicaci\u00f3n de matrices con el operador <code>*</code> y el uso de la funci\u00f3n <code>transpose</code>. </p> <p>Para crear una matriz diagonal cuyos elementos sean el rec\u00edproco de los eigenvalores, se puede usar la funci\u00f3n <code>diagm</code> cuyo argumento sea el rec\u00edproco de los eigenvalores. Note que se debe usar el operador punto-vectorizado <code>./</code> separado por un espacio.</p> <pre><code>using LinearAlgebra\nA = [[9,-2] [-2,6]]\nlj=eigvals(A)\nP=eigvecs(A)\nD=diagm(1 ./lj)\nAinv=P*D*transpose(P)\n# funci\u00f3n inversa\ninv(A)\n</code></pre> <p></p> <p>Note que en python, se puede usar directamente el resultado generado por la funci\u00f3n <code>eig()</code> donde la matriz \\(P\\) corresponder\u00eda a los eigenvectores y la matriz diagonal se puede construir a partir de los rec\u00edprocos de los eigenvalores con la funci\u00f3n <code>diag()</code>.</p> <pre><code>import numpy as np\nfrom numpy.linalg import eig\nA=[[9,-2],[-2,6]]\nlj,ej=eig(A)\nD=np.diag(1/lj)\nAinv=ej@D@ej.transpose()\nprint(Ainv)\n# Funci\u00f3n inversa\nnp.linalg.inv(A)\n</code></pre> <p></p> <p>En R, como se mostr\u00f3 en el ejemplo anterior, el resultado se almacena en una lista y de ah\u00ed se pueden obtener los eigen valores y eigenvectores de la matriz usando <code>$</code>. Se puede definir la matriz diagonal conla funci\u00f3n <code>diag()</code> usando los rec\u00edprocos de los eigenvalores.</p> <p>Note que el producto de matrices se realiza con el operador <code>%*%</code>.</p> <pre><code>A = matrix(c(9,-2,-2,6),2,2,byrow=TRUE)\nEV=eigen(A)\nlj=EV$values\nej=EV$vectors\nD=diag(1/lj)\nAinv=ej%*%D%*%t(ej)\nAinv\n# Funci\u00f3n inversa\nsolve(A)\n</code></pre> <p></p> <p>En SAS se puede definir la matriz diagonal con la funci\u00f3n <code>diag</code> usando los rec\u00edprocos de los eigenvalores.</p> <p>El producto de matrices se realiza con <code>*</code>.</p> <pre><code>proc iml;\n    A = {9 -2,-2 6};\n    A2 = j(2,2,0);\n    CALL eigen(lj,ej,A);\n    D=diag(1/lj);\n    Ainv = ej*D*t(ej);\n    print Ainv;\n    /*Funci\u00f3n inversa*/\n    print (inv(A));\nquit;\n</code></pre> <p></p> <p>Note que es posible definir la raiz de una matriz,denotada por \\(\\mathbf{A}^{1/2}\\), que cumple con la propiedad \\(\\mathbf{A}^{1/2}\\mathbf{A}^{1/2}=\\mathbf{A}\\) y \\(\\mathbf{A}^{-1/2}\\mathbf{A}^{-1/2}=\\mathbf{A}^{-1}\\), simplemente definiendo \\(\\mathbf{A}^{1/2}=\\mathbf{P}\\mathbf{\\Lambda}^{1/2}\\mathbf{P}^t=\\sum_{j=1}^{p}\\sqrt{\\lambda_j}\\mathbf{e}_j\\mathbf{e}_j^t\\).</p> <p>Debido a que muchas veces las variables est\u00e1n distintas escalas o unidades, las covarianzas podr\u00edan tomar valores muy grandes y es complicado de interpreta, por ello se puede definir la matriz de correlaciones \\(\\mathbf{R}=\\mathbf{D}^{-1/2}\\mathbf{S}\\mathbf{D}^{-1/2}\\) a partir de la matriz de covarianzas, donde </p> <p>\\( \\mathbf{D}^{-1/2}=\\begin{bmatrix} 1/\\sqrt{\\sigma_{1,1}} &amp; 0 &amp; \\dots &amp; 0\\\\ 0 &amp; 1/\\sqrt{\\sigma_{2,2}} &amp; \\dots &amp; 0\\\\ \\vdots &amp; \\vdots &amp; \\ddots &amp; \\vdots\\\\ 0 &amp; 0 &amp; \\dots &amp; 1/\\sqrt{\\sigma_{p,p}}\\\\ \\end{bmatrix} \\)</p> <p>o viceversa, es decir  \\(\\mathbf{S}=\\mathbf{D}^{1/2}\\mathbf{R}\\mathbf{D}^{1/2}\\) donde</p> <p>\\( \\mathbf{D}^{1/2}=\\begin{bmatrix} \\sqrt{\\sigma_{1,2}} &amp; 0 &amp; \\dots &amp; 0\\\\ 0 &amp; \\sqrt{\\sigma_{2,2}} &amp; \\dots &amp; 0\\\\ \\vdots &amp; \\vdots &amp; \\ddots &amp; \\vdots\\\\ 0 &amp; 0 &amp; \\dots &amp; \\sqrt{\\sigma_{p,p}}\\\\ \\end{bmatrix} \\)</p>"},{"location":"estadistica/multivariado/#muestras-aleatorias","title":"Muestras aleatorias","text":"<p>Debido a que en estad\u00edstica es de inter\u00e9s hacer inferencias sobre el conjunto de datos, se requiere hacer ciertos supuestos sobre la informaci\u00f3n. En particular se supondr\u00e1 que la informaci\u00f3n es una muestra aleatoria multivariada de una poblaci\u00f3n espec\u00edfica.</p> <p>En este sentido, la matriz de datos \\(\\mathbf{X}\\) ser\u00e1 considerada como una muestra aleatoria de dimensi\u00f3n \\(n\\).</p> <p>\\(\\mathbf{X} = \\begin{bmatrix} X_{1,1} &amp; X_{1,2} &amp; \\dots &amp; X_{1,p} \\\\ X_{2,1} &amp; X_{2,2} &amp; \\dots &amp; X_{2,p} \\\\ \\vdots &amp; \\vdots &amp;\\ddots &amp; \\vdots \\\\ X_{n,1} &amp; X_{n,2} &amp; \\dots &amp; X_{n,p} \\\\ \\end{bmatrix} = \\begin{bmatrix} \\mathbf{X}_{1}^t \\\\ \\mathbf{X}_{2}^t \\\\ \\vdots \\\\ \\mathbf{X}_{n}^t \\\\ \\end{bmatrix} \\)</p> <p>Muestra aleatoria</p> <p>Se dice que los vectores rengl\u00f3n \\(\\mathbf{X}_{1}^t,\\mathbf{X}_{2}^t,\\dots,\\mathbf{X}_{n}^t\\) son una muestra aleatoria de una funci\u00f3n de distribuci\u00f3n conjunta \\(f(X)\\) con vector de medias \\(\\mathbf{\\mu}\\) y covarianzas \\(\\mathbf{\\Sigma}\\). La funci\u00f3n de distribuci\u00f3n conjunta est\u00e1 dada por \\(f(\\mathbf{X}_{1})f(\\mathbf{X}_{2})\\dots f(\\mathbf{X}_{n})\\).</p> <p>Note que generalmente en cada observaci\u00f3n, \\(\\mathbf{X}_i=(X_{i,1},X_{i,2},\\dots,X_{i,p})\\), proviene de una distribuci\u00f3n multivariada de dimensi\u00f3n \\(p\\), cuyo vector de medias es \\(E(\\mathbf{X})=\\mathbf{\\mu}= \\begin{pmatrix}\\mu_1&amp;\\mu_2&amp;\\cdots&amp;\\mu_p\\end{pmatrix}\\) y matriz de covarianzas es \\(Cov(\\mathbf{X})=\\mathbf{\\Sigma}=\\lbrace \\sigma_{j,j} \\rbrace, j=1,2,\\dots,p\\). De hecho las \\(p\\) variables pueden estar correlacionadas debido a que se mide a un mismo individuo; sin embargo, se asume que los individuos han de ser independientes unos de otros.</p> <p>Debido a que se tiene una muesta aleatoria, es de inter\u00e9s conocer los momentos o caracter\u00edsticas de dicha funci\u00f3n de distribuci\u00f3n, para ello se usan los estimadores insesgados para estimar el vector de medias. A continuaci\u00f3n se mostrar\u00e1 c\u00f3mo estimar dichos par\u00e1metros.</p>"},{"location":"estadistica/multivariado/#vector-de-medias-y-matriz-de-covarianzas-muestrales","title":"Vector de medias y matriz de covarianzas muestrales","text":"<p>Para estimar a \\(\\mathbf{\\mu}\\) de la matriz de datos se puede usar el vector de medias muestrales \\(\\bar{\\mathbf{X}}=\\frac{1}{n}\\mathbf{X}^t\\mathbf{1}\\), donde \\(\\mathbf{1}^t=\\begin{pmatrix}1&amp;1&amp;\\dots&amp;1\\end{pmatrix}\\) es de \\(1\\times n\\).</p> <p>De manera similar, para estimar la matriz de covarianzas, se usa la matriz de covarianzas muestrales \\(\\mathbf{S}=\\frac{1}{n-1}\\mathbf{X}^t\\left(\\mathbf{I}-\\frac{1}{n}\\mathbf{1}\\mathbf{1}^t\\right)\\mathbf{X}\\).</p> <p>Se usar\u00e1 la notaci\u00f3n \\(\\bar{\\mathbf{x}}\\) y \\(\\mathbf{s}\\) para referirse a realizaciones</p> C\u00e1lculo del vector de medias y matriz de covarianzas muestrales <p>En este ejemplo se mostrar\u00e1 c\u00f3mo calcular el vector de medias muestrales. Sup\u00f3nga que se tiene la siguiente matriz de datos con \\(n=3\\) y \\(p=2\\).</p> <p>\\(\\mathbf{x} = \\begin{bmatrix} 9 &amp; 1 \\\\ 5 &amp; 3 \\\\ 1 &amp; 2 \\\\ \\end{bmatrix}  \\)</p> <p>Haciendo la sustituci\u00f3n se tiene que el vector de medias es:</p> <p>\\( \\bar{\\mathbf{x}}= \\frac{1}{3}\\begin{bmatrix} 9 &amp; 5 &amp; 1 \\\\ 1 &amp; 3 &amp; 2\\\\ \\end{bmatrix} \\begin{bmatrix} 1 \\\\ 1 \\\\ 1 \\\\ \\end{bmatrix} = \\frac{1}{3}\\begin{bmatrix} 15\\\\ 6\\\\ \\end{bmatrix} = \\begin{bmatrix} 5\\\\ 2\\\\ \\end{bmatrix} \\)</p> <p>y la matriz de covarianzas:</p> <p>\\( \\begin{align*} \\mathbf{s}&amp;=\\frac{1}{2}\\begin{bmatrix} 9 &amp; 5 &amp; 1 \\\\ 1 &amp; 3 &amp; 2\\\\ \\end{bmatrix}\\left( \\begin{bmatrix} 1 &amp; 0 &amp; 0 \\\\ 0 &amp; 1 &amp; 0\\\\ 0 &amp; 0 &amp; 1\\\\ \\end{bmatrix} -\\frac{1}{3}    \\begin{bmatrix} 1 \\\\ 1 \\\\ 1 \\\\ \\end{bmatrix} \\begin{bmatrix} 1 &amp; 1 &amp; 1  \\end{bmatrix}\\right) \\begin{bmatrix} 9 &amp; 1 \\\\ 5 &amp; 3 \\\\ 1 &amp; 2 \\\\ \\end{bmatrix} \\\\ &amp; = \\frac{1}{2} \\begin{bmatrix} 9 &amp; 5 &amp; 1 \\\\ 1 &amp; 3 &amp; 2\\\\ \\end{bmatrix} \\begin{bmatrix} 2/3 &amp; -1/3 &amp; -1/3 \\\\ -1/3 &amp; 2/3 &amp; -1/3\\\\ -1/3 &amp; -1/3 &amp; 2/3\\\\ \\end{bmatrix} \\begin{bmatrix} 9 &amp; 1 \\\\ 5 &amp; 3 \\\\ 1 &amp; 2 \\\\ \\end{bmatrix}\\\\ &amp; =\\frac{1}{2} \\begin{bmatrix} 4 &amp; 0 &amp; -4 \\\\ -1 &amp; 1 &amp; 0\\\\ \\end{bmatrix} \\begin{bmatrix} 9 &amp; 1 \\\\ 5 &amp; 3 \\\\ 1 &amp; 2 \\\\ \\end{bmatrix}\\\\ &amp; =\\frac{1}{2} \\begin{bmatrix} 32 &amp; -4 \\\\ -4 &amp; 2 \\\\ \\end{bmatrix}\\\\ &amp;=\\begin{bmatrix} 16 &amp; -2 \\\\ -2 &amp; 1 \\\\ \\end{bmatrix} \\end{align*} \\)</p> C\u00e1lculo de la matriz de varianza covarianza <p>Actualmente los softwares ofrecen muchas opciones para realizar estos c\u00e1lculos. A continuaci\u00f3n se mostrar\u00e1 c\u00f3mo calcular una matriz de covarianzas de una base con muchas observaciones usando diversos programas estad\u00edsticos.</p> JuliaPythonRSAS <p>En julia se puede usar la funci\u00f3n <code>cov</code> del paquete <code>Statistics</code>; note que esta funci\u00f3n requiere una matriz que contenga \u00fanicamente valores num\u00e9ricos.</p> <pre><code>using Statistics\ncov(Matrix(indicadores[:,2:18]))\n</code></pre> <p>En python se puede hacer aplicando el m\u00e9todo <code>cov</code> del paquete <code>pandas</code> a un objeto <code>dataframe</code>.</p> <pre><code>import pandas as pd\nimport numpy as np\nindicadores.cov()\n</code></pre> <p>En R se puede hacer con la funci\u00f3n <code>cov</code>, sin embargo, esta funci\u00f3n requiere un dataframe que contenga \u00fanicamente valores num\u00e9ricos.</p> <pre><code>datos=indicadores[,-1]\ncov(datos)\n</code></pre> <p>En SAS se puede realizar de 2 maneras distintas: con el <code>PROC CORR</code> y <code>PROC IML</code>.</p> <p>Con el <code>PROC CORR</code> se debe especificar en la sentecia <code>PROC CORR</code> la opcion <code>COV</code> y opcionalmente la opci\u00f3n de guardar la tabla resultante. SAS Autom\u00e1ticamente realizar\u00e1 el c\u00e1lculo de las variables num\u00e9ricas.</p> <p>Por otro lado, con el <code>PROC IML</code> primero se debe leer el dataset en una matriz y posteriormente se usa la funci\u00f3n <code>cov</code> y se guarda en la matriz <code>S</code>. Para visualizar el resultado se usa la funci\u00f3n <code>print</code>.</p> <pre><code>/*Usando el procedimiento corr*/\nPROC CORR data= indicadores cov OUT=cv_ind;\nRUN;\n/*Usando PROC IML*/\nPROC IML;\nUSE work.indicadores;\nREAD ALL VAR _NUM_ INTO X[rowname=country];\nS = COV(X);\nPRINT S;\nQUIT;\n</code></pre>"},{"location":"estadistica/multivariado/#matriz-de-combinaciones-lineales","title":"Matriz de Combinaciones lineales","text":"<p>En estad\u00edstica multivariada es posible realizar combinaciones lineales de variables para formar una nueva variable. Las combinaciones lineales estudiadas tienen la forma:</p> <p>\\( \\mathbf{a}^t\\mathbf{X}=a_1 \\mathbf{X}_1 + a_2 \\mathbf{X}_2 + \\dots + a_p \\mathbf{X}_p \\)</p> <p>Note que el vector \\(\\mathbf{a}^t\\) es de dimensi\u00f3n \\(1 \\times p\\) y la matriz \\(\\mathbf{X}=\\begin{pmatrix}\\mathbf{X}_1&amp;\\mathbf{X}_2&amp;\\dots&amp;\\mathbf{X}_p\\end{pmatrix}\\) es de dimensi\u00f3n \\(n\\times p\\), aunque solo nos interesa trabajar con las \\(p\\) variables.</p> <p>Es posible calcular la media, la varianza y las covarianzas muestrales de dichas combinaciones lineales sin la necesidad de calcular las nuevas variables.</p> Estad\u00edstico Combinaci\u00f3n lineal F\u00f3rmula Media muestral \\(\\mathbf{a}^t\\mathbf{X}\\) \\(\\mathbf{a}^t\\bar{\\mathbf{x}}\\) Varianza muestral \\(\\mathbf{a}^t\\mathbf{X}\\) \\(\\mathbf{a}^t\\mathbf{s}\\mathbf{a}\\) Covarianzas muestrales \\(\\mathbf{a}^t\\mathbf{X}\\) y \\(\\mathbf{b}^t\\mathbf{X}\\) \\(\\mathbf{a}^t\\mathbf{s}\\mathbf{b}\\)"},{"location":"estadistica/multivariado/#distribucion-normal-multivariada","title":"Distribuci\u00f3n normal multivariada","text":"<p>En estad\u00edstica multivariada, el modelo de distribuci\u00f3n normal juega un papel muy importante, debido a que cuando se tienen muchos datos, muchas estad\u00edsticas multivariadas tienen distribuci\u00f3n normal, debido al Teorema Central del L\u00edmite. Tambi\u00e9n muchos fen\u00f3menos se comportan de manera normal.</p> <p>Distribuci\u00f3n normal multivariada</p> <p>La distribuci\u00f3n normal multivariada, de dimensi\u00f3n \\(p\\) para el vector aleatorio \\(\\mathbf{X}^t=\\begin{pmatrix}X_1&amp;X_2&amp;\\cdots&amp;X_p\\end{pmatrix}\\) es:</p> <p>\\( f_{\\mathbf{X}}(\\mathbf{x})=\\frac{1}{(2\\pi)^{p/2}|\\mathbf{\\Sigma}|^{1/2}}e^{\\frac{-1}{2}(\\mathbf{x}-\\mathbf{\\mu})^t\\mathbf{\\Sigma}^{-1}(\\mathbf{x}-\\mathbf{\\mu})} \\)</p> <p>donde \\(-\\infty &lt; x_j &lt; \\infty, i=1,2,\\dots,p\\); \\(;-\\infty &lt; \\mu_j &lt; \\infty, i=1,2,\\dots,p\\) y \\(\\mathbf{\\Sigma}\\) es positiva definida.</p> <p>Es posible calcular contornos en los que la densidad es constante usando \\(\\lbrace \\mathbf{x} | (\\mathbf{x}-\\mathbf{\\mu})^t\\mathbf{\\Sigma}^{-1}(\\mathbf{x}-\\mathbf{\\mu}) = c^2 \\rbrace\\).</p> <p>Note que los elipsoides est\u00e1n centrados en \\(\\mathbf{\\mu}\\) y tiene ejes \\(c\\sqrt{\\lambda_j}\\mathbf{e}_j\\), para \\(j=1,2,\\dots,p\\).</p> <p>Si se usa \\(c^2=\\chi_{p}(\\alpha)\\), donde \\(\\chi_{p}(\\alpha)\\) se obtienen contornos que contienen \\((1-\\alpha) \\times 100 \\%\\) de la probabilidad, donde \\(\\chi_{p}(\\alpha)\\) es el persentil superior de una distribuci\u00f3n chic cuadrada con \\(p\\) grados de libertad.</p>"},{"location":"estadistica/multivariado/#propiedades-de-la-distribucion-normal-multivariada","title":"Propiedades de la distribuci\u00f3n normal multivariada","text":"<p>La distribuci\u00f3n normal multivariada tiene muchas propiedades y resultados an\u00e1lagos a la distribuci\u00f3n normal univariada, los cuales se estudiar\u00e1n a continuaci\u00f3n.</p> <p>Distribuci\u00f3n de una combinaci\u00f3n lineal</p> <p>Si \\(\\mathbf{X}\\sim N_p(\\mathbf{\\mu},\\mathbf{\\Sigma})\\), entonces cualquier combinaci\u00f3n lineal de sus variables \\(\\mathbf{a}^t\\mathbf{X}=a_1\\mathbf{X}_1+a_2\\mathbf{X}_2+\\dots+a_n\\mathbf{X}_n\\) se distribuye normal univariada, es decir \\(\\mathbf{a}^t\\mathbf{X}\\sim N(\\mathbf{a}^t\\mathbf{\\mu},\\mathbf{a}^t\\mathbf{\\Sigma}\\mathbf{a})\\).</p> <p>Distribuci\u00f3n de varias combinaciones lineal</p> <p>Si \\(\\mathbf{X}\\sim N_p(\\mathbf{\\mu},\\mathbf{\\Sigma})\\), entonces las \\(q\\) combinaciones lineales</p> <p>\\( \\mathbf{A}\\mathbf{X}= \\begin{pmatrix} a_{1,1}\\mathbf{X}_1+a_{1,2}\\mathbf{X}_2+\\dots+a_{1,p}\\mathbf{X}_p\\\\ \\vdots\\\\ a_{q,1}\\mathbf{X}_1+a_{q,2}\\mathbf{X}_2+\\dots+a_{q,p}\\mathbf{X}_p\\\\ \\end{pmatrix} \\)</p> <p>tiene distribuci\u00f3n normal \\(q\\) variada, es decir: \\(\\mathbf{A}\\mathbf{X}\\sim N_q(\\mathbf{A}\\mathbf{\\mu},\\mathbf{A}\\mathbf{\\Sigma}\\mathbf{A}^{t})\\).</p> <p>Distribuci\u00f3n de subconjuntos de una normal multivariada</p> <p>Si se tiene un vector aleatorio \\(\\mathbf{X}\\) de dimensi\u00f3n \\(p \\times 1\\), se puede partir dicho vector como se muestra a continuaci\u00f3n:</p> <p>\\( \\begin{align*} \\mathbf{X} ({p \\times 1})&amp;= \\begin{bmatrix} \\mathbf{X}_1 ({q \\times 1})\\\\ \\mathbf{X}_2 ({(p-q) \\times 1})\\\\ \\end{bmatrix}\\\\ \\mathbf{\\mu} ({p \\times 1})&amp;= \\begin{bmatrix} \\mathbf{\\mu}_1 ({q \\times 1})\\\\ \\mathbf{\\mu}_2 ({(p-q) \\times 1})\\\\ \\end{bmatrix}\\\\ \\mathbf{\\Sigma} ({p \\times p})&amp;= \\begin{bmatrix} \\mathbf{\\Sigma}_{11} ({q \\times q}) &amp; \\mathbf{\\Sigma}_{12} ({q \\times (p-q)})\\\\ \\mathbf{\\Sigma}_{21} ({(p-q) \\times q}) &amp; \\mathbf{\\Sigma}_{22} ({(p-q) \\times (p-q)})\\\\ \\end{bmatrix}\\\\ \\end{align*} \\)</p> <p>entonces \\(\\mathbf{X}_1 \\sim N_q(\\mathbf{\\mu}_1,\\Sigma_{11})\\).</p> <p>Variables independientes de una normal multivariada</p> <p>a) Si \\(\\mathbf{X}_1\\) y \\(\\mathbf{X}_2\\) de dimensi\u00f3n \\(q_1 \\times 1\\) y \\(q_2 \\times 1\\) son independientes, entonces \\(Cov(\\mathbf{X}_1,\\mathbf{X}_2)=\\mathbf{0}\\).</p> <p>b) Si</p> <p>\\( \\begin{bmatrix} \\mathbf{X}_1 \\\\ \\mathbf{X}_2 \\\\ \\end{bmatrix} \\sim N_p\\left(\\begin{bmatrix} \\mathbf{\\mu}_1 \\\\ \\mathbf{\\mu}_2 \\\\ \\end{bmatrix}, \\begin{bmatrix} \\mathbf{\\Sigma}_{11} &amp; \\mathbf{\\Sigma}_{12}\\\\ \\mathbf{\\Sigma}_{21} &amp; \\mathbf{\\Sigma}_{22}\\\\ \\end{bmatrix}\\right) \\)</p> <p>entonces \\(\\mathbf{X}_1\\) y \\(\\mathbf{X}_2\\) son independientes si y solo si \\(\\mathbf{\\Sigma}_{12}=\\mathbf{0}\\).</p> <p>c) Si \\(\\mathbf{X}_1 \\sim N_{q_1}(\\mathbf{\\mu}_1,\\mathbf{\\Sigma}_{11})\\) y \\(\\mathbf{X}_2 \\sim N_{q_1}(\\mathbf{\\mu}_2,\\mathbf{\\Sigma}_{22})\\) son independientes, entonces</p> <p>\\( \\begin{bmatrix} \\mathbf{X}_{q_1}\\\\ \\mathbf{X}_{q_2}\\\\ \\end{bmatrix} \\sim N_{q_1+q_2}\\left( \\begin{bmatrix} \\mathbf{\\mu}_1 \\\\ \\mathbf{\\mu}_2 \\\\ \\end{bmatrix}, \\begin{bmatrix} \\mathbf{\\Sigma}_{11} &amp; \\mathbf{0}\\\\ \\mathbf{0}^t &amp; \\mathbf{\\Sigma}_{22}\\\\ \\end{bmatrix} \\right) \\)</p> <p>Distribuci\u00f3n condicional normal multivariada</p> <p>Sea</p> <p>\\( \\begin{bmatrix} \\mathbf{X}_{1}\\\\ \\mathbf{X}_{2}\\\\ \\end{bmatrix} \\sim N_{p}\\left( \\begin{bmatrix} \\mathbf{\\mu}_1 \\\\ \\mathbf{\\mu}_2 \\\\ \\end{bmatrix}, \\begin{bmatrix} \\mathbf{\\Sigma}_{11} &amp; \\mathbf{\\Sigma}_{12}\\\\ \\mathbf{\\Sigma}_{21} &amp; \\mathbf{\\Sigma}_{22}\\\\ \\end{bmatrix} \\right) \\)</p> <p>con \\(|\\mathbf{\\Sigma}_{22}|&gt;0\\). Entonces la distribuci\u00f3n condicional de \\(\\mathbf{X}_{1}\\) dado que \\(\\mathbf{X}_{2}=\\mathbf{x}_{2}\\), es normal y tiene media \\(\\mathbf{\\mu}_1+\\mathbf{\\Sigma}_{12}\\mathbf{\\Sigma}_{22}^{-1}(\\mathbf{x}_{2}-\\mathbf{\\mu}_2)\\) y covarianza \\(\\mathbf{\\Sigma}_{11}-\\mathbf{\\Sigma}_{12}\\mathbf{\\Sigma}_{22}^{-1}\\mathbf{\\Sigma}_{21}\\). </p> <p>Distribuci\u00f3n de una forma cuadr\u00e1tica</p> <p>Sea \\(\\mathbf{X}\\sim N_p(\\mathbf{\\mu},\\mathbf{\\Sigma})\\) con \\(|\\mathbf{\\sigma}|&gt; 0\\). Entonces \\((\\mathbf{X}-\\mathbf{\\mu})^{t}\\mathbf{\\Sigma}^{-1}(\\mathbf{X}-\\mathbf{\\mu}) \\sim \\chi_p^2\\).</p>"},{"location":"estadistica/multivariado/#inferencia-en-la-distribucion-normal-multivariada","title":"Inferencia en la distribuci\u00f3n normal multivariada","text":"<p>En esta secci\u00f3n se estudiar\u00e1n la forma de hacer inferencia con una muestra aleatoria multivariada.</p> <p>Distribuci\u00f3n conjunta multivariada</p> <p>Suponga que \\(\\mathbf{X}_1,\\mathbf{X}_2,\\dots,\\mathbf{X}_n\\), cada uno es un vector de dimensi\u00f3n \\(1\\times p\\), es una muestra aleatroria de tama\u00f1o \\(n\\) que proviene de una poblaci\u00f3n normal multivariada con vector de medias \\(\\mathbf{\\mu}\\) y matriz de covarianzas \\(\\mathbf{\\Sigma}\\). La funci\u00f3n de densidad conjunta es el producto de todas las densidades marginales:</p> <p>\\( \\begin{align*} f_{\\mathbf{X}_1,\\mathbf{X}_2,\\dots,\\mathbf{X}_n}(\\mathbf{x}_1,\\mathbf{x}_2,\\dots,\\mathbf{x}_n) &amp; =\\prod_{i=1}^{n}\\frac{1}{(2\\pi)^{p/2}|\\mathbf{\\Sigma}|^{1/2}}e^{\\frac{-1}{2}(\\mathbf{x}_i-\\mathbf{\\mu})^t\\mathbf{\\Sigma}^{-1}(\\mathbf{x}_i-\\mathbf{\\mu})}\\\\ &amp; = \\frac{1}{(2\\pi)^{np/2}|\\mathbf{\\Sigma}|^{n/2}}e^{\\frac{-1}{2}\\sum_{i=1}^{n}(\\mathbf{x}_i-\\mathbf{\\mu})^t\\mathbf{\\Sigma}^{-1}(\\mathbf{x}_i-\\mathbf{\\mu})} \\end{align*} \\)</p> <p>Note que, una vez observados los datos, dicha funci\u00f3n es ahora funci\u00f3n de \\(\\mathbf{\\mu}\\) y \\(\\mathbf{\\Sigma}\\), a esta funci\u00f3n se le conoce como funci\u00f3n de verosimilitud. Es de inter\u00e9s encontrar los valores \\(\\hat{\\mathbf{\\mu}}\\) y \\(\\hat{\\mathbf{\\Sigma}}\\) que maximicen dicha verosimilitud dados los datos.</p> <p>Estimadores de m\u00e1xima verosimilitud</p> <p>Sea \\(\\mathbf{X}_1,\\mathbf{X}_2,\\dots,\\mathbf{X}_n\\) una muestra aleatoria de una poblaci\u00f3n normal con media \\(\\mathbf{\\mu}\\) y covarianza \\(\\mathbf{\\Sigma}\\). Entonces </p> <p>\\( \\hat{\\mathbf{\\mu}} = \\bar{\\mathbf{X}}; \\hat{\\mathbf{\\Sigma}} = \\frac{n-1}{n}\\mathbf{S} \\)</p> <p>son los estimadores de m\u00e1xima verosimilitud de \\(\\mathbf{\\mu}\\) y \\(\\mathbf{\\Sigma}\\). Las realizaciones \\(\\bar{\\mathbf{x}}\\) y \\(\\frac{n-1}{n}\\mathbf{s}\\) son llamadas estimaciones de m\u00e1xima verosimilitud.</p> <p>Note que los estimadores de m\u00e1xima verosimilitud son aleatorios, mientras que las estimaciones son fijos. Por esta raz\u00f3n, es de inter\u00e9s estudiar las distribuciones de los estimadores de m\u00e1xima verosimilitud.</p> <p>Los estimadores de M\u00e1xima Verosimilitud tambien tienen propiedades deseables, por ejemplo son invariantes, es decir si \\(\\hat{\\mathbf{\\theta}}\\) es un estimador de m\u00e1xima verosimilitud, entonces un estimador de \\(h(\\mathbf{\\theta})\\) es \\(h(\\hat{\\mathbf{\\theta}})\\).</p> <p>Otra propiedad interesante es la suficiencia, en pocas palabras, toda la informaci\u00f3n acerca de \\(\\mathbf{\\mu}\\) y \\(\\mathbf{\\Sigma}\\) est\u00e1 contenida en \\(\\hat{\\mathbf{\\mu}}\\) y \\(\\hat{\\mathbf{\\Sigma}}\\).</p>"},{"location":"estadistica/multivariado/#distribuciones-muestrales-multivariada","title":"Distribuciones muestrales multivariada","text":"<p>Las distribuciones de \\(\\bar{\\mathbf{X}}\\) y \\(\\mathbf{S}\\) son an\u00e1logas al caso univariado, aunque hay ciertas generalizaciones.</p> <p>Distribuci\u00f3n del vector de medias muestral</p> <p>La distribuci\u00f3n de \\(\\bar{\\mathbf{X}}\\) es normal con vector de medias \\(\\mathbf{\\mu}\\) y covarianza \\(\\frac{1}{n}\\mathbf{\\Sigma}\\).</p> <p>Distribuci\u00f3n de la matriz de covarianza muestral</p> <p>La distribuci\u00f3n de \\((n-1)\\mathbf{S}=\\sum_{i=1}^{n}\\mathbf{V}_i\\mathbf{V}_i^t\\) es Wishart \\(p\\) variada con par\u00e1metros \\(n-1\\) y \\(\\mathbf{\\Sigma}\\), donde cada \\(\\mathbf{V}_i = (\\mathbf{X}-\\bar{\\mathbf{X}}) \\sim N_p(\\mathbf{0},\\mathbf{\\Sigma})\\).</p> <p>Independencia del vector de medias y matriz de covarianzas muestrales</p> <p>\\(\\bar{\\mathbf{X}}\\) y \\(\\mathbf{\\Sigma}\\) son independientes.</p>"},{"location":"estadistica/multivariado/#distribucion-para-tamanos-de-muestras-grandes-del-vector-de-medias-y-matriz-de-covarianzas-muestrales","title":"Distribuci\u00f3n para tama\u00f1os de muestras grandes del vector de medias y matriz de covarianzas muestrales","text":"<p>Las distribuciones de \\(\\bar{\\mathbf{X}}\\) y \\(\\mathbf{\\Sigma}\\) son similares al caso univariado cuando el tama\u00f1o de muestra aumenta, es decir se cumple la Ley de los grandes n\u00fameros y el Teorema Central del L\u00edmite.</p> <p>Ley de los grandes n\u00fameros</p> <p>\\(\\bar{\\mathbf{X}}\\) converge en probabilidad a \\(\\mathbf{\\mu}\\) y \\(\\mathbf{S}\\) converge en probabilidad a \\(\\mathbf{\\Sigma}\\).</p> <p>Teorema central del l\u00edmite</p> <p>Sea \\(\\mathbf{X}_1,\\mathbf{X}_2,\\dots,\\mathbf{X}_n\\) una muestra aleatoria de una poblaci\u00f3n normal con media \\(\\mathbf{\\mu}\\) y covarianza \\(\\mathbf{\\Sigma}\\) finita. Entonces \\(\\sqrt{n}(\\mathbf{X}-\\mathbf{\\mu})\\) tiene distribuci\u00f3n aproximadamente \\(N_p(\\mathbf{0},\\mathbf{\\Sigma})\\) para \\(n - p\\) grande.</p> <p>Distribuciones aproximadas</p> <p>Sea \\(\\mathbf{X}_1,\\mathbf{X}_2,\\dots,\\mathbf{X}_n\\) una muestra aleatoria de una poblaci\u00f3n normal con media \\(\\mathbf{\\mu}\\) y covarianza \\(\\mathbf{\\Sigma}\\) finita. Entonces \\(n(\\mathbf{X}-\\mathbf{\\mu})^t\\mathbf{S}^{-1}(\\mathbf{X}-\\mathbf{\\mu})\\) es aproximadamente \\(\\chi_p^2\\) para \\(n-p\\) grande.</p>"},{"location":"estadistica/multivariado/#inferencias-sobre-el-vector-de-medias","title":"Inferencias sobre el vector de medias","text":"<p>Es de inter\u00e9s hacer inferencias sobre el vector de medias. En particular se requiere saber si el vector de medias es igual a cierto vector de valores.</p> <p>Puede establecerse una pruaba de hip\u00f3tesis de la forma:</p> <p>\\( H_0: \\mathbf{\\mu} = \\mathbf{\\mu}_0 \\text{ vs } H_a: \\mathbf{\\mu} \\ne \\mathbf{\\mu}_0 \\)</p> <p>De manera an\u00e1loga al caso univariado, se puede realizar un contraste de hip\u00f3tesis similar a la prueba F llamado T cuadrada de Hotelling, es decir.</p> <p>\\( T^2=n(\\bar{\\mathbf{X}}-\\mathbf{\\mu}_0)^t\\mathbf{S}^{-1}(\\bar{\\mathbf{X}}-\\mathbf{\\mu}_0) \\)</p> <p>donde \\(T^2 \\sim \\frac{(n-1)p}{n-p}F_{p,n-p}\\). Por lo que se rechaza \\(H_0\\) si \\(T^2 &gt; \\frac{(n-1)p}{n-p}F_{p,n-p}(\\alpha)\\).</p>"},{"location":"estadistica/multivariado/#bibliografia","title":"Bibliograf\u00eda","text":"<p>Johnson, R., &amp; Wichern, D. (2007). Applied Multivariate Statistical Analysis (6th edition). Pearson Education.</p>"},{"location":"estadistica/probabilidad/","title":"Introducci\u00f3n a la probabilidad","text":"<p>La probabilidad es una rama de las matem\u00e1ticas que estudia el azar o aleatoriedad. En palabras simples, trata de medir la incertidumbre de que ocurra un suceso o evento. El resultado de dicho experimento  no puede ser determinado con antelaci\u00f3n.</p> <p> Imagen de ToNic-Pics en Pixabay</p> <p>Para darnos una idea de lo que es la probabilidad, Lipschutz &amp; Lipson, (2001) proporcionan dos definiciones:</p> <p>Definici\u00f3n cl\u00e1sica (A priori)</p> <p>Suponiendo que un evento \\(E\\) puede ocurrir de \\(s\\) formas de un total de \\(n\\) formas igualmente posibles. Entonces \\(p=s/n\\).</p> <p>Definici\u00f3n frecuentista (A posteriori)</p> <p>Suponiendo que despu\u00e9s de \\(n\\) repeticiones, para valores muy grandes de \\(n\\), un evento \\(E\\) ocurre \\(s\\) veces. Entonces \\(p=s/n\\).</p> <p>Estas definiciones a pesar de ser muy intuitivas, tienen grandes fallos. Por ejemplo, la primer definici\u00f3n es una definici\u00f3n circular, por que la frase igualmente posible es un sin\u00f3nimo de igualmente probable, justo lo que se quiere definir. En la segunda definici\u00f3n no se especifican los valores de \\(n\\). Estas definiciones son muy antiguas, pero pueden ayudar a entender de forma muy general el concepto de probabilidad.</p>"},{"location":"estadistica/probabilidad/#definicion-de-probabilidad","title":"Definici\u00f3n de probabilidad","text":"<p>Actualmente el estudio de la probabilidad se realiza mediante el uso de la teor\u00eda de conjuntos, a partir de ciertos axiomas.</p> <p>A continucai\u00f3n se abordar\u00e1n algunas definiciones para tener m\u00e1s en que consiste la probabilidad.</p>"},{"location":"estadistica/probabilidad/#espacio-muestral-y-eventos","title":"Espacio muestral y eventos","text":"<p>A continuaci\u00f3n se presentar\u00e1n algunas definiciones que ser\u00e1n de gran utilidad para conocer m\u00e1s de la probabilidad.</p> <p>Espacio muestral</p> <p>El conjunto \\(\\Omega\\) de todos los resultados posibles de un experimento se denomina espacio muestral.</p> <p>Evento</p> <p>Un evento \\(A\\) es un subconjunto del espacio muestral \\(\\Omega\\), es decir,  es un conjunto de resultados. Cualquier colecci\u00f3n de eventos y cada uno es un subconjunto de \\(\\Omega\\) se denominar\u00e1 con \\(\\mathbb{s}\\).</p> <p>Evento particular</p> <p>El evento \\(\\lbrace \\omega \\rbrace\\) constituido por un solo punto \\(\\omega \\in \\Omega\\) se denomina evento muestral o punto muestral.</p> <p>Los conceptos presentados se ilustran con unos ejemplos muy simples.</p> Lanzar una moneda <p>Considere el experimento de lanzar una moneda.</p> <p> Imagen de OpenClipart-Vectors en Pixabay.</p> <p>Este experimento podr\u00eda ser el de los m\u00e1s sencillos, pero permite representar claramente los conceptos.</p> <p>El espacio muestral estar\u00eda comformado por</p> <p>\\(\\Omega = \\lbrace A,S \\rbrace \\)</p> <p>donde \\(A\\) representra el resultado de que caiga \u00e1guila y \\(S\\) representa el resultado de que caiga sol. \\(\\mathbb{s}\\) podr\u00eda estar representado por \\( \\lbrace \\lbrace A \\rbrace,\\lbrace S \\rbrace \\rbrace \\) quien tambien ser\u00eda un subconjunto de \\(\\Omega\\).</p> <p>Note que \\(\\emptyset\\) y \\(\\Omega\\) tambi\u00e9n son subconjuntos de \\(\\Omega\\) pero no suelen ser considerados.</p> Lanzamiento de un dado <p>Considere el experimento de lanzar un dado de 6 caras.</p> <p> Imagen de anncapictures en Pixabay.</p> <p>El espacio muestral estar\u00eda formado por los seis resultados posibles del dado, es decir:</p> \\[ \\Omega = \\lbrace 1,2,3,4,5,6 \\rbrace \\] <p>Un punto muestral podr\u00eda ser un resultado en espec\u00edfico, por ejemplo \\(\\lbrace 1 \\rbrace\\). Todos los subconjuntos posibles de resultados consitituir\u00edan \\(\\mathbb{s}\\).</p> <p>Sean el evento \\(A\\) que el resultado sea par, el evento \\(B\\) que el resultado sea impar y el evento \\(C\\) que el resultado sea mayor a 3.</p> <p>Entonces se tiene que</p> <p>\\(A=\\lbrace 2,4,6 \\rbrace, \\\\ B=\\lbrace 1,3,5 \\rbrace, \\\\ C=\\lbrace 4,5,6 \\rbrace\\)</p> <p>Observe que el evento \\(B \\cup C = \\lbrace 1,3,4,5,6\\rbrace\\) tambi\u00e9n es un evento en el espacio muestral \\(S\\).</p> <p>Finalmente note que los eventos \\(A\\) y \\(B\\) no tienen elementos en com\u00fan, es decir \\(A \\cap B = \\emptyset\\), entonces se dice que estos eventos son ajenos, o mutuamente excluyentes o disjuntos.</p>"},{"location":"estadistica/probabilidad/#axiomas-de-probabilidad","title":"Axiomas de probabilidad","text":"<p>Como se mencion\u00f3 anteriormente, actualmente la probabilidad se estudia de manera formal partiendo de 3 axiomas. Se usar\u00e1 como referencia a Mood et al., (1974).</p> <p>Conocimiento avanzado</p> <p>El estudio de la probabilidad requiere conocimientos avanzados de Matem\u00e1ticas y Teor\u00eda de Conjuntos los cuales est\u00e1n fuera del alcance de esta p\u00e1gina. \u00danicamente se mencionar\u00e1n los temas m\u00e1s relevantes que sirvan como una gu\u00eda para el estudio de la estad\u00edstica.</p> <p>Para un estudio m\u00e1s formal se puede revisar Apuntes de Estad\u00edstica Matem\u00e1tica.</p> <p>Sea \\(A\\) un evento del espacio muestral \\(\\Omega\\). Una funci\u00f3n \\(P: \\mathbb{s} \\rightarrow [0,1]\\) es llamada funci\u00f3n de probabilidad si satisface estas 3 condiciones.</p> <ul> <li>Axioma 1: \\(0\\le P(A) \\le 1\\) para \\(A \\in \\mathbb{s}\\)</li> <li>Axioma 2: \\(P(\\Omega) = 1\\)</li> <li>Axioma 3: Para cualquier secuencia de eventos \\(A_1,A_2,\\dots\\) mutuamente excluyentes, entonces</li> </ul> \\[P\\left( \\bigcup_{i=1}^{\\infty} A_i\\right)=\\sum_{i=1}^{\\infty}A_i\\] <p>Se dice que \\(P(A)\\) es la probabilidad de que ocurra el evento A.</p> <p>Para ilustrar estas ideas, considere la siguiente funci\u00f3n de probabilidad.</p> <p>Funci\u00f3n de probabilidad con probabilidades iguales</p> <p>En ciertos problemas con espacios muestrales finitos \\(\\Omega = \\lbrace \\omega_1,\\dots,\\omega_n\\rbrace\\), es posible asignarle a cada uno de los puntos una probabilidad igual a \\(1/n\\). A esta funci\u00f3n de probabilidad se le conoce como la funcion de probabilidad con probabilidades iguales y se define como:</p> <p>\\(P^*(A)=\\frac{\\#(A)}{n}\\)</p> <p>donde \\(\\#(A)\\) es el n\u00famero de elementos en \\(A\\) y \\(n\\) el n\u00famero de elementos del espacio muestral \\(\\Omega\\).</p> <p>Se puede ver que la funci\u00f3n de probabilidad con probabilidades iguales cumple con todas las propiedades, por lo que es una funci\u00f3n de probabilidad bien definida.</p> <p>A partir de los axiomas, se derivan otras propiedades que nos ayudar\u00e1n a posible calcular las probabilidades de varios eventos.</p> <ol> <li>\\(P(\\emptyset)=0\\).</li> <li>Si \\(A_1,\\dots,A_n\\) son eventos mutuamente excluyentes, entonces \\(P\\left( \\bigcup_{i=1}^{n} A_i\\right)=\\sum_{i=1}^{n}P(A_i)\\).</li> <li>\\(P(A^c)=1-P(A)\\).</li> <li>Para cualesquiera 2 eventos: \\(P(A \\cup B) = P(A) + P(B) - P(A \\cap B)\\).</li> <li>Si \\(A \\subset B\\), entonces \\(P(A) &lt; P(B)\\).</li> </ol> Lanzamiento de un dado <p>Suponga que se lanza un dado balanceado.</p> <p>Se puede asumir que la probabilidad de que se obtenga un resultado en particular es \\(1/6\\), por lo que la probabilidad de que caiga un n\u00famero par es \\(P^*(A) = 1/2\\).</p> <p>Usando la propiedad 3, se tiene que \\(B = A^c\\), por lo que \\(P(B)=1-P(A)=0.5\\).</p>"},{"location":"estadistica/probabilidad/#probabilidad-condicional","title":"Probabilidad condicional","text":"<p>En ocasiones, es de inter\u00e9s conocer la probabilidad de un evento, dado que haya ocurrido otro. En este sentido, se define la probabilidad condicional.</p> <p>Probabilidad condicional</p> <p>Sean \\(A\\) y \\(B\\) dos eventos en \\(\\mathbb{s}\\). La probabilidad condicional del evento \\(A\\) dado el evento \\(B\\), denotada por \\(P\\left( A|B \\right)\\), se define como  \\(P \\left( A|B\\right) =\\frac{P\\left(A\\cap B\\right)}{P\\left( B\\right)}\\) con \\(P(B) \\ne 0\\).</p> <p>Note que la probabilidad anterior no est\u00e1 definida cuando \\(P(B) = 0\\). Tambi\u00e9n se desprende la f\u00f3rmula \\(P(A \\cap B )= P(A|B)P(B) = P(B|A)P(A)\\) si \\(P(A) \\ne 0\\).</p> <p>De la definici\u00f3n anterior, se desprenden las siguientes propiedades de la funci\u00f3n de probabilidad condicional</p> <ul> <li>\\(P(\\emptyset|B)=0\\).</li> <li>Si \\(A_1,A_2,\\dots,A_n\\) son eventos mutuamente excluyentes en \\(\\mathbb{s}\\), entonces \\(P(A_1 \\cup A_2 \\cup \\dots \\cup A_n|B) = \\sum_{i=1}^{n}P(A_i|B)\\).</li> <li>\\(P(A^c|B)=1 - P(A|B)\\).</li> <li>Si \\(A_1\\) y \\(A_2 \\in \\mathbb{s}\\), entonces \\(P(A_1|B)=P(A_1 \\cap A_2|B)+P(A_1 \\cap A^c_2|B)\\).</li> <li>Para cualesquiera 2 eventos \\(A_1\\) y \\(A_2 \\in \\mathbb{s}\\), \\(P(A_1 \\cup A_2 |B) = P(A_1|B)+P(A_2|B)-P(A_1 \\cap A_2|B)\\).</li> <li>Si \\(A_1\\) y \\(A_2 \\in \\mathbb{s}\\) y \\(A_1 \\subset A_2\\), entonces \\(P(A_1|B) \\le P(A_2|B)\\).</li> <li>Si \\(A_1,A_2,\\dots,A_n \\in \\mathbb{s}\\), entonces \\(P(A_1 \\cup A_2 \\cup \\dots \\cup A_n|B) \\le \\sum_{i=1}^{n}P(A_i|B)\\).</li> </ul> <p>A continuaci\u00f3n se mencionan unos teoremas de gran importancia. La aplicaci\u00f3n de dichos teoremas se ilustran con unos ejemplos</p> <p>Teorema de probabilidades totales</p> <p>Si \\(B_1, B_2, \\dots,B_n\\) es una colecci\u00f3n de eventos mutuamente disjuntos en \\(\\mathbb{s}\\) y satisfacen \\(\\Omega = \\cup^{n}_{j=1} B_j\\) y \\(P(B_j)&gt;0\\) para \\(j = 1,\\dots,n\\), entonces para toda \\(A \\in \\mathbb{s}\\) se tiene \\(P\\left(A\\right)=\\sum^{n}_{j=1}P(A|B_j)P(B_j)\\).</p> <p> Representaci\u00f3n gr\u00e1fica del concepto de probabilidad total</p> Seleccionar una pelota de varias urnas <p>Suponga que se tienen 2 urnas con pelotas de distintos colores todas del mismo tama\u00f1o. La primera tiene 3 pelotas rojas, 3 blancas y 4 negras; la segunda tiene 4 pelotas rojas, 3 blancas y 1 negra. Se selecciona una urna al azar y se extrae una pelota. \u00bfC\u00faal es la probabilidad de que la pelota extra\u00edda sea blanca?</p> <p>Observe que la elecci\u00f3n de las urnas constituyen 2 eventos mutuamente disjuntos ya que la uni\u00f3n de ambos eventos constituye el espacio muestral (Todas las pelotas est\u00e1n en la urna 1 o en la urna 2). Llamemos \\(B_1\\) al evento de seleccionar la urna 1 y \\(B_2\\) al evento de seleccionar la urna 2.</p> <p>El evento extraer una pelota blanca puede ocurrir cuando se elige la urna 1 o la urna 2, por lo que se puede aplicar la f\u00f3rmula del teorema de probabilidades totales. Llamemos \\(A\\) al evento de seleccionar una pelota blanca.</p> <p>Por lo tanto</p> <p>\\(P\\left(A\\right)=\\sum^{2}_{j=1}P(A|B_j)P(B_j)=P(A|B_1)P(B_1)+P(A|B_2)P(B_2)\\)</p> <p>Asumiendo probabilidades iguales, se tiene que \\(P(B_1)=P(B_2)=1/2\\), \\(P(A|B_1)=3/10\\) y \\(P(A|B_2)=3/8\\), por lo que la probabilidad de elegir una pelota blanca es 0.3375.</p> <p>Teorema de Bayes</p> <p>Si \\(B_1, B_2, \\dots,B_n\\) es una colecci\u00f3n de eventos mutuamente disjuntos en \\(\\mathbb{s}\\) y satisfacen \\(\\Omega = \\cup^{n}_{j=1} B_j\\) y \\(P(B_j)&gt;0\\) para \\(j = 1,\\dots,n\\), entonces para toda \\(A \\in \\mathbb{s}\\) con \\(P(A)&gt;0\\) se tiene \\(P\\left(B_k|A\\right)=\\frac{P(A|B_k)P(B_k)}{\\sum^{n}_{j=1}P(A|B_j)P(B_j)}\\).</p> Seleccionar una pelota de varias urnas <p>Consid\u00e9rese el problema de las urnas. Sabiendo que la pelota extra\u00edda fue blanca. \u00bfCu\u00e1l es la probabilidad de que fuera de la primera urna?</p> <p>Se debe calcular la probabilidad \\(P(B_1|A)\\). Usando el teorema de Bayes, simplemente se susituye en la f\u00f3rmula y se obtiene la probabilidad resultante es 0.4444.</p>"},{"location":"estadistica/probabilidad/#independencia-de-eventos","title":"Independencia de eventos","text":"<p>Eventos independientes</p> <p>Sean \\(A\\) y \\(B\\) dos eventos en \\(\\mathbb{s}\\) Los eventos \\(A\\) y \\(B\\) se dice que son independientes i y solo si una de las siguientes condiciones es satisfecha.</p> <ul> <li>\\(P(A \\cap B) = P(A)P(B)\\)</li> <li>\\(P(A|B) = P(A)\\) si \\(P(B) &gt; 0\\)</li> <li>\\(P(B|A) = P(B)\\) si \\(P(A) &gt; 0\\)</li> </ul> <p>De la definici\u00f3n anterior, se desprenden las siguientes propiedades:</p> <p>Eventos independientes y sus complementos</p> <p>Si los eventos \\(A\\) y \\(B\\) son independientes, entonces los siguientes eventos tambi\u00e9n son independientes: \\(A\\) y \\(B^c\\), \\(A^c\\) y \\(B\\) y \\(A^c\\) y \\(B^c\\).</p> <p>Independencia y eventos disjuntos</p> <p>No debe confundirse los t\u00e9rminos eventos independientes y eventos disjuntos. De hecho, los eventos disjuntos suelen ser muy dependientes por que la ocurrencia de uno implica la no ocurrencia del otro. El \u00fanico evento que es independiente y ajeno es el vac\u00edo \\(\\emptyset\\).</p> <p>Estos conceptos se ilustran con el siguiente ejemplo.</p> Lanzar dos dados <p>Considere el experimento de lanzar 2 dados balanceados. El evento \\(A\\) ser\u00eda el resultado de lanzar el primer dado y el evento \\(B\\) el resultado de lanzar el segundo dado. \u00bfLos eventos \\(A\\) y \\(B\\) son independientes?.</p> <p>El espacio muestral estar\u00eda constituido por 36 pares de resultados posibles, cada uno con una probabilidad de 1/36.</p> <p>\\(\\Omega = \\lbrace (1,1),(1,2),\\dots,(6,6) \\rbrace\\)</p> <p>Para comprobar si son eventos independientes, se comprobar\u00e1 si se cumple al menos una de las 3 condiciones mencionadas en la definici\u00f3n, en este caso \\(P(A|B) = P(A)\\).</p> <p>Consideremos el caso cuando el resultado del primer dado es 3. Note que \\(A=  \\lbrace (3,1),(3,2),\\dots,(3,6) \\rbrace\\) y su probabilidad es \\(6/36 = 1/6\\).</p> <p>Ahora consideremos el caso cuando el resultado del segundo dado es 3. Note que \\(B=  \\lbrace (1,3),(2,3),\\dots,(6,3) \\rbrace\\) y su probabilidad es \\(6/36 = 1/6\\).</p> <p>Para calcular la probabilidad condicional, primero se debe calcular la probabilidad de que ocurran ambos eventos, es decir, el caso cuando el resultado del primer dado es 3 y el caso cuando el resultado del segundo dado es 3, el \u00fanico caso en que ocurre esto es en el par \\(\\lbrace (3,3) \\rbrace\\), por lo que \\(P(A \\cap B) = 1/36\\). Por lo tanto:</p> <p>\\(P(A|B)=\\frac{P(A \\cap B)}{P(B)}=\\frac{1/36}{1/6}=1/6\\)</p> <p>Se comprueba que ambos eventos son independientes.</p>"},{"location":"estadistica/probabilidad/#variables-aleatorias","title":"Variables aleatorias","text":"<p>Hasta el momento conocemos c\u00f3mo asignar probabilidades a eventos del espacio muestral, sin embargo en la pr\u00e1ctica esto no siempre es posible ya que ser\u00eda complicado mencionar o enumerar todos los elementos del espacio muestral.</p> <p>Por esta raz\u00f3n es necesario \u201ctraducir\u201d dichos eventos a n\u00fameros reales. Esto es posible mediante el uso de variables aleatorias.</p>"},{"location":"estadistica/probabilidad/#definicion","title":"Definici\u00f3n","text":"<p>Variable aleatoria</p> <p>Se dice que \\(X\\) es una variable aleatoria si</p> <p>\\(X:\\Omega \\rightarrow \\mathbb{R}\\).</p> <p>Si \\(\\omega \\in \\Omega\\) entonces \\(X(\\omega) \\in \\mathbb{R}\\). Si \\(B \\subset \\mathbb{R}\\) entonces \\(X^{-1}(B) \\in \\mathbb{s}\\), donde \\(X^{-1}(B)=\\lbrace \\omega \\in \\Omega |X(\\omega) \\in B\\rbrace\\). </p> <p>Una variable aleatoria asigna n\u00fameros reales a los eventos que ocurren en \\(\\Omega\\).</p> <p>Existen dos tipos de variables aleatorias: discretas y continuas.</p> <p>Las variables aleatorias discretas toman sus valores en un conjunto finito o numerable, por ejemplo, el conjunto de los n\u00fameros naturales \\(\\mathbb{N}\\). A este conjunto de valores se le conoce como conjunto de valores posibles o \\(D_X\\).</p> <p>Las variables aleatorias continuas, por el contrario, toman sus valores en el conjunto de los n\u00fameros reales \\(\\mathbb{R}\\).</p> Lanzar una moneda 3 veces <p>Sup\u00f3ngase que se lanza una moneda 3 veces y se quiere saber la probabilidad del evento \u201cque caiga \u00e1guila\u201d, es decir, es de nuestro inter\u00e9s conocer el n\u00famero de \u00e1guilas.</p> <p>Se puede ver que el espacio muestral del experimento es \\(\\Omega = \\lbrace (A,A,A),\\dots,(S,S,S) \\rbrace\\). Por lo que se le puede asignar la siguiente variable aleatoria.</p> <p>La funci\u00f3n o regla de asignaci\u00f3n de nuestra variable aleatoria, ser\u00e1 el n\u00famero de \u00e1guilas que cayeron en 3 lanzamientos de moneda.</p> Evento muestral \\(\\omega\\) Variable aleatoria \\(X(\\omega)\\) \\((S,S,S)\\) 0 \\((A,S,S)\\) 1 \\((S,A,S)\\) 1 \\((S,S,A)\\) 1 \\((S,A,A)\\) 2 \\((A,S,A)\\) 2 \\((A,A,S)\\) 2 \\((A,A,A)\\) 3 <p>Adem\u00e1s si se supone que la moneda es honesta, se le puede asignar la siguiente funci\u00f3n de probabilidad.</p> Evento (\\(A\\)) \\(X\\) Probabilidad Ning\u00fan \u00e1guila 0 1/8 Un \u00e1guila 1 3/8 Dos \u00e1guilas 2 3/8 Tres \u00e1guilas 3 1/8 Duraci\u00f3n de una llamada telef\u00f3nica <p>Hasta el momento \u00fanicamente se han considerado espacios muestrales finitos, con el fin de enumerarlos. Sin embargo existen casos en los que es imposible numerarlos a todos, pero si es posible mencionarlos.</p> <p>Considere una llamada telef\u00f3nica medida en minutos y segundos. \u00bfCuanto tiempo podr\u00eda durar una llamada telef\u00f3nica? Podria tardar desde un segundo hasta horas, por lo que no es posible enumerar el espacio muestral.</p> <p>El tiempo de la llamada podr\u00eda ser medido en minutos y podr\u00eda ser considerado una variable aleatoria continua.</p> <p>Posteriormente se conocer\u00e1 un modelo que describa el comportamiento que suelen tener este tipo de eventos y se podr\u00e1 usar para calcular probabilidades del tipo \\(P(X \\le 5)\\).</p>"},{"location":"estadistica/probabilidad/#funcion-de-distribucion","title":"Funci\u00f3n de distribuci\u00f3n","text":"<p>Para describir el comportamiento de una variable aleatoria, se debe conocer c\u00f3mo se comportan sus probabilidades, esto puede realizarse mediante la funci\u00f3n de distribuci\u00f3n.</p> <p>Funci\u00f3n de distribuci\u00f3n</p> <p>La funci\u00f3n de distribuci\u00f3n de una variable aleatoria \\(X\\) se define como \\(F_x:\\mathbb{R} \\rightarrow [0,1]\\) tal que</p> <p>\\( F_X(x) = P(X \\le x) = P(\\lbrace \\omega : X(\\omega) \\le x \\rbrace) \\)</p> <p>Una funci\u00f3n de distribuci\u00f3n definida es \u00fanica para cada variable aleatoria y siempre existir\u00e1, es importante conocerla porque con ella se pueden calcular probabilidades de la variable aleatoria.</p> <p>Conocimiento de c\u00e1lculo</p> <p>Algunas funciones de distribuci\u00f3n requieren conocimiento de c\u00e1lculo, incluyendo temas de l\u00edmites, derivadas, integrales y series. En esta p\u00e1gina s\u00f3lo se usar\u00e1n las herramientas m\u00e1s indispensables.</p> <p>A continuaci\u00f3n se enuncian sus propiedades en general:</p> <ol> <li>\\(F_X(-\\infty) = \\lim_{x \\to -\\infty} F_X(x) = 0\\) y \\(F_X(\\infty) = \\lim_{x \\to \\infty} F_X(x) = 1\\)</li> <li>Es mon\u00f3tona creciente, es decir, para toda \\(a &lt; b\\) entonces \\(F_X(a) \\le F_X(b)\\).</li> <li>Es continua por la derecha, esto es \\(\\lim_{0&lt; h \\to 0} F_X(x+h) = F_X(x)\\)</li> </ol> <p>Algunos autores tambi\u00e9n se refieren a esta funci\u00f3n como Funci\u00f3n de distribuci\u00f3n acumulada (Mood et al., 1974).</p> <p>Note que la definici\u00f3n no menciona nada acerca de la forma que podr\u00eda tener la funci\u00f3n de distribuci\u00f3n. En los siguientes ejemplos se indagar\u00e1 un poco en el comportamiento para algunos casos.</p> Lanzar 3 monedas <p>Consid\u00e9rese el ejemplo del lanzamiento de las 3 monedas. Sea \\(X\\) el n\u00famero de \u00e1guilas en 3 lanzamientos.</p> <p>La funci\u00f3n de distribuci\u00f3n es la siguiente:</p> <p>\\(F_X(x)=\\begin{cases} 0 &amp; \\text{ si } x &lt; 0\\\\ 1/8 &amp; \\text{ si } 0 \\le x &lt; 1 \\\\  1/2 &amp; \\text{ si } 1  \\le x &lt; 2 \\\\ 7/8 &amp; \\text{ si } 2  \\le x &lt; 3 \\\\ 1 &amp; \\text{ si }  3 \\le x \\end{cases}\\)</p> <p>A continuaci\u00f3n se muestra una representaci\u00f3n gr\u00e1fica de la funci\u00f3n.</p> <p> Representaci\u00f3n gr\u00e1fica de la distribuci\u00f3n de \\(X\\).</p> <p>Por ejemplo, la probabilidad de que se obtenga 0 o 1 \u00e1guilas es 1/8.</p> Duraci\u00f3n de una llamada telef\u00f3nica <p>Para las variables aleatorias continuas, la forma de la funci\u00f3n de distribuci\u00f3n es un poco distinta, pero sigue cumpliendo las mismas propiedades.</p> <p>A continuaci\u00f3n se representa una funci\u00f3n de distribuci\u00f3n acumulada de la variable aleatoria \\(X\\) que podr\u00eda ser usada para modelar la duraci\u00f3n de las llamadas telef\u00f3nicas.</p> <p>\\(F_X(x)=\\begin{cases} 0 &amp; \\text{ si } x \\le 0\\\\ 1-e^{-x} &amp; \\text{ si } 0 &lt; x \\end{cases}\\)</p> <p> Representaci\u00f3n de la funci\u00f3n de distribuci\u00f3n \\(F_X(x)\\).</p> <p>En este caso, se puede ver que la probabilidad de que la variable aleatoria sea \\(X\\) menor a cero es 0, ya que el soporte de la distribuci\u00f3n son los n\u00fameros reales positivos.</p> <p>Como puede apreciarse, conociendo la funci\u00f3n de distribuci\u00f3n es posible obtener las probabilidades de cualquier evento, simplemente evaluando los valores en la funci\u00f3n, por ejemplo:</p> <ul> <li>\\(P(X &lt; 2) = 1-e^{-2}=0.8646\\)</li> <li>\\(P(X &gt; 5) = 1-(1-e^{-5})=0.0067\\)</li> <li>\\(P(1&lt;X&lt;3)=P(X&lt;3)-P(X&lt;1)=0.3180\\)</li> </ul> <p>C\u00e1lculo de probabilidades</p> <p>Se debe tener cuidado cuando se calcula probabilidades de variables aleatorias discretas ya que en general no es lo mismo \\(P(X &lt; x)\\) que \\(P(X \\le x)\\).</p>"},{"location":"estadistica/probabilidad/#funcion-de-densidad","title":"Funci\u00f3n de densidad","text":"<p>Otra funci\u00f3n relacionada con las variables aleatorias es la funci\u00f3n de densidad.</p> <p>A diferencia de la funci\u00f3n de distribuci\u00f3n, esta funci\u00f3n es distinta seg\u00fan si la variable aleatoria es discreta o continua. Primero se definir\u00e1 para el caso discreto y posteriermente para el caso continuo.</p>"},{"location":"estadistica/probabilidad/#funcion-de-densidad-de-variables-aleatorias-discretas","title":"Funci\u00f3n de densidad de variables aleatorias discretas","text":"<p>Funci\u00f3n de densidad de una variable aleatoria discreta</p> <p>Si \\(X\\) es una variable aleatoria discreta con \\(D_x = x_1,x_2,\\dots\\) entonces</p> <p>\\(f_X(x)=\\begin{cases} P(X=x_j) &amp; \\text{ si } x \\in D_x\\\\ 0 &amp; \\text{ cualquier otro caso.}   \\end{cases}\\)</p> <p>es la funci\u00f3n de densidad discreta de \\(X\\).</p> <p>Funci\u00f3n indicadora</p> <p>En ocasiones se usa la funci\u00f3n indicadora \\(I_{\\lbrace D_x \\rbrace}(x)=1 \\text{ si } x \\in D_x \\text{ y } I_{\\lbrace D_x \\rbrace}(x)=0 \\text{ si } x \\notin D_x\\) para expresar la funci\u00f3n de densidad en una sola l\u00ednea.</p> <p>Otros nombres</p> <p>Algunos autores tambien conocen a esta funci\u00f3n como funci\u00f3n de masa de probabilidad o funci\u00f3n de probabilidad y en ocasiones la denotan como \\(p_X(x)\\) (Mood et al., 1974).</p> <p>Una propiedad interesante de esta funci\u00f3n es que \\(F_X(x)\\) se puede obtener a partir de \\(f_X(x)\\) y viceversa.</p> Lanzar 3 monedas <p>Considere el ejemplo de las 3 monedas. Conociendo \\(F_X(x)\\), se puede conocer \\(f_X(x)\\).</p> <p>La funci\u00f3n de densidad \\(f_X(x)\\), puede obtenerse mediante</p> <p>\\(f_X(x_j)=F_X(x_j)-\\lim_{0 &lt; h \\to 0} F_X(x-h)\\)</p> <p>para cada valor posible \\(x_j \\in D_x\\). Note que \\(f_X(x) = 0\\) cuando \\(x \\ne x_j\\).</p> <p>Por ejemplo, si \\(x_j=0\\) y \\(h = 0.0001\\), al usar la f\u00f3rmula anterior se tiene que</p> <p>\\(f_X(0)=F_X(0)- F_X(-0.0001)= 1/8-0= 1/8\\)</p> <p>y se hace lo mismo para los dem\u00e1s puntos en \\(D_x\\).</p> <p>Por otro lado:</p> <p>\\(F_X(x)=\\sum_{\\lbrace j: x_j &lt; x \\rbrace} f_X(x_j)\\).</p> <p>En este caso si \\(x=1.5\\), entonces</p> <p>\\(F_X(1.5)=\\sum_{\\lbrace j: x_j &lt; 1.5 \\rbrace} f_X(x_j)=f_X(0)+f_X(0)=1/8+3/8=1/2\\).</p> <p>Con esto se comprueba la propiedad para el caso de variables aleatorias discretas.</p> <p>Las propiedades de la funci\u00f3n de densidad son las siguientes.</p> <p>Propiedades de la funci\u00f3n de densidad de una variabla aleatoria discreta</p> <p>Cualquier funci\u00f3n \\(f(x)\\) con dominio en \\(\\mathbb{R}\\) y contradominio en \\([0,1]\\) es una funci\u00f3n de densidad si para alg\u00fan conjunto contable \\(D = \\lbrace x_1,x_2,\\dots \\rbrace\\)</p> <ol> <li>\\(f(x_j) &gt; 0\\) para \\(j = 1,2,\\dots\\)</li> <li>\\(f(x) = 0\\) para \\(x \\ne x_j\\) con \\(j = 1,2,\\dots\\)</li> <li>\\(\\sum_{D}f(x_j) = 1\\)</li> </ol>"},{"location":"estadistica/probabilidad/#funcion-de-densidad-de-variables-aleatorias-continuas","title":"Funci\u00f3n de densidad de variables aleatorias continuas","text":"<p>Funci\u00f3n de densidad de una variable aleatoria continua</p> <p>Si \\(X\\) es una variable aleatoria continua, entonces si existe una funci\u00f3n \\(f_X(x)\\) tal que</p> <p>\\(F_X(x)=\\int_{-\\infty}^{x}f_X(u)du\\)</p> <p>es llamada la funci\u00f3n de densidad de \\(X\\).</p> <p>Funci\u00f3n indicadora</p> <p>En ocasiones se usa la funci\u00f3n indicadora \\(I_{(a,b)}(x)=1 \\text{ si } x \\in (a,b) \\text{ y } I_{(a,b)}(x)=0 \\text{ si } x \\notin (a,b)\\) para expresar la funci\u00f3n de densidad en una sola l\u00ednea.</p> <p>Otros nombres</p> <p>Algunos autores tambien conocen a esta funci\u00f3n como funci\u00f3n de densidad coninua o funci\u00f3n de densidad integrada (Mood et al., 1974).</p> <p>Una propiedad interesante de la funci\u00f3n de densidad \\(f_X(x)\\) es que, si existe la funci\u00f3n, es posible obtenerla a partir de \\(F_X(x)\\) y viceversa.</p> Duraci\u00f3n de una llamada telef\u00f3nica <p>Usando el teorema fundamental del c\u00e1lculo, se puede probar la propiedad anterior. Se ilustrar\u00e1 para el ejemplo de la duraci\u00f3n de las llamadas telef\u00f3nicas.</p> <p>Sup\u00f3ngase que la funci\u00f3n de distribuci\u00f3n para modelar la duraci\u00f3n de las llamadas telef\u00f3nicas es</p> <p>\\(F_X(x)=\\begin{cases} 0 &amp; \\text{ si } x \\le 0\\\\ 1-e^{-x} &amp; \\text{ si } 0 &lt; x \\end{cases}\\)</p> <p>Note que \\(F_X(x)\\) est\u00e1 definida en dos partes, por lo que la funci\u00f3n no es absolutamente continua en cero, por lo que solo ser\u00e1 diferenciable en el intervalo de los reales positivos.</p> <p>\\(f_X(x)=\\frac{d F_X(x)}{dx} = \\frac{d 1-e^{-x}}{dx}=-\\frac{d e^{-x}}{dx}=e^{-x}\\)</p> <p>es decir</p> <p>\\( f_X(x)=e^{-x}I_{(0,\\infty)}(x)\\).</p> <p>Por otro lado, note que</p> <p>\\( F_X(x)=\\int_{-\\infty}^{x}e^{-u}du=\\int_{0}^{x}e^{-u}du=1-e^{-x}\\),</p> <p>es decir</p> <p>\\( F_X(x)=1-e^{-x}I_{(0,\\infty)}(x)\\).</p> <p>Comprobandose as\u00ed la propiedad.</p>"},{"location":"estadistica/probabilidad/#media","title":"Media","text":"<p>Ahora se definir\u00e1 una de las principales caracter\u00edsticas de una variable aleatoria, la media o valor esperado.</p> <p>Media</p> <p>Sea \\(X\\) una variable aleatoria. La media de \\(X\\), denotada por \\(\\mathbb{E}(X)\\) o \\(\\mu_X\\) se define como:</p> <p>\\(\\mathbb{E}(X)=\\begin{cases} \\sum_{D_x}x_j f_X(x) ; x_j \\in D_x \\text{ si $X$ es discreta}\\\\ \\int_{-\\infty}^{\\infty} xf_X(x)dx \\text{ si $X$ es continua} \\end{cases}\\)</p> <p>Existencia de la media</p> <p>Obs\u00e9rvese que la media de una variable aleatoria \\(X\\) podr\u00eda no existir, en el sentido de que no es un n\u00famero. En este contexto, el infinito (\\(\\infty\\)) carece de sentido.</p> <p>La media es una medida de localizaci\u00f3n central de una variable aleatoria \\(X\\) y puede ser considerada como \u201cel centro\u201d de una densidad o \u201cel valor m\u00e1s probable\u201d,</p> <p>En variables aleatorias discretas, ser\u00eda el valor que \u201cm\u00e1s se espera\u201d que tome una realizaci\u00f3n de \\(X\\). Tambien puede pensarse como una suma ponderada,en la cual se le da m\u00e1s peso a valores con mayor probabilidad.</p> <p>En variables aleatorias continuas, un intervalo alrededor de \\(\\mu_X\\) es el \u201cm\u00e1s probable\u201d en el sentido de que ser\u00eda el intervalo con mayor probabilidad que cualquier otro de igual tama\u00f1o.</p> N\u00famero esperado de \u00e1guilas <p>Considere el ejemplo del lanzamiento de una moneda 3 veces.</p> <p>El valor esperado del n\u00famero de \u00e1guilas puede obtenerse con</p> <p>\\( \\begin{align*} \\mathbb{E}(X) &amp;= \\sum_{i=0}^{3}x_iP(X = x_i)\\\\ &amp; = 0*1/8+1*3/8+2*3/8+3*1/8\\\\ &amp; = 1.5 \\end{align*}   \\)</p> <p>Obs\u00e9rvese que en este caso 1.5 no es un valor posible de \\(X\\), aunque denota el centro de la distribuci\u00f3n. Se entender\u00eda que observar 1 y 2 \u00e1guilas (por igual) es lo m\u00e1s esperado.</p> Duraci\u00f3n de las llamadas <p>\u00bfCual ser\u00eda la duraci\u00f3n promedio de las llamadas telef\u00f3nicas?</p> <p>Se proceder\u00e1 a calcular la media de las llamadas telef\u00f3nicas del ejemplo anterior.</p> <p>\\( \\begin{align*} \\mathbb{E}(X) &amp;= \\int_{0}^{\\infty}xe^{-x}dx\\\\ &amp; = \\Gamma(2)\\\\ &amp; = 1 \\end{align*} \\)</p> <p>donde la expresi\u00f3n \\(\\Gamma(n)\\) representa la funci\u00f3n gamma.</p> <p>Por lo que la duraci\u00f3n media de las llamadas telef\u00f3nicas es de 1 minuto.</p> La media no siempre existe <p>Suponga que se tiene la siguiente funci\u00f3n de densidad.</p> <p>\\(f_X(x)=\\frac{1}{(x-1)^2}I_{(2,\\infty)}(x)\\)</p> <p>Al intentar calcular la esperanza de de esta variable aleatoria, se tiene que:</p> <p>\\( \\begin{align*} \\mathbb{E}(X) &amp;= \\int_{2}^{\\infty}x\\frac{1}{(x-1)^2}dx\\\\ &amp; = \\int_{2}^{\\infty}\\left( \\frac{1}{x-1} \\right) + \\left( \\frac{1}{(x-1)^2} \\right) dx\\\\ &amp; = \\int_{2}^{\\infty} \\frac{1}{x-1} dx + \\int_{2}^{\\infty} \\frac{1}{(x-1)^2} dx\\\\ &amp; = \\ln (x-1)|_{2}^{\\infty}+\\frac{1}{x-1}|_{\\infty}^{2} \\end{align*} \\)</p> <p>Sin embargo al evaluar \\(\\infty\\) en la funci\u00f3n logaritmo, no se obtiene un n\u00famero real, por lo que la media \\(\\mu_X\\) no existe para esta variable aleatoria.</p>"},{"location":"estadistica/probabilidad/#varianza","title":"Varianza","text":"<p>Otra caracter\u00edstica importante en las variables aleatorias, es el grado de dispersi\u00f3n o variabilidad. Una importante medida se define a continuaci\u00f3n.</p> <p>Varianza</p> <p>Sea \\(X\\) una variable aleatoria y sea \\(\\mathbb{E}(X)=\\mu_X\\). La varianza de \\(X\\) denotada por \\(\\mathbb{V}(X)\\) o \\(\\sigma_{X}^{2}\\) se define como:</p> <p>\\( \\mathbb{V}(X)=\\begin{cases} \\sum_{D_x}(x_j-\\mu_X)^2 f_X(x); x_j \\in D_x \\text{ si $X$ es discreta}\\\\ \\int_{-\\infty}^{\\infty} (x-\\mu_X)^2 f_X(x)dx \\text{ si $X$ es continua} \\end{cases}     \\)</p> <p>De la definici\u00f3n anterior, se deduce que la varianza es una cantidad no negativa, debido a que la densidad est\u00e1 multiplicada por un valor positivo (cuadrado). Puede considerarse como una suma ponderada, de la distancia con respecto a la media al cuadrado por la densidad.</p> <p>Existencia de la varianza</p> <p>Al igual que la media, la varianza de una variable aleatoria \\(X\\) podr\u00eda no existir, en el sentido de que no es un n\u00famero. En este contexto, el infinito (\\(\\infty\\)) carece de sentido.</p> <p>Varianza positiva</p> <p>Los valores de \\(\\sigma_{X}^{2}\\) son positivos. Una varianza igual a cero implicar\u00eda que la variable aleatoria no var\u00eda, lo cual carece de sentido.</p> <p>Existe otra de medida de dispersi\u00f3n que es bastante \u00fatil y se puede obtener a partir de la varianza.</p> <p>Desviaci\u00f3n est\u00e1ndar</p> <p>Sea \\(X\\) una variable aleatoria con varianza \\(\\sigma_{X}^{2}\\). La desviaci\u00f3n est\u00e1ndar de \\(X\\), denotada como \\(\\sigma_{X}\\), se define como: \\(\\sigma_{X} = +\\sqrt{\\sigma_{X}^{2}}\\)</p> <p>Note que, al igual que la varianza, la desviaci\u00f3n est\u00e1ndar es una cantidad no negativa. La ventaja de usar esta medida de dispersi\u00f3n es que dicha cantidad estar\u00e1 expresada en las mismas unidades de la variable aleatoria.</p>"},{"location":"estadistica/probabilidad/#esperanza","title":"Esperanza","text":"<p>En esta secci\u00f3n se define el concepto de esperanza de una variable aleatoria. Ya se hab\u00eda mencionado el concepto de valor esperado, ahora esta idea se generalizar\u00e1.</p> <p>Esperanza</p> <p>Sea \\(X\\) una variable aleatoria y \\(g(X)\\) una funci\u00f3n con dominio y contradominio en \\(\\mathbb{R}\\). La esperanza o valor esperado de la funci\u00f3n \\(g(X)\\), denotado por \\(\\mathbb{E}\\left(g(X)\\right)\\), se define como:</p> <p>\\( \\mathbb{E}(g(X))=\\begin{cases} \\sum_{D_x}g(x_j) f_X(x) ; x_j \\in D_x \\text{ si $X$ es discreta}\\\\ \\int_{-\\infty}^{\\infty} g(x) f_X(x)dx \\text{ si $X$ es continua} \\end{cases}     \\)</p> <p>Casos particulares</p> <p>Si \\(g(X)=X\\) se obtiene la media de \\(X\\) (\\(\\mu_X\\)). Si \\(g(X)=(X-\\mu_X)^2\\) se obtiene la varianza de \\(X\\) (\\(\\sigma_{X}^{2}\\)).</p>"},{"location":"estadistica/probabilidad/#momentos","title":"Momentos","text":"<p>A continuaci\u00f3n se introduce el concepto de momento de una variable aleatoria, que son la esperanza de las potencias.</p> <p>Momentos</p> <p>Si \\(X\\) es una variable aleatoria, el r-\u00e9simo momento de \\(X\\), denotado por \\(\\mu_r\\), es definido como \\(\\mu_r=\\mathbb{E}(X^r)\\), si la esperanza existe.</p> <p>Note que el primer momento \\(\\mu_1\\) es la media de \\(X\\). El segundo momento \\(\\mu_2\\) est\u00e1 relacionado con la dispersi\u00f3n de una distribuci\u00f3n. El tercer momento est\u00e1 relacionado con la asimetr\u00eda de la distribuci\u00f3n, una distribuci\u00f3n con \\(\\mu_3 = 0\\) es sim\u00e9trica. El cuarto momento \\(\\mu_4\\) est\u00e1 conectado con la curtosis o que tan plana o puntiaguda es la densidad.</p> <p>A continuaci\u00f3n se presenta una funci\u00f3n que nos ayudar\u00e1 a encontrar los momentos.</p> <p>Funci\u00f3n generadora de momentos</p> <p>Sea \\(X\\) una variable aleatoria con densidad \\(f_X(x)\\). La esperanza de \\(e^{tX}\\) es definida la funci\u00f3n generadora de momentos de \\(X\\), denotada por \\(m_X(t)\\), si el valor esperado existe para cada valor de \\(t\\) en un intervalo alrededor de 0.</p> <p>Puede verse que si la esperanza no existe, la funci\u00f3n generadora de momentos no existe. Para obtener los momentos, se debe diferenciar \\(m_X(t)\\) \\(r\\) veces y evaluar en 0 para obtener el r-\u00e9simo momento.</p> <p>La funci\u00f3n generadora de momentos es muy \u00fatil y a continuaci\u00f3n se presenta una propiedad importante.</p> <p>Funci\u00f3n generadora de momentos \u00fanica</p> <p>Sean \\(X\\) y \\(Y\\) dos variables aleatorias con densidades \\(f_X(x)\\) y \\(f_Y(y)\\) respectivamente. Suponga que \\(m_X(t)\\) y \\(m_Y(t)\\) existen y son iguales para toda \\(t\\) en un intervalo cercano al 0. Entonces las distribuciones de \\(F_X(t)\\) y \\(F_Y(t)\\) son iguales.</p>"},{"location":"estadistica/probabilidad/#otras-medidas","title":"Otras medidas","text":""},{"location":"estadistica/probabilidad/#referencias","title":"Referencias","text":"<p>Lipschutz, S., &amp; Lipson, M. L. (2001). Teor\u00eda y Problemas de Probabilidad (Segunda edici\u00f3n). McGraw-Hill.</p> <p>Mood, A., Graybill, F., &amp; Boes, D. (1974). Introduction to the Theory of Statistics. McGraw-Hill.</p> <p>Muchas de las ideas fueron tomadas de los cursos Introducci\u00f3n a la probabilidad 1 y 2 impartidos por el Dr. Jos\u00e9 Villase\u00f1or en los cuatrimestres Primavera 2014 y Verano 2014 en el Colegio de Postgraduados, Campus Montecillo.</p>"},{"location":"estadistica/procesos_estocasticos/","title":"Introducci\u00f3n a Procesos Estoc\u00e1sticos","text":"<p>En esta secci\u00f3n se estudiar\u00e1 a los procesos estoc\u00e1sticos, los cuales pueden ser considerados una generalizaci\u00f3n de una muestra aleatoria.</p> <p>El estudio de procesos estoc\u00e1sticos requiere el uso de varios conceptos de probabilidad, por que se recomienda leer la p\u00e1gina de Introducci\u00f3n a la probabilidad.</p>"},{"location":"estadistica/procesos_estocasticos/#introduccion","title":"Introducci\u00f3n","text":"<p>Un proceso estoc\u00e1stico (o probabil\u00edstico) puede considerarse una generalizaci\u00f3n de una muestra aleatoria, en el sentido de que las variables aleatorias no son necesariamente independientes y su distrbuci\u00f3n podr\u00eda cambiar.</p> <p>Proceso estoc\u00e1stico</p> <p>Un proceso estoc\u00e1stico, denotado por \\(\\lbrace X(t) : t \\in T \\rbrace\\) o por \\(\\lbrace X_t : t \\ge 0 \\rbrace\\), es una colecci\u00f3n de variables aleatorias indizadas con valores en un conjunto \\(T\\), en donde \\(T\\) es un conjunto a lo m\u00e1s numerable o un intervalo de n\u00fameros reales en \\([0,\\infty)\\).</p> <p>De la definici\u00f3n anterior se entiende que las variables depender\u00e1n del par\u00e1metro \\(t\\) (usualmente el tiempo) y est\u00e1n ordenadas. Adem\u00e1s el conjunto \\(T\\) puede ser discreto o continuo. Si el conjunto de \u00edndices \\(T\\) es discreto, se le conoce como proceso estoc\u00e1stico de tiempo discreto mientras que si \\(T\\) es continuo, se le conoce como proceso estoc\u00e1stico de tiempo coninuo. Las variables aleatorias \\(X_t\\) pueden tomar tanto valores continuos o valores discretos.</p> <p>Note que si se fija un punto \\(t\\), se tiene \\(X_t\\) una variable aleatoria. Una realizaci\u00f3n del proceso \\(X(t)\\), es decir si se observa la variable aleatoria, se le conoce como camino muestral y se entiende como el estado del proceso en el tiempo \\(t\\) (Ross, 1996).</p>"},{"location":"estadistica/procesos_estocasticos/#definiciones","title":"Definiciones","text":"<p>Proceso completamente especificado</p> <p>Se dice que un proceso estoc\u00e1stico \\(\\lbrace X(t) : t \\in T \\rbrace\\) est\u00e1 completamente especificado si para cualquier valor del tiempo \\(t_1&lt;t_2&lt;\\dots&lt;t_n\\) con \\(n \\in \\mathbb{N}\\), la distribuci\u00f3n conjunta de \\((X_{t_1},X_{t_2},\\cdots,X_{t_n})\\) es conocida.</p> <p>De la definici\u00f3n anterior se entiende que es dif\u00edcil conocer el comportamiento de un proceso estoc\u00e1stico o ley de probabilidad, ya que en general es complicado hallar las distribuciones conjuntas, por lo que en ocasiones se deben imponer ciertas condiciones para su estudio.</p> <p>Procesos con incrementos independientes</p> <p>Se dice que un proceso estoc\u00e1stico \\(\\lbrace X_t : t \\ge 0 \\rbrace\\) tiene incrementos independientes si dados \\(t_0,t_1,t2,\\dots,t_n\\) las variables aleatorias \\(X_{t_1}-X_{t_0},X_{t_2}-X_{t_1},\\dots,X_{t_n}-X_{t_{n-1}}\\) son independientes.</p> <p>La definici\u00f3n anterior nos asegura que la diferencia de 2 variables aleatorias ser\u00e1 independiente de cualquier otra diferencia de 2 variables aleatoria, siempre y cuando sus intervalos no se translapen.</p> <p>Las variables aleatorias no est\u00e1n ordenadas</p> <p>No tiene sentido decir que \\(X_{t_1}\\) es menor que \\(X_{t_2}\\) ya que las variables aleatorias no est\u00e1n ordenadas.</p> <p></p> <p>Procesos con incrementos estacionarios</p> <p>Se dice que el proceso \\(\\lbrace X_t : t \\in T \\rbrace\\) tiene incrementos estacionarios si para \\(s&lt;t\\) la distribuci\u00f3n de \\(X_t-X_s\\) es la misma que \\(X_{t+h}-X_{s+h}\\), para toda \\(h &gt; 0\\) y \\(s+h,t+h \\in T\\).</p> <p>La definici\u00f3n anterior nos indica que la distribuci\u00f3n de la diferencia entre cualesquiera 2 diferencias de variables aleatorias de igual longitud es la misma, no importa en qu\u00e9 parte del proceso hayan sido tomadas, sin embargo, esto no necesariamente implica que sean independientes.</p> <p></p> <p>El siguiente ejemplo muestra un proceso con incrementos independientes.</p> <p>Proceso de Weiner</p> <p>Se dice que el proceso \\(\\lbrace W_t:t \\ge 0 \\rbrace\\) es un Proceso de Weiner si satisface las siguientes condiciones:</p> <p>a)    \\(W_0 = 0\\) (El proceso comienza en cero).</p> <p>b)    Tiene incrementos independientes.</p> <p>c)    \\(W_t-W_s \\sim N(0,C)\\) para \\(0&lt;s&lt;t\\).</p> <p>Movimiento Browniano</p> <p>Este proceso tambi\u00e9n recibe el nombre de movimiento browniano debido a que el bi\u00f3logo R. Brown en 1827 observ\u00f3 que algunas part\u00edculas en el agua exhib\u00edan movimientos irregulares (Karlin &amp; Taylor, 1975).</p> <p>Un resultado interesante de este proceso es que los incrementos son independientes y estacionarios y su varianza depende de \\(t\\). Es decir:</p> <p>\\(W_{t}=W_{t}-W_0 \\sim N(0,\\sigma^2t)\\)</p> <p>La siguiente figura muestra como ser\u00eda un proceso Wienier con \\(\\sigma^2=1\\). Note que cada l\u00ednea representar\u00eda una variable aleatoria \\(W_t\\).</p> <p> Elaboraci\u00f3n propia usando SAS \u00ae OnDemand for Academics.</p> <p> Elaboraci\u00f3n propia usando SAS \u00ae OnDemand for Academics.</p> Varianza del incremento del proceso de Weiner <p>Para calcular la varianza de los incrementos, se puede proceder con la f\u00f3rmula de la varianza, teniendo en cuenta que la esperanza de las diferencias es cero.</p> <p>\\( \\begin{align*} \\mathbb{V}(W_t-W_s) &amp;= \\mathbb{E}\\left( (W_t-W_s)^2\\right)\\\\ &amp;=\\mathbb{E}\\left( W_t^2 -2 W_t W_s +W_s^2\\right)\\\\ &amp;=\\mathbb{E}(W_t^2)-2\\mathbb{E}(W_t W_s)+\\mathbb{E}(W_s^2) \\end{align*} \\)</p> <p>Para calcular \\(\\mathbb{E}(W_t W_s)\\), se puede realizar un \u201ctruco\u201d expresando \\(W_t = (W_t -W_s) + W_s\\) y \\(W_s = W_s-W_0\\), por lo que</p> <p>\\( \\begin{align*} \\mathbb{E}( W_s W_t) &amp;= \\mathbb{E}( (W_s-W_0) ((W_t -W_s) + W_s))\\\\ &amp;=\\mathbb{E}((W_s-W_0)(W_t-W_s)+W_s^2)\\\\ &amp;=\\mathbb{E}((W_s-W_0)(W_t-W_s))+\\mathbb{E}(W_s^2)\\\\ &amp;=\\mathbb{E}((W_s-W_0))\\mathbb{E}((W_t-W_s))+\\mathbb{E}(W_s^2)\\\\ &amp;=\\mathbb{E}(W_s^2) \\end{align*} \\)</p> <p>Entonces, la varianza del los incrementos es</p> <p>\\( \\begin{align*} \\mathbb{V}(W_t-W_s) &amp;= \\mathbb{E}(W_t^2)-2\\mathbb{E}(W_s^2)+\\mathbb{E}(W_s^2)\\\\ &amp;= \\mathbb{E}(W_t^2)-\\mathbb{E}(W_s^2)\\\\ &amp;= \\mathbb{V}(W_t)-\\mathbb{V}(W_s) \\end{align*} \\)</p> <p>Ahora sup\u00f3ngase que \\(s=1\\) y \\(t&gt;1\\) y \\(\\mathbb{V}(W_1)=\\sigma^2\\). Entonces necesariamente la varianza en el tiempo ser\u00e1 \\(t-1\\) ser\u00e1 la constante \\(\\sigma^2\\) por la diferencia de \\(t-1\\). Por lo tanto \\(\\mathbb{V}(W_t-W_s)=\\sigma^2(t-s)\\) es una funci\u00f3n lineal que depende de \\(t\\) y \\(s\\).</p> <p>Proceso de Poisson</p> <p>Se dice que el proceso \\(\\lbrace N_t:t \\ge 0 \\rbrace\\) es un Proceso de Poisson si satisface las siguientes condiciones:</p> <p>a)    \\(N_0 = 0\\) (El proceso comienza en cero).</p> <p>b)    Tiene incrementos independientes.</p> <p>c)    \\(N_t-N_s \\sim Poi(\\lambda(t-s))\\) para \\(0&lt;s&lt;t\\).</p> <p>Al igual que el proceso de Weinier, los incrementos de este proceso son independientes y estacionarios y su varianza depende de \\(t\\). Es decir:</p> <p>\\(N_{t}=N_{t}-N_0 \\sim Poi(0,\\lambda(t-s))\\)</p> <p>La siguiente figura muestra como ser\u00eda un proceso Poisson con \\(\\lambda=1\\). Note que cada l\u00ednea representar\u00eda una variable aleatoria \\(N_t\\).</p> <p> Elaboraci\u00f3n propia usando SAS \u00ae OnDemand for Academics.</p> <p> Elaboraci\u00f3n propia usando SAS \u00ae OnDemand for Academics.</p> Covarianza de los incremento del proceso de Poisson <p>De las propiedades de la distribuci\u00f3n poisson, se sabe que su media es igual a su varianza, por lo que \\(\\mathbb{E}( N_t - N_s) = \\mathbb{V}( N_t - N_s) = \\lambda(t-s)\\).</p> <p>Para calcular la covarianza de los incrementos, se debe obtener sus momentos mixtos, es decir</p> <p>\\( \\begin{align} \\mathbb{E}( N_s N_t) &amp;=\\mathbb{E}(N_s(N_t-N_s)+N_s^2)\\\\ &amp;=\\mathbb{E}(N_s(N_t-N_s))+ {E}(N_s^2)\\\\ &amp;=\\mathbb{E}((N_s-N_0)(N_t-N_s))+ {E}(N_s^2)\\\\ &amp;=\\mathbb{E}(N_s-N_0)\\mathbb{E}(N_t-N_s)+ {E}(N_s^2)\\\\ &amp;=\\lambda s \\lambda (t-s) + (\\lambda s + (\\lambda s)^2)\\\\ &amp;=\\lambda^2 st+\\lambda s \\end{align} \\)</p> <p>Por lo que la covarianza entre \\(N_t\\) y \\(N_s\\) se expresa como</p> <p>\\( \\begin{align} Cov( N_s, N_t) &amp;=\\mathbb{E}( N_s N_t)-\\mathbb{E}( N_s)\\mathbb{E}( N_t)\\\\ &amp;=\\lambda^2 st+\\lambda s-(\\lambda s)(\\lambda t)\\\\ &amp;=\\lambda s \\end{align} \\)</p> <p>Note que se obtiene un resultado muy similar a la covarianza de proceso Weinier.</p> <p>Finalmente se presenta una definici\u00f3n que nos ayudar\u00e1 a comprender la complejidad de los procesos estoc\u00e1sticos.</p> <p>Proceso estrictamente estacionario</p> <p>Se dice que un proceso estoc\u00e1stico \\(\\lbrace X_t:t \\in T \\rbrace\\) es un proceso estrictamente estacionario de orden \\(k\\) si \\((X_{t_1},X_{t_2},\\dots,X_{t_k})\\) tiene la misma distribuci\u00f3n que \\((X_{t_1+h},X_{t_2+h},\\dots,X_{t_k+h})\\) para \\(h \\in T\\).</p> <p>La condici\u00f3n anterior es muy fuerte de cumplir para la mayor\u00eda de los procesos estoc\u00e1sticos. Note que una muestra aleatoria puede ser considerado un proceso estrictamente estacionario si \\(T=\\mathbb{N}\\).</p>"},{"location":"estadistica/procesos_estocasticos/#caracteristicas-de-los-procesos","title":"Caracter\u00edsticas de los procesos","text":"<p>Como se hab\u00eda mencionado anteriormente, en general es complicado conocer la distribuci\u00f3n conjunta de un proceso estoc\u00e1stico, por lo que en ocasiones deben emplearse otras formas para conocer su describir su comportamiento.</p> <p>Para ello se emplear\u00e1n las funciones del valor medio y de n\u00facleo de covarianza, las cuales ser\u00e1n algo equivalente a la media y la varianza de variables aleatorias.</p>"},{"location":"estadistica/procesos_estocasticos/#funcion-del-valor-medio","title":"Funci\u00f3n del valor medio","text":"<p>Funci\u00f3n del valor medio</p> <p>La funci\u00f3n del valor medio, denotada por \\(m(t)\\), se define como</p> <p>\\(m_X(t)=\\mathbb{E}(X_t),t \\ge 0\\)</p> <p>si dicha esperanza existe y es una funci\u00f3n del tiempo \\(t\\).</p> <p>La funci\u00f3n del valor medio es muy \u00fatil para caracterizar un proceso ya que nos da una idea de como se comporta el proceso. Funciona de manera similar a la media de una variable aleatoria.</p> Funci\u00f3n del valor medio del proceso Weinier <p>De la definci\u00f3n del proceso Weinier, se puede comprobar que \\(m(t)=\\mathbb{E}(W_t)=0, t \\ge 0\\). Esto implica que la funci\u00f3n del valor medio del proceso es constante y se entiende que es un proceso que oscila alrededor del cero.</p>"},{"location":"estadistica/procesos_estocasticos/#funcion-del-nucleo-de-covarianza","title":"Funci\u00f3n del n\u00facleo de covarianza","text":"<p>Funci\u00f3n del n\u00facleo de covarianza</p> <p>La funci\u00f3n del n\u00facleo de covarianza, denotada por \\(K_X(s,t)\\), se define como</p> <p>\\(K_X(s,t)=Cov(X_s,X_t),0&lt;s&lt;t\\)</p> <p>si dicha covarianza existe.</p> <p>Al igual que la funci\u00f3n del valor medio, la funci\u00f3n del n\u00facleo de covarianzanos permite conocer el comportamiento del proceso por medio de la covarianza entre \\(X_t\\) y \\(X_s\\) y nos da idea de c\u00f3mo cambia la relaci\u00f3n de dichas variables aleatorias a trav\u00e9s del tiempo.</p> Funci\u00f3n del n\u00facleo de covarianza del proceso Weinier <p>Se debe conocer la covarianza entre \\(W_t\\) y \\(W_s\\) suponiendo \\(0&lt;s&lt;t\\).</p> <p>\\( \\begin{align*} K_X(s,t)&amp;=Cov(W_s,W_t)\\\\ &amp;=Cov(W_s,(W_t-W_s)+W_s)\\\\ &amp;=Cov(W_s,(W_t-W_s))+Cov(W_s,W_s)\\\\ &amp;=\\mathbb{V}(W_s)\\\\ &amp;=\\sigma^2 s \\end{align*} \\)</p> <p>En general, para cualquier \\(s, t \\in \\mathbb{R}^+\\), la funci\u00f3n de n\u00facleo de covarianza de un proceso Weinier puede expresarse como </p> <p>\\(K_X(s,t)=\\sigma^2 min(s,t)\\)</p> <p>Lo cual implica que no importa la distancia entre \\(s\\) y \\(t\\), la covarianza siempre ser\u00e1 constante .</p> <p>El estudio de la funci\u00f3n de n\u00facleo de covarianza tambi\u00e9n nos ayuda a conocer como ser\u00e1 su comportamiento del proceso a trav\u00e9s del tiempo, esto es, si la funci\u00f3n de n\u00facleo de covarianza cambia a trav\u00e9s del tiempo.</p> <p>Procesos de covarianza estacionaria</p> <p>Se dice que el proceso \\(\\lbrace X_t:t \\ge 0 \\rbrace\\) es de covarianza estacionaria si \\(K(s,t)=R(t-s)\\) para \\(0&lt;s&lt;t\\) es una funci\u00f3n que depende de \\(s\\) y \\(t\\).</p> <p>El teorema anterior nos dice que si un proceso es de covarianza estacionaria, entonces la covarianza entre \\(X_t\\) y \\(X_s\\) no depender\u00e1 de \\(t\\), sino de la distancia \\(t-s\\). En este sentido, la estacionariedad se refiere a algo que se mantiene constante a trav\u00e9s del tiempo.</p>"},{"location":"estadistica/procesos_estocasticos/#procesos-ergodicos","title":"Procesos erg\u00f3dicos","text":"<p>Hasta ahora se ha hablado de algunas propiedades de los Procesos estoc\u00e1sticos, pero al igual que las variables aleatorias, existe un resultado muy similar a la convergencia conocido como ergocidad.</p> <p>Primero se abordar\u00e1n los procesos con par\u00e1metro de tiempo discreto y posteriormente con tiempo continuo.</p>"},{"location":"estadistica/procesos_estocasticos/#procesos-ergodicos-discretos","title":"Procesos erg\u00f3dicos discretos","text":"<p>La idea de ergocidad de procesos estoc\u00e1sticos es muy parecida a las propiedades de convergencia de la media en muestras aleatorias, pero para ello se requiere desarrollar idea de l\u00edmites de variables aleatorias.</p> <p>Debido a la complejidad de las demostraciones de diversos teoremas, estas ser\u00e1n omitida pero pueden encontrarse por ejemplo en (Parzen, 1999).</p> <p>Proceso erg\u00f3dico discreto</p> <p>Sup\u00f3ngase que se tiene un proceso estoc\u00e1stico \\(\\lbrace X_n:n \\in \\mathbb{N} \\rbrace\\) con par\u00e1metro de tiempo \\(n\\) discreto. Se dice que \\(\\lbrace X_n:n \\in \\mathbb{N} \\rbrace\\) es erg\u00f3dico si las medias muestrales \\(M_n = 1/n \\sum_{i=1}^{n} X_i\\) pueden ser usadas para aproximar la funci\u00f3n del valor medio.</p> <p>Note que \\(M_n\\) es un nuevo proceso estoc\u00e1stico con par\u00e1metro de tiempo discreto y  \\(\\mathbb{E}(M_n) = \\mathbb{E}(1/n \\sum_{i=1}^{n} X_i) = 1/n \\mathbb{E}( \\sum_{i=1}^{n} X_i) = 1/n \\sum_{i=1}^{n} \\mathbb{E} (X_i) = 1/n \\sum_{i=1}^{n} m(i)\\). Por ejemplo \\(X_n\\) podr\u00eda ser la temperatura diaria tomada a las 12 del d\u00eda en cierto lugar y \\(M_n\\) el promedio de las temperaturas de esas temperaturas</p> <p>Proceso erg\u00f3dico discreto 2</p> <p>El proceso \\(\\lbrace X_n: n \\in \\mathbb{N} \\rbrace\\) es erg\u00f3dico si</p> <p>\\(\\lim_{n \\to \\infty} \\mathbb{V}(M_n) = 0\\)</p> <p>Obs\u00e9rvese que el resultado anterior da una idea de convergencia. A continuaci\u00f3n se muestra un teorema de gran importancia.</p> <p>Teorema de ergodicidad</p> <p>Si \\(\\lbrace X_n:n \\in \\mathbb{N} \\rbrace\\) es erg\u00f3dico entonces</p> <p>\\( \\lim_{n \\to \\infty} P(|M_n - E(M_n)| &gt; \\epsilon) = 0; \\epsilon &gt; 0 \\)</p> <p>Este teorema es una convergencia en probabilidad yes m\u00e1s facil de cumplir ya que solo se requiere que exista la media.</p> <p>El siguiente teorema nos da una idea de covarianza estacionaria.</p> <p>Teorema de ergodicidad</p> <p>Sea \\(\\lbrace X_n:n \\in \\mathbb{N} \\rbrace\\) tal que \\(k(m,n)\\) existe y est\u00e1 acotada. El proceso es erg\u00f3dico si y solo si</p> <p>\\( \\lim_{n \\to \\infty} Cov(X_n,M_n) = 0 \\)</p> <p>Note que</p> <p>\\( \\begin{align*} Cov(X_n,M_n) &amp;= Cov(X_n,1/n \\sum_{i=1}^{n} X_i)\\\\ &amp;=1/n Cov(X_n, \\sum_{i=1}^{n} X_i) \\\\ &amp;= 1/n \\sum_{i=1}^{n} Cov(X_n,X_i)\\\\ &amp;=1/n \\sum_{i=1}^{n} k(n,i) \\end{align*} \\)</p> <p>depende \u00fanicamente de las variables en el proceso.</p> <p>Finalmente se muestra un resultado muy importante relacionada con la funci\u00f3n de covarianza y ergocidad.</p> <p>Teorema de ergocidad</p> <p>Sea \\(\\lbrace X_n:n \\in \\mathbb{N} \\rbrace\\) un proceso estoc\u00e1stico. El proceso \\(\\lbrace X_n \\rbrace\\) es un proceso erg\u00f3dico si \\(k(m,n)&lt;\\varepsilon\\) para toda \\(m,n \\in \\mathbb{N}, \\varepsilon &gt; 0\\). En otras palabras, el proceso es erg\u00f3dico si y solo si</p> <p>\\(\\lim_{n \\to \\infty}Cov(X_n,M_n)=0\\)</p> <p>En otras palabras \\(X_n\\) no est\u00e1 correlacionado con \\(M_n\\).</p> <p>La demostraci\u00f3n de los teoremas se puede encontar en (Parzen, 1999).</p>"},{"location":"estadistica/procesos_estocasticos/#procesos-ergodicos-continuos","title":"Procesos erg\u00f3dicos continuos","text":"<p>La idea de ergocidad puede extenderse para procesos estoc\u00e1sticos de tiempo continuo, sin embargo no pueden usarse las f\u00f3rmulas de procesos estoc\u00e1sticos discretos, por lo que es necesario definir nuevas operaciones las cuales naturalmente generar\u00e1n nuevos procesos estoc\u00e1sticos.</p> <p>En concreto, se debe de definir la integral y la derivada de un proceso estoc\u00e1stico, sin embargo debido a que se est\u00e1 trabajando con variables aleatorias, se usar\u00e1n ideas similares a las usadas en c\u00e1lculo.</p> <p>Nuevamente debido a la complejidad del tema, se omitir\u00e1n las pruebas y demostraciones. La demostraci\u00f3n de los teoremas se puede encontar en (Parzen, 1999).</p>"},{"location":"estadistica/procesos_estocasticos/#convergencia-de-variables-aleatorias","title":"Convergencia de variables aleatorias","text":""},{"location":"estadistica/procesos_estocasticos/#la-integral-de-un-proceso-con-tiempo-continuo","title":"La integral de un proceso con tiempo continuo","text":"<p>En esta secci\u00f3n se definir\u00e1 la integral de un proceso estoc\u00e1stico.</p> <p>Definici\u00f3n de integral</p> <p>La integral de \\(\\lbrace X_t\\rbrace\\) respecto a \\(t\\) en el intervalo \\((a,b)\\) se define como:</p> <p>\\( \\int_a^b X_t dt = \\lim_{\\max (t_k-t_{k-1}) \\to 0} \\sum_{k=1}^n X_{t_k}(t_k-t_{k-1}) \\)</p> <p>En otras palabras, si se consideran subdivisiones del intervalo \\(a=t_0&lt;t_1&lt;\\dots&lt;t_n=b\\), entonces la integral se define como el l\u00edmite de esas subdiviciones cuando la longitud m\u00e1xima de un subintervalo tiende a cero.</p> <p>Existencia de la integral</p> <p>Una condici\u00f3n necesaria y suficiente para que \\(\\int_a^b X_t dt\\) exista es que </p> <p>\\( 0 \\le \\int_a^b \\int_a^b |E(X_s X_t)| ds dt &lt; \\infty \\)</p> <p>donde </p> \\[\\begin{align} E(X_s X_t) &amp; = Cov(X_s X_t) + m(s) m(t)\\\\ &amp; = k(s,t) + m(s) m(t) \\end{align}\\] Integral de un proceso Weinier <p>Sea \\(\\lbrace W_t: t\\ge 0 \\rbrace\\) un proceso de Weinier. Note que:</p> \\[\\begin{align} m_X(t) &amp;= 0\\\\ K_X(s,t) &amp;= \\sigma^2 min(s,t) \\end{align}\\] <p>Por lo que \\(Z_t = \\int_{a}^{b} W_t dt\\) existe en el intervalo \\((a,b)\\).</p> <p>En general, no es f\u00e1cil encontrar la integral de un proceso estoc\u00e1stico, sin embargo es posible conocer su funci\u00f3n de valor medio y su funci\u00f3n de n\u00facleo de covarianza que nos permita estudiar su comportamiento.</p> <p>Propiedades de la integral de un proceso estoc\u00e1stico</p> <p>a) \\(\\mathbb{E}\\left( \\int_{a}^{b} X_t dt \\right) =\\int_{a}^{b} \\mathbb{E}(X_t) dt = \\int_{a}^{b} m_X(t) dt\\)</p> <p>b) \\(\\mathbb{E}\\left( \\left[ \\int_{a}^{b} X_t dt \\right]^2\\right) = \\mathbb{E}\\left( \\int_{a}^{b} X_s ds \\int_{a}^{b} X_t dt \\right) = \\mathbb{E}\\left( \\int_{a}^{b} \\int_{a}^{b} X_s X_t ds dt \\right) = \\int_{a}^{b} \\mathbb{E}(X_s X_t) ds dt\\)</p> <p>c) \\(Cov \\left(\\int_{a}^{b} X_t dt,\\int_{c}^{d} X_s ds\\right)=\\int_{a}^{b}\\int_{c}^{d} K_X(s,t) ds dt\\)</p> <p>d) \\(Var \\left(\\int_{a}^{b} X_t dt\\right)=\\mathbb{E}\\left(\\left(\\int_{a}^{b} X_t dt \\right)^2\\right)-\\left(\\mathbb{E}\\left(\\int_{a}^{b} X_t dt\\right)\\right)^2=\\int_{a}^{b}\\int_{a}^{b}k(s,t)ds dt=2\\int_{a}^{b}\\int_{a}^{t} K_X(s,t) ds dt\\)</p>"},{"location":"estadistica/procesos_estocasticos/#la-derivada-de-un-proceso-con-tiempo-continuo","title":"La derivada de un proceso con tiempo continuo","text":"<p>En esta secci\u00f3n se define la derivada de un proceso continuo.</p> <p>Definici\u00f3n</p> <p>Se define la derivada de \\(X_t\\) respecto a \\(t\\) como</p> <p>\\( {X\u00b4}_t = \\lim_{h \\to 0} \\frac{X_{t+h}-X_t}{h} \\)</p> <p>Siempre y cuando el l\u00edmite es tomado en ECM, es decir, \\(\\lim_{h \\to 0} \\left( \\frac{X_{t+h}-X_t}{h} - {X\u00b4}_t\\right)^2 = 0\\)</p> <p>El siguiente teorema nos indica las condiciones cuando existe la derivada de un proceso.</p> <p>Teorema</p> <p>El proceso \\(\\lbrace X_t: t \\ge 0 \\rbrace\\) es diferenciable si y solo si</p> <p>a) La funci\u00f3n del valor medio \\(m_X(t)\\) es diferenciable.</p> <p>b) La funci\u00f3n del kernel de covarianza \\(K_X(s,t)\\) tiene segundas derivadas mixtas continuas.</p> <p>Del teorema anterior, se puede deducir que \\(\\mathbb{E}({X\u00b4}_t)={m\u00b4}_X(t)\\) y \\(Cov({X\u00b4}_s,{X\u00b4}_t)=\\frac{\\partial^2}{\\partial s \\partial t}K_X(s,t)\\).</p>"},{"location":"estadistica/procesos_estocasticos/#procesos-normales","title":"Procesos normales","text":""},{"location":"estadistica/procesos_estocasticos/#procesos-contadores","title":"Procesos contadores","text":"<p>Los procesos contadores, denotados como \\(\\lbrace N(t):t \\ge 0 \\rbrace\\) o \\(\\lbrace N_t:t \\ge 0 \\rbrace\\), son un tipo de procesos estoc\u00e1sticos que toman valores enteros y modelan el n\u00famero de eventos que ocurren en un intervalo de tiempo. Las variables aleatorias del proceso son discretas pero \\(t\\) sigue siendo continuo.</p> <p>De acuerdo con Ross (1996), un proceso contador tiene las siguientes propiedades.</p> <p>Proceso contador</p> <p>Un proceso contador debe satisfacer las siguientes condiciones:</p> <p>i) \\(N(t) \\ge 0\\).</p> <p>ii) \\(N(t)\\) toma valores enteros.</p> <p>iii) Si \\(s&lt;t\\) entonces \\(N(s) \\le N(t)\\).</p> <p>iv) \\(N(t) - N(s)\\) representa el n\u00famero de eventos que han ocurrido en el intervalo \\((s,t]\\), donde \\(s &lt; t\\).</p> <p>Aunque puede haber muchos tipos de procesos contadores, se estudiar\u00e1 uno de los m\u00e1s utilizado en diversas aplicaciones.</p>"},{"location":"estadistica/procesos_estocasticos/#proceso-poisson","title":"Proceso Poisson","text":"<p>En la intoducci\u00f3n ya se hab\u00eda mencionado el proceso poisson, sin embargo ahora se estudiar\u00e1n m\u00e1s sus propiedades.</p> <p>Proceso Poisson</p> <p>Se dice que el proceso contador \\(\\lbrace N(t):t \\ge 0 \\rbrace\\) es un Proceso de Poisson si satisface las siguientes condiciones:</p> <p>a)    \\(N(0) = 0\\).</p> <p>b)    \\(N(t)\\) Tiene incrementos independientes.</p> <p>c)    Para \\(t&gt;0\\), \\(0&lt;P(N(t) &gt; 0)&lt;1\\). d)    Para \\(t\\ge 0\\)</p> <p>\\( \\lim_{h \\to 0} \\frac{P(N(t+h)-N(t) \\ge 2)}{P(N(t+h)-N(t)=1)}=0 \\)</p> <p>e)    El proceso \\(N(t)\\) tiene incrementos estacionarios.</p> <p>El proceso Poisson se llama as\u00ed debido a que el n\u00famero de eventos que ocurren en un intervalo de tiempo de longitud \\(t\\), tiene distribuci\u00f3n Poisson con par\u00e1metro \\(\\lambda t\\). La constante \\(\\lambda\\) se conoce como la intensidad de paso o tasa media de ocurrencias y puede ser interpretada como el n\u00famero de eventos que ocurren por unidad de tiempo. Vea Parzen (1999) o Ross(1996) para la demostraci\u00f3n.</p> <p>La propiedad c) implica que para cualquier intervalo, hay una probabilidad de que un evento ocurrir\u00e1, aunque no hay certeza de que el evento ocurra.</p> <p>La propiedad d) se refiere a que en intervalos muy peque\u00f1os a lo m\u00e1s un evento puede ocurrir, por lo que no puede ocurrir m\u00e1s de un evento simultaneamente, es decir \\(P(N(h)=1)=\\lambda h +0(h)\\) y \\(P(N(h)\\ge 2)=0(h)\\) para \\(h&gt;0\\).</p> <p>Finalmente la propiedad e) indica que para \\(0&lt;s&lt;t\\) y \\(h&gt;0\\), las variables aleatorias \\(N(t)-N(s)\\) y \\(N(t+h)-N(s+h)\\) son identicamente distribuidas \\(Poi(\\lambda (t-s))\\).</p> Proceso Poisson <p>Sup\u00f3ngase que el n\u00famero promedio de llamadas recibidas por minuto en una empresa es de 0.5; se desea conocer la probabilidad de que ninguna llamada entre en 5 minutos.</p> <p></p> <p>Note que en este caso la tasa media de ocurrencia \\(\\lambda\\) es de 0.5 llamadas por minuto y la longitud del intervalo es de 5 minutos, por lo que el n\u00famero de llamadas esperadas durante en ese intervalo de tiempo \\(\\lambda t\\) es de 2.5 llamadas. Por lo que la probabilidad de que no se tengan llamadas en ese periodo es de </p> <p>\\( P(N(5)=0) = \\frac{e^{-2.5}(2.5)^0}{0!} = e^{-2.5} = 0.082085 \\)</p>"},{"location":"estadistica/procesos_estocasticos/#cadenas-de-markov","title":"Cadenas de Markov","text":"<p>A continuaci\u00f3n se estudiar\u00e1 otro tipo de procesos estoc\u00e1sticos, los cuales se caracterizan porque el proceso pasa de un estado a otro con cierta probabilidad.</p> <p>El par\u00e1metro de tiempo \\(t\\) puede ser discreto o continuo, pero primero se estudiar\u00e1 el caso con par\u00e1metro de tiempo discreto.</p>"},{"location":"estadistica/procesos_estocasticos/#cadenas-de-markov-con-parametro-de-tiempo-discreto","title":"Cadenas de Markov con par\u00e1metro de tiempo discreto","text":"<p>Sup\u00f3ngase que un proceso estoc\u00e1stico \\(\\lbrace X_n: n = 0,1,2, \\dots \\rbrace\\) toma valores enteros llamados estados. Se dice que el proceso se encuentra en el estado \\(i\\) en el tiempo \\(n\\) y se denota como \\(X_n = i\\).</p> <p>A continuaci\u00f3n se establecen unas definiciones que caracterizan a las cadenas de Markov.</p> <p>Propiedad de Markov</p> <p>Sea \\(\\lbrace X_n  \\rbrace\\) una sucesi\u00f3n de variables aleatorias. Se dice que la distribuci\u00f3n condicional de \\(X_n\\) dado los valores pasados, s\u00f3lo depende del valor m\u00e1s reciente, es decir,</p> <p>\\(P(X_n = x_n|X_{n-1}=x_{n-1},\\dots,X_1=x_1 )=P(X_n = x_n|X_{n-1}=x_{n-1})\\)</p> <p>Cadena de Markov</p> <p>Sea \\(\\lbrace X_n: n = 0,1,2, \\dots \\rbrace\\) un proceso estoc\u00e1stico que se encuentra en el estado \\(i\\) en el tiempo \\(n\\). Entonces la probabilidad de que se encuentra en el estado \\(j\\) en el tiempo \\(n+1\\), conocida como probabilidad de transici\u00f3n del estado \\(i\\) al estado \\(j\\), es \\(p^{n,n+1}_{ij}\\).</p> <p>\\(P(X_{n+1}=j|X_{n}=i,X_{n-1}=i_{n-1},\\dots,X_1=i_1,X_0=i_0)=p^{n,n+1}_{ij}\\)</p> <p>Note que necesariamente las probabilidades de transici\u00f3n \\(p_{i,j} \\ge 0, i,j \\ge 0\\) y \\(\\sum_{j=0}^\\infty p_{i,j}\\) para \\(i=0,1,\\dots\\). Estas probabilidades pueden representarse en una matriz \\(P\\) conocida como matriz de transici\u00f3n.</p> <p>\\( P=\\left(\\begin{matrix} p_{0,0} &amp; p_{0,1} &amp; \\dots \\\\ p_{1,0} &amp; p_{1,1} &amp; \\dots \\\\ \\vdots &amp; \\vdots &amp; \\ddots \\end{matrix} \\right) \\)</p> <p>Cadena de Markov homog\u00e9nea</p> <p>Se dice que una cadena de Markov es homog\u00e9nea o que tiene probabilidades de transici\u00f3n estacionarias si las probabilidades de transici\u00f3n no dependen de \\(n\\) y se denotan como \\(p_{i,j}\\).</p> <p>A continuaci\u00f3n se ilustra con un ejemplo una cadena de Markov.</p> Una cadena de Markov finita <p>Sup\u00f3ngase que una cadena de Markov tiene \u00fanicamente 3 estados \\(S=\\lbrace 1,2,3 \\rbrace\\) que denotan el estado de salud de una persona (1 = enfermo, 2 = recuperaci\u00f3n, 3 sano).</p>"},{"location":"estadistica/procesos_estocasticos/#procesos-de-nacimiento-y-muerte","title":"Procesos de nacimiento y muerte","text":""},{"location":"estadistica/procesos_estocasticos/#bibliografia","title":"Bibliograf\u00eda","text":"<p>Parzen, E. (1999). Stochastic processes. SIAM.</p> <p>Ross, S. M. (1996). Stochastic Processes (Second Edition). John Wiley &amp; Sons.</p> <p>Karlin, S., &amp; Taylor, H. (1975). A first course in stochastic processes (Second Edition). Academic Press.</p> <p>Muchas de las ideas fueron tomadas del curso Procesos estoc\u00e1sticos impartido por el Dr. Jos\u00e9 Villase\u00f1or en Primavera del 2022 en el Colegio de Postgraduados, Campus Montecillo.</p>"},{"location":"estadistica/series_tiempo/","title":"Introducci\u00f3n a las Series de Tiempo","text":"<p>Las series de tiempo es una de la metodolog\u00edas estad\u00edsticas m\u00e1s aplicada debido a que usualmente se tiene informaci\u00f3n hist\u00f3rica que se desea estudiar y se usan en diversos campos del conocimiento, por ejemplo en econom\u00eda. Sin embargo actualmente es com\u00fan encontrar aplicaciones en pr\u00e1cticamente cualquier \u00e1rea.</p> <p>Uno de los principales usos de las series de tiempo, es hacer pron\u00f3sticos de valores futuros de la variable de inter\u00e9s, usando la informaci\u00f3n disponible.</p> <p> Imagen de geralt en pixabay.</p>"},{"location":"estadistica/series_tiempo/#introduccion","title":"Introducci\u00f3n","text":"<p>En series de tiempo, es muy importante conocer el tipo de informaci\u00f3n que se est\u00e1 utilizando, debido a que los datos suelen tener comportamientos complejos, por lo que conviene tener la mayor informaci\u00f3n del fen\u00f3meno que se est\u00e1 estudiando.</p> <p>A continuaci\u00f3n se describir\u00e1n algunos m\u00e9todos que describen el problema.</p>"},{"location":"estadistica/series_tiempo/#herramientas-basicas-de-exploracion-de-series-de-tiempo","title":"Herramientas b\u00e1sicas de exploraci\u00f3n de series de tiempo","text":""},{"location":"estadistica/series_tiempo/#grafica-de-series-de-tiempo","title":"Gr\u00e1fica de series de tiempo","text":"<p>La principal herramienta que se usar\u00e1 ser\u00e1 una gr\u00e1fica de series de tiempo.</p> <p>Esta consiste en graficar en el eje \\(X\\) el tiempo y en el eje \\(Y\\) las observaciones de la serie.</p> <p>Esta gr\u00e1fica nos permitir\u00e1 ver el comportamiento del fen\u00f3meno a trav\u00e9s del tiempo e identificar visualmente algunos de sus componentes con el fin de elegir el m\u00e9todo m\u00e1s adecuado.</p> <p> Ejemplo de una gr\u00e1fica de serie de tiempo. Elaboraci\u00f3n propia usando SAS \u00ae OnDemand for Academics. Los datos provienen del dataset <code>sashelp.orsales</code>.</p>"},{"location":"estadistica/series_tiempo/#estadisticas-descriptivas","title":"Estad\u00edsticas descriptivas","text":"<p>Las estad\u00edsticas descriptivas son de gran autilidad para conocer la distribuci\u00f3n de la serie. Valores como la media, mediana, desviaci\u00f3n est\u00e1ndar, m\u00ednimo o m\u00e1ximo, nos ayudar\u00edan a tener una idea del comportamiento de la serie.</p> <p>Tamb\u00eden es recomendable realizar algunos gr\u00e1ficos que nos permitan visualizar su distribuci\u00f3n tales como histogramas o diagrama de caja y bigotes (boxplot). En algunos casos, estos gr\u00e1ficos incluso podr\u00edan identificar si hay o no dos poblaciones.</p>"},{"location":"estadistica/series_tiempo/#descomposicion-y-suavizamiento-de-una-serie-de-tiempo","title":"Descomposici\u00f3n y suavizamiento de una serie de tiempo","text":"<p>La series de tiempo pueden exhibir distintos patrones y existen varios m\u00e9todos para obtener sus componentes (tendecia, ciclo, estacionalidad y componentes irregulares); examinar dichos componentes puede ser \u00fatil para enternder la naturaleza del problema y pueden ser de gran ayuda a la hora de elegir un modelo.</p> <p></p> <p>Ejemplo de la descomposici\u00f3n de la serie de tiempo de C02 de R. Elaboraci\u00f3n propia usando la funci\u00f3n <code>decompose()</code> del software R.</p> <p>Para m\u00e1s detalles vea el cap\u00edtulo 3 de Hyndman &amp; Athanasopoulos (2022).</p>"},{"location":"estadistica/series_tiempo/#modelos-de-series-de-tiempo","title":"Modelos de series de tiempo","text":"<p>En esta secci\u00f3n se dar\u00e1 una introducci\u00f3n m\u00e1s formal que nos permitir\u00e1 estudiar m\u00e1s a fondo las series de tiempo.</p>"},{"location":"estadistica/series_tiempo/#definiciones","title":"Definiciones","text":"<p>Definici\u00f3n</p> <p>Una serie de tiempo \\(Y_t\\), es una secuencia de valores num\u00e9ricos indexados por una variable, generalmente tiempo \\(t\\).</p> <p>Las series de tiempo pueden ser consideradas un caso particular de los procesos estoc\u00e1sticos en donde el par\u00e1metro o \u00edndice \\(t\\) es discreto. Para una revisi\u00f3n m\u00e1s completa de estos conceptos, visite la secci\u00f3n Procesos estoc\u00e1sticos.</p> <p>Las series de tiempo pueden ser continuas o discretas. Comunmente en ciencias sociales o econom\u00eda, las series de tiempo estan medidas en intervalos de tiempo regulares, ya sea de manera anual, trimestral, mensual o diaria, por lo que los \u00edndices \\(t\\) toman valores \\(1,2,\\dots,T\\).</p> <p>Un concepto muy importante en el estudio de las series de tiempo es la estacionariedad (tambien puede revisarse la secci\u00f3n introducci\u00f3n a los procesos estoc\u00e1sticos).</p> <p>Serie de tiempo estacionaria</p> <p>Se dice que una serie de tiempo, denotada \\(X_t\\) es estrictamente estacionaria si la distribuci\u00f3n conjunta de \\((X_{t_1},X_{t_2},\\dots,X_{t_k})\\) tiene la misma distribuci\u00f3n que \\((X_{t_1+h},X_{t_2+h},\\dots,X_{t_k+h})\\) para \\(t_1,t_2,\\dots,t_k,h \\in \\mathbb{N}\\).</p> <p>Un ejemplo de una serie de tiempo estacionaria estrictamente estacionaria ser\u00eda una muestra aleatoria. Obs\u00e9rvese que esta definici\u00f3n implica que la distribuci\u00f3n es invariante en el tiempo. De acuerdo con (Tsay, 2010), esta es una condici\u00f3n muy fuerte y es dificil de verificarla emp\u00edricamente, por lo que a menudo se asume una condici\u00f3n m\u00e1s d\u00e9bil.</p> <p>Serie de tiempo d\u00e9bilmente estacionaria</p> <p>Se dice que una serie de tiempo \\(X_t\\) es d\u00e9bilmente estacionaria si sus primeros dos momentos son finitos y la media \\(E(X_t)=\\mu\\) es constante y su funci\u00f3n de covarianza \\(Cov(X_t,X_{t+h})=\\gamma (h)\\) solo depende de \\(h\\), para \\(h \\in \\mathbb{N}\\).</p> <p>Serie de tiempo estacionaria</p> <p>Nos referiremos a una serie de tiempo estacionaria a aquella que sea d\u00e9bilmente estacionaria.</p> <p>En t\u00e9rminos pr\u00e1cticos, la gr\u00e1fica de series de tiempo deber\u00eda fluctuar alrededor de una constante y su variabilidad deber\u00eda mantenerse m\u00e1s o menos estable a trav\u00e9s del tiempo.</p> <p>La autocovarianza entre \\(Y_t\\) y \\(Y_{t+h}\\), denotada por \\(\\gamma(h)\\), mide el grado de asociaci\u00f3n lineal entre \\(Y_t\\) y \\(Y_{t+h}\\) con la misma serie pero rezagada \\(h\\) periodos y se expresa como \\(\\gamma(h)=Cov(Y_t,Y_{t+h})=E\\left((Y_t-E(Y_t))(Y_{t+h}-E(Y_{t+h}))\\right)\\).</p> <p>Note que si \\(h=0\\), entonces se tiene la varianza de la serie y se puede denotar como \\(\\gamma_0 = Cov(Y_t,Y_t)=E\\left((Y_t-E(Y_t))(Y_{t}-E(Y_{t}))\\right) = Var(Y_t)\\).</p> <p>La correlaci\u00f3n o funci\u00f3n de autocorrelaci\u00f3n (FAC) entre \\(Y_t\\) y \\(Y_{t+h}\\) tambi\u00e9n mide el grado de dependencia lineal de \\(Y_t\\) con la misma serie pero rezagada \\(h\\) periodos pero este valor se encuentra entre -1 y 1 y se expresa como</p> <p>\\( \\rho(h)=\\frac{Cov(Y_t,Y_{t+h})}{Var(Y_t)}=\\frac{\\gamma (h)}{\\gamma_0} \\)</p> <p>Note que \\(\\rho_0=1\\). La funci\u00f3n de autocorrelaci\u00f3n es la m\u00e1s usada debido a que es preferible usar cantidades entre 0 y 1. Si la serie \\(Y_t\\) es estacionaria, entonces la covarianza \\(\\lim_{h \\to \\infty} \\gamma_h = 0\\) y la autocorrelaci\u00f3n \\(\\lim_{h \\to \\infty} \\rho_h = 0\\).</p> <p>En la pr\u00e1ctica se usa la funci\u00f3n de correlaci\u00f3n muestral (FACM) definida como:</p> <p>\\( \\hat{\\rho}({h})=\\frac{\\sum_{t=1}^{T-h}(y_t-\\bar{y})(y_{t+h}-\\bar{y})}{\\sum_{t=1}^{T}(y_t-\\bar{y})^2} \\)</p> <p>A continuaci\u00f3n se presenta un tipo de serie de tiempo o proceso que cumple con esta caracter\u00edstica.</p>"},{"location":"estadistica/series_tiempo/#series-de-tiempo-de-ruido-blanco","title":"Series de tiempo de ruido blanco","text":"<p>Proceso de ruido blanco</p> <p>Sean \\(\\lbrace a_t \\rbrace\\) una sucesi\u00f3n de variables aleatorias independientes e id\u00e9nticamente distribuidas con media 0 y varianza \\(\\sigma^2_{a}\\) finita. Si la distribuci\u00f3n de \\(\\lbrace a_t \\rbrace\\) es normal, entonces la serie se llama ruido blanco gaussiano.</p> <p>Ruido blanco</p> <p>Nos referiremos a una serie de tiempo de ruido blanco a aquella que sea ruido blanco gaussiana.</p> <p>La siguiente imagen ilustra una realizaci\u00f3n de un proceso de ruido blanco \\(a_t\\) con varianza \\(\\sigma^2_{a} = 16\\). Note que los valores se encuentran en un intervalo alrededor de cero y no presenta ning\u00fan patr\u00f3n extra\u00f1o, por lo que este proceso es un proceso estacionario.</p> <p></p> <p>Elaboraci\u00f3n propia. Gr\u00e1fico realizado con el software R.</p>"},{"location":"estadistica/series_tiempo/#serie-de-tiempo-lineal","title":"Serie de tiempo lineal","text":"<p>Serie de tiempo lineal</p> <p>Se dice que una serie de tiempo \\(Y_t\\) es lineal si puede expresarse como</p> <p>\\( \\begin{align*} Y_t &amp; = \\mu + \\sum_{i=0}^{\\infty}\\psi_i a_{t-i}\\\\ &amp; = \\mu + a_t + \\psi_1 a_{t-1} +\\psi_2 a_{t-2} + \\dots \\end{align*} \\)</p> <p>donde \\(\\psi_0 = 1\\) y \\(\\mu\\) es la media de la serie y \\({a_t}\\) es una serie de ruido blanco.</p> <p>De la definici\u00f3n anterior, se entiende que una serie de tiempo lineal puede expresarse como una suma infinita ponderada de ruido, cuyos valores presentes y pasados afectan a la serie.</p> <p>Note que \\(E(Y_t) = \\mu\\) y \\(Var(Y_t) = Var(\\sum_{i=0}^{\\infty}\\psi_i a_{t-i}) = \\sigma^2_{a}\\sum_{i=0}^{\\infty}\\psi^2_i\\) y si la serie \\(Y_t\\) es estacionaria, necesariamente \\(\\sum_{i=0}^{\\infty}\\psi^2_i &lt; \\infty\\), por lo que una condici\u00f3n necesaria y suficiente para que la varianza de \\(Y_t\\) sea finita es que \\(\\lim_{i \\to \\infty}\\psi_i^2 = 0\\).</p> <p>Por otro lado, la covarianza entre \\(Y_t\\) y \\(Y_{t+h}\\) con \\(h \\in \\mathbb{N}\\) puede expresarse como:</p> <p>\\( \\gamma(h) =\\sigma^2_{a} \\sum_{i=0}^{\\infty}\\psi_i \\psi_{i+h} \\)</p> Serie de tiempo lineal <p>Suponga que se tiene una serie de tiempo \\(a_t\\) de ruido blanco con varianza \\(\\sigma^2_{a}=25\\) y sea \\(\\mu=50\\) una constante. Se definen los pesos \\(\\psi_1 = 2, \\psi_2=0.5,\\psi_3=0.1\\) (todos los demas son iguales a cero). Entonces se define la serie de tiempo lineal como \\(Y_t = 50 + a_t + 2 a_{t-1} + 0.5 a_{t-2} + 0.1 a_{t-3}\\). La siguiente gr\u00e1fica representa una realizaci\u00f3n del proceso</p> <p></p> <p>Elaboraci\u00f3n propia usando el software R.</p> <p>Note que esta serie es estacionaria ya que se cumple con la restricci\u00f3n de que la suma de los pesos al cuadrado (5.26) es finita.</p> <p>La media o valor esperado \\(E(Y_t)\\) de esta serie es 50 (el promedio de la realizaci\u00f3n es 50.83), mientras que la varianza \\(V(Y_t)\\) es 131.5 (la varianza estimada fue de 133.02).Las autocovarianzas ser\u00edan \\(\\gamma(1)=76.25,\\gamma(2) =17.5\\) y \\(\\gamma(3) = 2.5\\).</p> <p>La siguiente gr\u00e1fica muestra del lado derecho las autocorrelaciones estimadas, mientras que del lado derecho se muestran las covarianzas estimadas.</p> <p></p> <p>Elaboraci\u00f3n propia usando la funci\u00f3n <code>acf()</code> del software R.</p> <p>Las funciones de autocovarianza y autocorrelaci\u00f3n muestrales muestran valores muy cercanos a los esperados, sin embargo a partir de los rezagos 10 se aprecian valores que debieran ser cero; esto se debe a que la FACM es una estimaci\u00f3n de los valores observados, por lo que se debe tener cuidado al interpretar la FACM.</p>"},{"location":"estadistica/series_tiempo/#modelos-arima","title":"Modelos ARIMA","text":"<p>Una forma de modelar series de tiempo es usando los modelos ARIMA o Autorregresivos Integrados de Medias M\u00f3viles tambien conocidos como modelos Box-Jenkins. Para una referencia completa y detallada vea (Box et\u00a0al., 2016).</p> <p>Primero se introducir\u00e1n los modelos Autorregresivos (AR), Medias m\u00f3viles (MA) y los Autorregresivos de medias m\u00f3viles (ARMA). Posteriormente se introducir\u00e1 el concepto de ra\u00edz unitaria y modelos integrados (ARIMA), as\u00ed como los modelos estacionales (SARIMA).</p> <p>La estimaci\u00f3n de par\u00e1metros se discutir\u00e1 de forma muy general y finalmente se mencionar\u00e1 la validaci\u00f3n de supuestos y c\u00f3mo realizar predicciones.</p>"},{"location":"estadistica/series_tiempo/#modelos-autorregresivos","title":"Modelos autorregresivos","text":"<p>El modelo autorregresivo es muy util para modelar muchos fen\u00f3menos, sobre todo relacionados con econom\u00eda y finanzas ya que t\u00edpicamente el valor actual depender\u00e1 de sus valores anteriores. Por simplicidad se puede comenzar con el modelo Autorregresivo de orden 1, pero se puede generalizar para orden \\(p\\). Este modelo se puede expresar de la siguiente forma:</p> <p>\\( Y_t = \\phi_0 + \\phi_1 Y_{t-1} + a_t \\)</p> <p>donde \\(a_t\\) es un t\u00e9rmino de error de ruido blanco con varianza \\(\\sigma^2 _a\\) y \\(\\phi_0\\), \\(\\phi_1\\) son par\u00e1metros del modelo. A este modelo se le conoce como modelo autorregresivo de orden 1 o AR(1).</p> <p>Note que este modelo es muy parecido a un modelo de regresi\u00f3n lineal simple, con la diferencia de que la variable explicativa es ella misma pero un periodo anterior.</p> <p>Propiedades del modelo Autorregresivo de orden 1</p> <p>Se dice que \\(Y_t = \\phi_0 + \\phi_1 Y_{t-1} + a_t\\) es un proceso autoregresivo de orden 1. Si es proceso es estacionario, entonces</p> <ul> <li>\\(E(Y_t) = \\mu = \\frac{\\phi_0}{1-\\phi_1}\\)</li> <li>\\(Var(Y_t) = \\gamma_0 = \\frac{\\sigma^2 _a}{1-\\phi^2_1}\\)</li> <li>\\(\\gamma(h) = \\phi_1 \\gamma(h-1)\\)</li> <li>\\(\\rho(h) = \\phi_1^h\\)</li> </ul> Derivaci\u00f3n de la media y varianza de un proceso AR(1) <p>Si se asume que el proceso AR(1) es estacionario, es decir tiene media constante \\(E(Y_t) = E(Y_{t-1}) = \\mu\\), entonces </p> <p>\\( \\begin{align*} \\mu &amp;= E(Y_t) \\\\ &amp;=E(\\phi_0 + \\phi_1 Y_{t-1} + a_t) \\\\ &amp;=\\phi_0 + \\phi_1 E(Y_{t-1}) + E(a_t)\\\\ &amp;=\\phi_0 + \\phi_1 \\mu \\end{align*} \\)</p> <p>donde \\(\\mu\\) es el nivel de la serie. </p> <p>Note que, bajo el supuesto de estacionriedad el nivel de la serie \\(\\mu\\) puede representarse como \\(\\mu = \\frac{\\phi_0}{1-\\phi_1}\\) y por lo tanto \\(\\phi_1\\) no puede ser igual a 1. Tambi\u00e9n puede notarse que \\(\\phi_0 =\\mu(1-\\phi_1)\\), por lo que \\(\\phi_0 = 0\\) si \\(\\mu = 0\\), en otras palabras, el t\u00e9rmino \\(\\phi_0\\) no aparecer\u00e1 en el modelo \u00fanicamente si el nivel de la serie es cero.</p> <p>Nuevamente asumiendo el supuesto de estacionariedad, la varianza \\(Var(Y_t) = Var(Y_{t-1}) = \\gamma_0\\) es constante y la covarianza \\(Cov(Y_t,Y_{t+h}) = \\gamma (h)\\) no depende de \\(t\\), sino \u00fanicamente de la distancia \\(h\\) entre ellas.</p> <p>Es com\u00fan que trabajar con las series centradas, es decir \\(Z_t = Y_t - \\mu\\) y por lo tanto \u00fanicamente se trabaja con el modelo \\(Z_t = \\phi_1 Z_{t-1} + a_t\\). La varianza de la serie centrada puede expresarse como</p> <p>\\( \\begin{align*} \\gamma_0 &amp; = Var(Z_t)\\\\ &amp; = E(Z_t^2)\\\\ &amp;= E(\\phi_1^2 Z^2_{t-1}+a^2_t)\\\\ &amp;= \\phi_1^2E(Z^2_{t-1}) + E(a^2_t)\\\\ &amp;= \\phi_1^2 Var(Z_{t-1}) + Var(a_t)\\\\ &amp;= \\phi_1^2 Var(Z_t) + \\sigma^2_a\\\\ &amp;= \\phi_1^2 \\gamma_0 + \\sigma^2_a \\end{align*}     \\)</p> <p>Por lo tanto si la serie es estacionaria se obtiene \\(\\gamma_0 = \\frac{\\sigma^2 _a}{1-\\phi^2_1}\\) y necesariamente \\(\\phi^2_1 &lt; 1\\) \u00f3 \\(-1 &lt; \\phi_1 &lt; 1\\).</p> Derivaci\u00f3n de la funci\u00f3n de covarianza y autocorrelaci\u00f3n de un proceso AR(1) <p>Para simplificar los c\u00e1lculos, se puede calcular la covarianza de \\(Z_t\\) y \\(Z_{t-h}\\), con \\(h &gt; 0\\), asumiendo que \\(Z_t\\) es estacionaria.</p> <p>\\( \\begin{align*} Cov(Z_t,Z_{t-h}) &amp;= E(Z_t Z_{t-h})\\\\ &amp;=  E(Z_t ( \\phi_1 Z_{t-h-1} + a_{t-h}) )\\\\ &amp;= E(\\phi_1 Z_t Z_{t-h-1} + Z_t a_{t-h})\\\\ &amp;= E(\\phi_1 Z_t Z_{t-h-1}) + E( Z_t a_{t-h})\\\\ &amp;= \\phi_1 E(Z_t Z_{t-h-1}) + E( Z_{t-h} a_t)\\\\ &amp;= \\phi_1 \\gamma(h-1) \\end{align*} \\)</p> <p>Por lo que la funci\u00f3n de covarianza est\u00e1 dada por:</p> <p>\\(     \\gamma(h) = \\phi_1 \\gamma(h-1) \\)</p> <p>Recordando que \\(\\gamma_0\\) es la varianza de la serie.</p> <p>Para obtener la funci\u00f3n de autocorrelaci\u00f3n, simplemente se divide la funci\u00f3n de covarianza entre la varianza, por lo que se tiene que:</p> <p>\\(     \\rho(h) = \\begin{cases}     1 &amp; \\text{ si } h=0\\\\     \\phi_1^h &amp; \\text{ si } h&gt;0     \\end{cases} \\)</p> <p>Este proceso puede generalizarse de forma que se obtene el modelo Autorregresivo de orden \\(p\\).</p> <p>\\(     Y_t = \\phi_0 + \\phi_1 Y_{t-1} + \\dots + \\phi_p Y_{t-p} + a_t \\)</p> <p>Las propiedades de este modelo para \u00f3rdenes superiores est\u00e1n fuera del alcance de este blog, sin embargo, se pueden consultar con mayor detalle en Tsay, R. (2010) o  Box, G., Jenkins, G., Reinsel, G., &amp; Ljung, G. (2016).</p>"},{"location":"estadistica/series_tiempo/#modelos-de-medias-moviles","title":"Modelos de Medias M\u00f3viles","text":"<p>Otro modelo ampliamente usado en econom\u00eda y otros campos es el modelo de medias m\u00f3viles. El modelo de Medias M\u00f3viles o Moving Average de orden 1 se define como sigue:</p> <p>\\(     Y_t = m + a_t - \\theta_1 a_{t-1} \\)</p> <p>donde \\(a_t\\) es un t\u00e9rmino de error de ruido blanco con varianza \\(\\sigma^2 _a\\) y \\(\\theta_1\\) es un par\u00e1metro del modelo y \\(m\\) una constante.</p> <p>Observ\u00e9se que es una serie de tiempo lineal, aunque el par\u00e1metro \\(\\theta_1\\) aparece con signo negativo.</p> <p>Propiedades del modelo de medias m\u00f3viles de orden 1</p> <p>Se dice que \\(Y_t = m + a_t - \\theta_1 a_{t-1}\\) es un proceso de medias m\u00f3viles de orden 1. Entonces</p> <ul> <li>Es un proceso estacionario</li> <li>\\(E(Y_t) = m\\)</li> <li>\\(Var(Y_t) = \\gamma_0 = \\sigma^2_a (1+\\theta_1^2)\\)</li> <li>\\(\\gamma(h) = -\\theta_1\\sigma^2_a\\) si \\(h = 1\\)</li> <li>\\(\\rho(h) = \\frac{-\\theta_1}{1+\\theta_1^2}\\) si \\(h = 1\\)</li> </ul> Derivaci\u00f3n de la media y varianza de un proceso MA(1) <p>Usando las propiedades de la esperanza, se puede encontrar f\u00e1cilmente la media del proceso.</p> <p>\\(     E(Y_t) = E(m + a_t - \\theta_1 a_{t-1}) = E(m)+E(a_t) - \\theta_1 E(a_{t-1}) = m \\)</p> <p>Por lo que su media no depende del tiempo. De forma similar es posible encontrar la varianza del proceso.</p> <p>\\(     \\begin{align*}     Var(Y_t) &amp;= E((Y_t-E(Y_t))^2)\\\\     &amp;= E((Y_t-m)^2)\\\\     &amp;=E(a_t^2-2 \\theta_1 a_t a_{t-1}+\\theta_1^2 a_{t-1}^2)\\\\     &amp;=E(a_t^2) - 2 \\theta_1 E(a_t a_{t-1}) + \\theta_1^2 E(a_{t-1}^2)\\\\     &amp;=\\sigma^2_a + \\theta_1^2 \\sigma^2_a\\\\     &amp;=\\sigma^2_a (1+\\theta_1^2)     \\end{align*} \\)</p> Derivaci\u00f3n de la funci\u00f3n de covarianza y autocorrelaci\u00f3n de un proceso MA(1) <p>Para simplificar los c\u00e1lculos, se puede calcular la covarianza de \\(Z_t\\) y \\(Z_{t-h}\\), con \\(h &gt; 0\\), donde \\(Z_t = Y_t-m = a_t - \\theta_1 a_{t-1}\\).</p> <p>\\( \\begin{align*} Cov(Z_t,Z_{t-h}) &amp;= E(Z_t Z_{t-h})\\\\ &amp;=  E((a_t - \\theta_1 a_{t-1})   Z_{t-h} )\\\\ &amp;= E(a_t Z_{t-h}-\\theta_1 a_{t-1} Z_{t-h})\\\\ &amp;= E(a_t Z_{t-h})- E(\\theta_1 a_{t-1} Z_{t-h})\\\\ &amp;= -\\theta_1 E(a_{t-1} Z_{t-h}) \\end{align*} \\)</p> <p>Por lo que </p> <p>\\( \\gamma(h) =  \\begin{cases} 0 &amp; \\text{ si } h&gt;1\\\\ -\\theta_1\\sigma^2_a &amp; \\text{ si } h = 1 \\end{cases} \\)</p> <p>Usando el resultado anterior, es posible obtener la funci\u00f3n de autocorrelaci\u00f3n dividiendo la funci\u00f3n de covarianza entre la varianza, por lo que se tiene que:</p> <p>\\(     \\rho(h) = \\begin{cases}     1 &amp; \\text{ si } h=0\\\\     \\frac{-\\theta_1}{1+\\theta_1^2} &amp; \\text{ si } h=1\\\\     0 &amp; \\text{ si } h&gt;1     \\end{cases} \\)</p> <p>Las propiedades y generalizaciones de este modelo est\u00e1n fuera del alcance de este blog, sin embargo, se pueden consultar con mayor detalle en Tsay, R. (2010) o  Box, G., Jenkins, G., Reinsel, G., &amp; Ljung, G. (2016).</p>"},{"location":"estadistica/series_tiempo/#bibliografia","title":"Bibliograf\u00eda","text":"<p>Box, G., Jenkins, G., Reinsel, G., &amp; Ljung, G. (2016). Time Series Analysis: Forecasting and Control. John Wiley &amp; Sons.</p> <p>Hyndman, R., &amp; Athanasopoulos, G. (2022). Forecasting: Principles and Practice (3rd ed). OTexts. https://Otexts.com/fpp3/</p> <p>Tsay, R. (2010). Analysis of Financial Time Series (Third Edition). John Wiley &amp; Sons.</p> <p>Muchas de las ideas fueron tomadas del curso Series de tiempo impartido por la Dra. Martha Elva Ram\u00edrez en Primavera del 2022 en el Colegio de Postgraduados, Campus Montecillo.</p>"},{"location":"estadistica/supervivencia/","title":"An\u00e1lisis de supervivencia","text":"<p>El an\u00e1lisis de supervivencia se basa en el estudio de variables de vida, por lo que se utilizan variables aleatorias con valores positivos. El nombre se debe a que en Medicina, se llevan a cabo estudios con pacientes en los cuales es de inter\u00e9s estimar el tiempo de supervivencia a una enfermedad.</p> <p>El an\u00e1lisis de superivencia es usado en otras disciplinas aunque tiene otros objetivos, tales como:</p> <ul> <li>Entomolog\u00eda: Modela el tiempo en que fallecen insectos al aplic\u00e1rseles un insecticida.</li> <li>Meteorolog\u00eda: Tiempo en que aparecen los huracanes.</li> <li>Actuar\u00eda: Tiempo entre incidentes.</li> <li>Ingenier\u00eda: (conocido como confiabilidad) Tiempo en que aparece una falla.</li> </ul> <p>Aunque es com\u00fan estudiar variables aleatorias relacionadas al tiempo entre eventos, es posible estudiar otras variables relacionadas, por ejemplo distancia o cualquier variable que tome valores positivos. A la ocurrencia de los eventos de interes se les llama tambi\u00e9n como fallos (failures).</p> <p>Un problema com\u00fan en datos de tiempo de vida es la presencia de censura y/o truncamiento. Debido a esta problem\u00e1tica, es necesario desarrollar teor\u00eda y m\u00e9todos que puedan lidiar con este problema, en la secci\u00f3n 3 se estudiar\u00e1 este problema de forma detallada.</p>"},{"location":"estadistica/supervivencia/#modelos-de-tiempo-de-vida","title":"Modelos de tiempo de vida","text":"<p>En an\u00e1lisis de supervivencia se usan conceptos que hasta ahora no hab\u00edan sido descritos, aunque son similares a los que se usan en probabilidad. A continuaci\u00f3n se dar\u00e1 una breve definici\u00f3n de ellos.</p> <p>Funci\u00f3n de Supervivencia</p> <p>Sea \\(T\\) una variable aleatoria con soporte en los reales positivos.</p> <p>\\(S(t) = P(T &gt; t) = 1 - F_T(t)\\)</p> <p>La funci\u00f3n de supervivencia se interpreta como la probabilidad de que un individuo sobreviva m\u00e1s que tiempo que \\(t\\).</p> <p>Esta definici\u00f3n es muy importante y frecuentemente el objetivo ser\u00e1 estimarla.</p> <p>Funci\u00f3n de riesgo</p> <p>Sea \\(T\\) una variable aleatoria positiva. La funci\u00f3n de riesgo \\(h(t)\\) se define como la probabilidad de un individuo muera en un intervalo de tiempo peque\u00f1o dado que ha sobrevivido al tiempo \\(t\\).</p> <p>Si \\(T\\) es continua, entonces \\(h(t) = \\frac{f(t)}{S(t)}=-\\frac{\\partial}{\\partial t}\\log S(t)\\).</p> <p>En diversas aplicaciones, por ejemplo para determinar la garant\u00eda de un producto, es de inter\u00e9s conocer la funci\u00f3n de riesgo,</p> <p>Funci\u00f3n de riesgo acumulado</p> <p>La funci\u00f3n de riesgo acumulado \\(H(t)\\) se define como:</p> <p>\\(H(t)=\\int_{0}^{t}h(s)ds=-\\log S(t) \\)</p> <p>Por lo que \\(S(t) = e^{-H(t)}\\)</p> <p>Relaci\u00f3n entre la funci\u00f3n de supervivencia y de riesgo acumulado</p> <p>Si \\(T\\) es una variable aleatoria discreta, entonces</p> <p>\\( \\begin{align} S(t) &amp;= P(T &gt; t)\\\\ &amp; = P(T &gt; a_1) \\times P(T&gt;a_2|T&gt;a_1)\\times \\dots \\times P(T&gt;a_k|T&gt;a_{k-1})\\\\ &amp; = (1-h_1)\\times \\dots \\times (1-h_k)\\\\ &amp; = \\prod_{a_i \\le t} (1-h_i) \\end{align} \\)</p>"},{"location":"estadistica/supervivencia/#inferencia-con-datos-de-tiempo-de-vida","title":"Inferencia con datos de tiempo de vida","text":"<p>Como se mencion\u00f3 anteriormente, es de inter\u00e9s conocer las funciones de riesgo y supervivencia, por lo que se tienen que estimar dichas funciones a partir de los datos de tiempo de vida.</p> <p>Sin embargo es com\u00fan que los datos presenten censura y/o truncamiento, por lo que es importante estudiar sus caracter\u00edsticas.</p>"},{"location":"estadistica/supervivencia/#inferencia-parametrica-con-datos-censurados","title":"Inferencia param\u00e9trica con datos censurados","text":"<p>Se puede usar el m\u00e9todo de estimaci\u00f3n por m\u00e1xima verosimilitud para estimar los par\u00e1metros y con ellos encontrar las funciones de inter\u00e9s.</p> <p>Sin embargo si se tienen datos censurados, se debe tomar en cuanta dicha informaci\u00f3n, por lo que la funci\u00f3n de verosimilitud ser\u00e1 distinta a la que se tuviera informaci\u00f3n completa.</p>"},{"location":"estadistica/supervivencia/#estimacion-no-parametrica","title":"Estimaci\u00f3n no param\u00e9trica","text":""},{"location":"estadistica/supervivencia/#comparacion-de-curvas-de-supervivencia","title":"Comparaci\u00f3n de curvas de supervivencia","text":""},{"location":"estadistica/supervivencia/#modelo-de-riesgos-proporcionales","title":"Modelo de riesgos proporcionales","text":""},{"location":"estadistica/supervivencia/#extensiones","title":"Extensiones","text":""},{"location":"julia/basico_julia/","title":"Manejo de bases con Julia","text":"<p>En esta p\u00e1gina se aprender\u00e1 a crear e importar archivos en Julia usando diversas fuentes.</p> <p>Tambi\u00e9n se conocer\u00e1 c\u00f3mo hacer filtros y otro tipo de operacione sobre las bases con el fin de poder manipularlas.</p> <p>Debido a que las tablas de datos no est\u00e1n implementadas de forma nativa, se debe usar un paquete que nos permita su creaci\u00f3n y manipulaci\u00f3n, por esta raz\u00f3n se usar\u00e1 el paquete <code>DataFrames</code>.</p>"},{"location":"julia/basico_julia/#lectura-de-datos","title":"Lectura de datos","text":"<p>En Julia existen diversos paquetes que nos permiten importar y leer datos de archivos externos. En esta secci\u00f3n nos enfocaremos a la creaci\u00f3n de conjuntos de datos.</p> <p>Como se mencion\u00f3 anteriormente, es necesario usar el paquete DataFrames.</p> <p>Instalar el paquete</p> <p>No olvide instalar el paquete <code>DataFrames</code>, de otro modo se obtendr\u00e1 un error.</p>"},{"location":"julia/basico_julia/#creacion-de-datos","title":"Creaci\u00f3n de datos","text":"<p>Para crear conjuntos de datos de forma manual, se pueden usar las funciones definidas en el paquete <code>DataFrames</code>.</p> <p>Por ejemplo, para crear el siguiente conjunto de datos</p> nombre grupo puntaje ANGELICA A 10 BRENDA A 9 LILIANA B 8 MARCO B 8 FABIAN C 9 MAURICIO C 7 <p>se puede escribir en la consola el siguiente comando:</p> <pre><code>using DataFrames\ndatos = DataFrame(nombre =[\"ANGELICA\",\"BRENDA\",\"LILIANA\",\"MARCO\",\"FABIAN\",\"MAURICIO\"],\ngrupo = [\"A\",\"A\",\"B\",\"B\",\"C\",\"C\"],\npuntaje = [10,9,8,8,9,7]);\nprint(datos)\n</code></pre> <p>Este c\u00f3digo crea un objeto llamado datos que es de tipo DataFrame. La forma de definir su contenido es mediante constructores que en este caso son las columnas, aunque pueden ser vectores definidos previamente.</p> <p>Para saber el tipo del objeto datos podemos escribir en la consola el siguiente comando:</p> <pre><code>typeof(datos)\n</code></pre> <p>DataFrame</p> <p>Para visualizar el objeto, se puede usar el comando <code>print()</code>. El resultado se muestra a continuaci\u00f3n.</p> <p></p>"},{"location":"julia/basico_julia/#leyendo-un-archivo-csv","title":"Leyendo un archivo CSV","text":"<p>Para leer un archivo csv, recomienda el uso de los paquetes CSV y DataFrames.</p> <p>El siguiente c\u00f3digo muestra c\u00f3mo importar un archivo csv a un objeto <code>DataFrame</code>.</p> <pre><code>using CSV, DataFrames\nmi_csv = CSV.read(\"C:\\\\Users\\\\Usuario\\\\census.csv\",DataFrame)\nsummary(mi_csv)\n</code></pre> <p>La primer l\u00ednea carga los paquetes instalados previamente, para poder usar todas sus funciones y m\u00e9todos. En la segunda, se usa la funci\u00f3n <code>CSV.read()</code> especific\u00e1ndole el nombre de archivo y la funci\u00f3n sink, en este caso ser\u00e1 <code>DataFrame</code>, asign\u00e1ndolo al objeto mi_csv. Debido a que el archivo es grande se sugiere ver las dimensiones del dataframe usando la funci\u00f3n <code>summary()</code>.</p>"},{"location":"julia/basico_julia/#leyendo-un-archivo-desde-la-web","title":"Leyendo un archivo desde la web","text":"<p>Para leer archivos desde internet, se puede usar la funci\u00f3n <code>download()</code> del paquete CSV.</p> <p>El siguiente c\u00f3digo muestra el uso de la funci\u00f3n as\u00ed como la forma de almacenarlo en un objeto <code>DataFrame</code>.</p> <pre><code>using CSV, DataFrames\n\ndatos = CSV.read(download(\"https://covid.ourworldindata.org/data/owid-covid-data.csv\"),DataFrame)\n</code></pre> <p>Note que la funci\u00f3n <code>download()</code> funciona como la referencia al nombre de archivo, y su argumento es una direcci\u00f3n web que apunte a un archivo CSV.</p>"},{"location":"julia/basico_julia/#manipulacion-de-bases","title":"Manipulaci\u00f3n de bases","text":"<p>En esta secci\u00f3n se muestra c\u00f3mo manipular bases con el fin de trabajar directamente con ellas o realizar algunas operaciones, tales como ordenar una base, segmentarla o realizar uniones.</p> <p>Tambien, en esta secci\u00f3n nos enfocaremos en conocer las propiedades de las bases, acceder a los elementos de la base, entre otros.</p>"},{"location":"julia/basico_julia/#explorando-la-base","title":"Explorando la base","text":"<p>Para saber la dimensi\u00f3n de un objeto DataFrame se puede usar la funci\u00f3n <code>summary()</code>. Por ejemplo:</p> <pre><code>summary(datos)\n</code></pre> <p>El siguiente mensaje se muestra en la pantalla o ventana de resultados.</p> <p></p> <p>Tambi\u00e9n es posible conocer los primeros y \u00faltimos renglones de una base con la funci\u00f3n <code>first()</code> y <code>last()</code>. Por ejemplo, para obtener los primeros 3 y \u00faltimos 3 se puede usar este c\u00f3digo.</p> <pre><code>first(datos,3)\nlast(datos,3)\n</code></pre> <p>El siguiente mensaje se mostrar\u00e1 en pantalla.</p> <p></p> <p>Finalmente tambien es posible obtener estad\u00edsticas descriptivas del dataframe usando la siguiente instrucci\u00f3n.</p> <pre><code>describe(datos)\n</code></pre> <p></p>"},{"location":"julia/basico_julia/#accediendo-a-los-datos","title":"Accediendo a los datos","text":"<p>Como ya vimos anteriormente, las bases en Julia se guardan en un objeto DataFrame.</p> <p>Para poder acceder a las variables, se pueden usar los corchetes cuadrados de la forma <code>[renglon,columna]</code>, por ejemplo</p> <pre><code>datos[:,\"grupo\"]\ndatos[!,2]\ndatos[1:3,:]\ndatos[[1,3,5],[1,3]]\n</code></pre> <p>Seleccionar todos los renglones</p> <p>Se puede usar <code>!</code> en lugar de  <code>:</code> para indicar que se deben seleccionar todos los elementos. No puede ir vac\u00edo.</p> <p>Para elegir un elemento de un dataframe se puede usar la funci\u00f3n <code>getindex()</code>, por ejemplo el siguiente c\u00f3digo obtendr\u00e1 del dataframe datos el tercer registro de la columna nombre.</p> <pre><code>getindex(datos,3,\"nombre\")\n</code></pre>"},{"location":"julia/basico_julia/#filtrado-de-datos","title":"Filtrado de datos","text":"<p>Para realizar un filtrado, se puede usar la notaci\u00f3n <code>.</code> para acceder a las propiedades de un dataframe y usar los nombres de variables.</p> <p>El siguiente c\u00f3digo muestra c\u00f3mo obtener una filtro del dataframe datos, eligiendo a los alumnos que pertenecen al grupo A.</p> <pre><code>datos2 = datos[datos.grupo .== \"A\",:]\nprint(datos2)\n</code></pre> <p>Comparaci\u00f3n</p> <p>Note que se usa un punto antes de los operadores de comparaci\u00f3n.</p> <p>El resultado se muestra a continuaci\u00f3n:</p> <p></p> <p>Tambien se puede usar la funci\u00f3n <code>in</code> para elegir m\u00e1s de un valor.</p> <pre><code>datos2 = datos[in([\"A\",\"C\"]).(datos.grupo) ,:]\nprint(datos2)\n</code></pre> <p></p> <p>Para saber m\u00e1s del filtrado de datos, vea la documentaci\u00f3n.</p>"},{"location":"julia/basico_julia/#creando-nuevas-variables","title":"Creando nuevas variables","text":"<p>Para crear nuevas variable, se puede usar la notaci\u00f3n <code>.</code> para crear en un dataframe el nuevo nombre de la variable.</p> <p>El siguiente c\u00f3digo muestra como crear una nueva variable llamada nota usando una funci\u00f3n condicional.</p> <pre><code>datos.nota = ifelse.(datos.puntaje .&lt; 9, \"Suficiente\", \"Excelente\")\nprint(datos)\n</code></pre> <p>Note que se usa la notaci\u00f3n <code>.&lt;</code> para expresar que se quiere hacer la comparaci\u00f3n por elemento y tambi\u00e9n la funci\u00f3n <code>ifelse.</code> lo usa. El resultado se muestra a continuaci\u00f3n.</p> <p></p>"},{"location":"julia/basico_julia/#ordenando-una-base","title":"Ordenando una base","text":"<p>Para ordenar una base, se requiere especificar una variable por la cual se deba ordenar. El siguiente ejemplo muestra c\u00f3mo guardar un dataframe en un nuevo objeto ordenado por la variable nombre.</p> <pre><code>using DataFrames\ndatos_ord = sort(datos, :nombre)\nprint(datos_ord)\n</code></pre> <p>El resultado se muestra a continuaci\u00f3n</p> <p></p> <p>C\u00e1lculo en el dataframe</p> <p>Se puede colocar un signo de admiraci\u00f3n <code>!</code> despues de la funci\u00f3n <code>sort</code> para indicar que la operaci\u00f3n se haga en el mismo dataframe. No se requiere guardar la base en un nuevo dataframe.</p>"},{"location":"julia/basico_julia/#datos-agrupados","title":"Datos agrupados","text":"<p>En julia es posible crear dataframes agrupados por alguna variable, en donde cada valor distinto corresponda a un grupo. Esto es relativamente \u00fatil cuando se desea segmentar una base formando grupos excluyentes entre s\u00ed.</p> <p>El siguiente ejemplo muestra c\u00f3mo crear una base agrupada.</p> <pre><code>using DataFrames\ndatosg = groupby(datos, :grupo)\n</code></pre> <p>La funci\u00f3n <code>groupby</code> crea una Dataframe agrupado del dataframe datos y lo almacena en el objeto datosg. La variable de agrupamiento es grupo.</p> <p></p> <p>Note que el tipo de dato es el siguiente:</p> <pre><code>typeof(datosg)\n</code></pre> <p>GroupedDataFrame{DataFrame}</p> <p>Los datos agrupados son de gran ayuda ya que posteriormente nos permitir\u00e1n realizar c\u00e1lculos por grupos de variables, por ejemplo usando la funci\u00f3n <code>combine()</code>.</p>"},{"location":"julia/basico_julia/#uniones-de-bases","title":"Uniones de bases","text":"<p>En Julia, es posible realizar uniones de tablas mediante uniones.</p> <p>Supongase que se tienen las siguientes tablas, una de alumnos con sus grupos y calificaciones y otra de informaci\u00f3n de cada alumno.</p> <p>Alumnos:</p> nombre grupo puntaje ANGELICA A 10 BRENDA A 9 LILIANA B 8 MARCO B 8 FABIAN C 9 MAURICIO C 7 <p>Informacion:</p> nombre apellidos edad ANGELICA SANTIAGO 20 BRENDA CAMACHO 19 LILIANA BUENO 18 MARCO BALDERAS 18 FABIAN CASTILLO 19 MAURICIO ZEPEDA 27 <p>El siguiente c\u00f3digo muestra la uni\u00f3n de dos tablas mostradas anteriormente. Se usa la funci\u00f3n <code>innerjoin()</code> cuyos argumentos son el nombre de las tablas que ser\u00e1n unidas, as\u00ed como el nombre de la llave, en este caso com\u00fan en ambas tablas.</p> <pre><code>tabla=innerjoin(alumnos,informacion,on=:nombre)\n</code></pre> <p>En este caso, el objeto generado es un <code>DataFrame</code>. El siguiente resultado se muestra al correr la funci\u00f3n, en este caso el resultado se mostr\u00f3 directamente en el cuaderno de Jupyter.</p> <p></p> <p>Para mayor informaci\u00f3n sobre c\u00f3mo realizar otro tipo de uniones, visite la documentaci\u00f3n.</p>"},{"location":"julia/intro_julia/","title":"Inicio","text":"<p>Julia es un poderoso lenguaje de programaci\u00f3n enfocado en la potencia y velocidad. Es de c\u00f3digo abierto y de libre uso. Visite la p\u00e1gina oficial de Julia para mayor informaci\u00f3n.</p> <p>Al iniciar Julia se muestra una pantalla en que es la l\u00ednea de comandos de Julia conocida como Julia REPL.</p> <p></p> <p>Esta permite la entrada y evalua los comandos al instante.</p> <p>Una vez en la consola se pueden entrar a distintos modos, tal como el modo de ayuda escribiendo <code>?</code> o el modo comando de sistema con <code>;</code> o el modo paquetes escribiendo <code>]</code>. Se puede salir de dichos modos con la tecla de borrar o con Ctrl+c.</p> <p>Julia tambi\u00e9n puede ejecutarse en entornos gr\u00e1ficos, por ejemplo Jypiter Notebooks o VS Code.</p>"},{"location":"julia/intro_julia/#directorio-de-trabajo","title":"Directorio de trabajo","text":"<p>Cuando se inicia una sesi\u00f3n de trabajo en Julia, es importante conocer en d\u00f3nde se encuentra el directorio de trabajo.</p> <p>Para conocer en d\u00f3nde se encuentra el directorio de trabajo, basta con escribir en la consola la siguiente funci\u00f3n.</p> <pre><code>pwd()\n</code></pre> <p>Funci\u00f3n similar</p> <p>Tambi\u00e9n es posible conocer el actual directorio con la funci\u00f3n <code>homedir()</code>.</p> <p>El resultado ser\u00e1 desplegado en pantalla con el directorio en donde se encuentra actualmente el directorio de trabajo.</p> <p>Para cambiar el actual directorio de trabajo, se puede usar la funci\u00f3n</p> <pre><code>cd(\"dir\")\n</code></pre> <p>Por ejemplo, si se desea cambiar a la carpeta Documentos, se puede especificar usando la instrucci\u00f3n <code>cd(\"C:\\\\Users\\\\user\\\\Documentos\")</code>.</p>"},{"location":"julia/intro_julia/#variables","title":"Variables","text":"<p>Julia tiene varios tipos de variables, por ejemplo tipo num\u00e9rico (entero y flotante) booleano o caracter. Para conocer todos los tipos de variables que existen, consulte la documentaci\u00f3n.</p> <p>Se puede definir una variable usando el operador de asignaci\u00f3n <code>=</code> como se muestra en el siguiente ejemplo.</p> <pre><code>x = 1\ny = 1.25\nz = x + y\na = \"abc\"\nsi = true\n</code></pre> <p>Para saber de que tipo es, se puede usar la funci\u00f3n <code>typeof()</code>, el resultado se muestra</p> <pre><code>typeof(x)\n</code></pre> <p>Int64</p>"},{"location":"julia/intro_julia/#vectores","title":"Vectores","text":"<p>La forma de definir vectores es mediante el uso de corchetes cuadrados <code>[]</code>, por ejemplo:</p> <pre><code>a = [1,2,3]\nb = [2,4,5]\n</code></pre> <p>No confundir con tuplas</p> <p>La forma de definir una tupla es mediante un par\u00e9ntesis <code>()</code>.</p> <p>Al igual que otros lenguajes de programaci\u00f3n, la forma de acceder a sus elementos es mediante el operador <code>[]</code> y tambi\u00e9n con <code>:</code> se puede definir una secuencia.</p> <pre><code>a[2]\nb[1:2]\n</code></pre>"},{"location":"julia/intro_julia/#operadores-aritmeticos","title":"Operadores aritm\u00e9ticos","text":"<p>Julia soporta diversos operadores aritm\u00e9ticos, la siguiente tabla muestra los principales operadores.</p> Expresi\u00f3n Nombre Descripci\u00f3n <code>x + y</code> suma realiza adici\u00f3n <code>x - y</code> resta realiza substracci\u00f3n <code>x * y</code> producto realiza multiplicaci\u00f3n <code>x / y</code> divisi\u00f3n realiza divisi\u00f3n <code>x \u00f7 y</code> divisi\u00f3n entera similar a <code>x/y</code>, pero truncado a un entero <code>x \\ y</code> divisi\u00f3n inversa equivalente a <code>y/x</code> <code>x ^ y</code> potencia eleva <code>x</code> a la potencia <code>y</code> <code>x % y</code> resto equivalente to <code>rem(x,y)</code> <p>Para una mayor referencia visita la secci\u00f3n operadores aritm\u00e9ticos.</p>"},{"location":"julia/intro_julia/#control-de-flujo","title":"Control de flujo","text":"<p>Julia posee estructuras para control de flujo. Se puede realizar un ciclo usando el siguiente c\u00f3digo</p> <pre><code>for x in 1:10\nprintln(x)\nend\n</code></pre> <p>Nota</p> <p>La funci\u00f3n <code>print()</code> imprimir\u00eda los valores consecutivamente sin espacio, mientras que <code>println()</code> los imprime en una l\u00ednea nueva.</p> <p>Se debe tomar en cuenta que la palabra <code>for</code> debe cerrarse con un  <code>end</code> para delimitar el bloque.</p> <p>Para usar el ciclo while, se usa el siguiente c\u00f3digo</p> <pre><code>x = 0\nwhile x &lt;= 5 println(x)\nx = x + 1\nend\n</code></pre> <p>Ciclo infinito</p> <p>No olvides aumentar el contador con el fin de que se cumpla la condici\u00f3n, de otro modo se entrar\u00eda en un ciclo infinito.</p>"},{"location":"julia/intro_julia/#funciones","title":"Funciones","text":"<p>Para definir una funci\u00f3n, se usa la palabra <code>function</code> seguido del nombre de la funci\u00f3n y entre par\u00e9ntesis los argumentos.</p> <p>Se debe especificar la paabra clave <code>return</code>, de otro modo retornar\u00eda el \u00faltimo valor calculado.</p> <p>La funci\u00f3n termina con un <code>end</code> e inmediatamente se compila.</p> <pre><code>function signo(x)\nif x &lt; 0 resp = \"Negativo\"\nelseif x &gt; 0 resp = \"Positivo\"\nelse resp = \"Es Cero\"\nend\nreturn resp\nend\n</code></pre> <p>una vez compilada, se puede usar.</p> <pre><code>signo(-5)\n</code></pre> <p>El resultado ser\u00eda el siguiente</p> <p>\u201cNegativo\u201d</p>"},{"location":"julia/intro_julia/#paquetes","title":"Paquetes","text":"<p>Julia tiene un gestor de paquetes en el cual se pueden descargar miles de ellos.</p> <p>Para acceder a ellos basta con entrar al modo paquete y escribir en la consola. Por ejemplo, para instalar el paquete DataFrames usaremos el siguiente comando</p> <pre><code>add DataFrames\n</code></pre> <p>alternativamente, desde la consola REPL podemos escribir</p> <pre><code>import Pkg\nPkg.add(\"DataFrames\")\n</code></pre> <p>Para comenzar a usarlo, escribimos desde la consola</p> <pre><code>using DataFrames\n</code></pre>"},{"location":"python/basico/","title":"Introducci\u00f3n","text":"<p>En esta secci\u00f3n aprenderemos acerca de c\u00f3mo leer datos en python, as\u00ed como el manejo de datos con python.</p> <p>Para manejar datos en python se usan librer\u00edas especiales. En particular se usar\u00e1 la librer\u00eda pandas para realizar estas operaciones.</p> <p>El primer paso es llamar las librer\u00edas que se utilizar\u00e1n en la sesi\u00f3n.</p> <pre><code>import pandas as pd\nimport numpy as np\nimport os\n</code></pre> <p>La librer\u00eda pandas es la que nos permite manejar objetos de tipo dataframe que es la estructura de datos usada en python para almacenar la informaci\u00f3n. La librer\u00eda numpy nos permitir\u00e1 crear arreglos y manipularlos de forma m\u00e1s f\u00e1cil. La librer\u00eda os nos ayudar\u00e1 a usar funciones y otras utilidades del sistema operativo.</p> <p>Los c\u00f3digos mostrados se realizaron en un cuaderno interactivo de python (archivo ipynb) usando Visual Studio Code.</p> <p>Para una referencia completa, visite la documentaci\u00f3n de pandas.</p>"},{"location":"python/basico/#creando-un-objeto-dataframe","title":"Creando un objeto DataFrame","text":"<p>La forma m\u00e1s sencilla de crear un dataframe es mediante la definici\u00f3n de un diccionario con las listas definidas y posteriormente se usa la funci\u00f3n <code>DataFrame</code> del paquete pandas para crear un objeto <code>DataFrame</code> en donde se almacenar\u00e1 la informaci\u00f3n. El objeto creado hereda las claves del diccionario y los valores se escriben en el dataset.</p> <p>Para introducir datos de manera manual, se puede usar la siguiente sintaxis:</p> <pre><code>import pandas as pd\n\nnombres = [\"ANGELICA\",\"BRENDA\",\"LILIANA\",\"MARCO\",\"FABIAN\",\"MAURICIO\"]\ngpo = [\"A\",\"A\",\"B\",\"B\",\"C\",\"C\"]\npuntajes = [10,9,8,8,9,7]\n\ndic = {\"nombre\":nombres,\"grupo\":gpo,\"puntaje\":puntajes}\n\nmi_base = pd.DataFrame(dic)\nprint(mi_base)\n</code></pre> <p>La siguiente imagen muestra el dataframe definido.</p> <p></p> <p>Note que el objeto creado es un objeto especial. Si escribimos en la consola el comando <code>type(mi_base)</code>, obtenemos la siguiente informaci\u00f3n.</p> <p>pandas.core.frame.DataFrame</p> <p>Como tal, este objeto va a tener diversos m\u00e9todos para manipularlo o conocer sus propiedades. Consulte la referencia de DataFrame para saber m\u00e1s de sus propiedades.</p>"},{"location":"python/basico/#lectura-de-archivos-externos","title":"Lectura de archivos externos","text":"<p>Para leer archivos externos, por ejemplo de tipo csv, se usa la funci\u00f3n <code>read_csv</code> de la librer\u00eda pandas para leer los datos.</p> <p>El siguiente c\u00f3digo muestra c\u00f3mo leer un archivo que est\u00e1 almacenado en la misma carpeta del directorio de trabajo.</p> <pre><code>import pandas as pd\n\ndatos = pd.read_csv(\"census.csv\")\n</code></pre> <p>Como puede observarse, <code>datos</code> es un objeto DataFrame que se define gracias a la funci\u00f3n <code>read_csv()</code> de pandas. En este caso, el archivo estaba en la misma carpeta que el directorio de trabajo.</p> <p>Para conocer cual es el directorio de trabajo, se puede usar el siguiente comando:</p> <pre><code>root=os.getcwd()\nprint(root)\n</code></pre> <p>El resultado devolver\u00e1 la ruta del directorio de trabajo, por ejemplo:</p> <p>\u2018c:\\Users\\Usuario\\Documents\\proyectos\\python\\src\u2019</p> <p>Para modificar el directorio de trabajo, se puede usar el siguiente c\u00f3digo:</p> <pre><code>os.chdir(\"C:\\\\Users\\\\Usuario\\\\Documents\\\\proyectos\\\\python\\\\datos\")\n</code></pre> <p>Por lo que solo basta copiar los archivos a esta carpeta para poder importarlos sin problema.</p> <p>Si el archivo se encuentra almacenado en la web, \u00fanicamente se debe escribir la direcci\u00f3n entre comillas dentro de la funci\u00f3n <code>read_csv()</code> y autom\u00e1ticamente ser\u00e1 leido y almacenado en un objeto DataFrame.</p> <p>El siguiente c\u00f3digo ejemplifica su uso:</p> <pre><code>import pandas as pa\n\ncovid = pa.read_csv(\"https://covid.ourworldindata.org/data/owid-covid-data.csv\")\n\ncovid.info()\n</code></pre>"},{"location":"python/basico/#exploracion-de-la-base","title":"Exploraci\u00f3n de la base","text":"<p>Para conocer la dimensi\u00f3n de un objeto DataFrame, se puede usar el m\u00e9todo <code>shape()</code>.</p> <pre><code>datos.shape()\n</code></pre> <p>Se puede obtener informaci\u00f3n m\u00e1s detallada de un objeto DataFrame usando el siguiente comando.</p> <pre><code>datos.info()\n</code></pre> <p>La siguiente imagen muestra el resultado obtenido de la consola.</p> <p></p> <p>Para ver un an\u00e1lisis descriptivo de las variables num\u00e9ricas datos se puede usar el m\u00e9todo <code>describe</code>.</p> <pre><code>datos.describe()\n</code></pre> <p>El resultado se muestra a continuaci\u00f3n</p> <p></p> <p>M\u00e9todos sin argumentos</p> <p>Note que los m\u00e9todos anteriores no requieren ning\u00fan argumento, porlo que solo se ponen los par\u00e9ntesis vac\u00edos.</p> <p>Para visualizar los primeros 5 datos se puede usar este c\u00f3digo</p> <pre><code>datos.head(n=5)\n</code></pre> <p>La siguiente imagen muestra las primeras 5 observaciones</p> <p></p> <p>De manera similar, los \u00faltimos 5 registros se pueden ver con este c\u00f3digo</p> <pre><code>datos.tail(n=5)\n</code></pre> <p>La siguiente imagen muestra las \u00faltimas 5 observaciones</p> <p></p> <p>Argumentos opcionales</p> <p>Algunos m\u00e9todos no requieren argumentos, mientras que en otros son opcionales. Los m\u00e9todos <code>head()</code> y <code>tail()</code> tienen un valor predeterminado de 5.</p> <p>Al igual que otros lenguajes de programaci\u00f3n, es posible acceder a los elementos de un dataframe. Para ello se puede hacer uso del m\u00e9todo <code>iloc</code>.</p> <p>El siguiente c\u00f3digo muestra c\u00f3mo acceder al segundo rengl\u00f3n de un dataframe y el resultado que se obtiene.</p> <pre><code>mi_base.iloc[1,]\n</code></pre> <p>El resultado se muestra a continuaci\u00f3n</p> <p></p> <p>M\u00e9todo sin par\u00e9ntesis</p> <p>Note que el m\u00e9todo <code>iloc</code> no usa par\u00e9ntesis.</p>"},{"location":"python/basico/#transformacion-y-manipulacion-de-un-dataframe","title":"Transformaci\u00f3n y manipulaci\u00f3n de un dataframe","text":"<p>Al igual que en otros lenguajes de programaci\u00f3n, es posible modifcar las tablas en python a trav\u00e9s de los m\u00e9todos de los objetos dataframe proporcionados por el paquete pandas.</p> <p>En esta secci\u00f3n se abordar\u00e1n temas acerca de como manipular y transformar bases que est\u00e9n almacenadas en un objeto dataframe, tales como realizar filtros, unir tablas, agrupar datos, entre otras operaciones.</p>"},{"location":"python/basico/#filtrado-de-base","title":"Filtrado de base","text":"<p>Para filtrar una base, se puede usar el m\u00e9todo <code>query()</code> para filtrar una base usando condicionales. A diferencia de otros m\u00e9todos, se requiere de una expresi\u00f3n entrecomillada con una expresi\u00f3n l\u00f3gica a evaluarse.</p> <p>El siguiente ejemplo muestra c\u00f3mo seleccionar a alumnos del grupo A.</p> <pre><code>filtro = mi_base.query('grupo == \"A\"')\nprint(filtro)\n</code></pre> <p>El resultado se muestra a continuaci\u00f3n</p> <p></p> <p>Para saber m\u00e1s, consulte la documentaci\u00f3n del m\u00e9todo <code>query()</code>.</p>"},{"location":"python/basico/#ordenando-una-base","title":"Ordenando una base","text":"<p>Para ordenar una base, se usa el m\u00e9todo <code>sort.values()</code> en donde se le pasa una lista con los nombres de las variables a ordenar.</p> <p>El siguiente c\u00f3digo muestra su uso. Note que el m\u00e9todo requiere al menos el argumento <code>by</code> y se pide que guarde la base ordenada en un nuevo objeto <code>dataframe</code>.</p> <pre><code>base_ord = mi_base.sort_values(by=[\"nombre\"])\nprint(datos_ord)\n</code></pre> <p>La siguiente imagen muestra el resultado, note que la base se ha guardado en un nuevo objeto.</p> <p></p> <p>Para m\u00e1s informaci\u00f3n acerca del m\u00e9todo <code>sort.values()</code> consulte la documentaci\u00f3n del m\u00e9todo <code>sort_values</code>.</p>"},{"location":"python/basico/#datos-agrupados","title":"Datos agrupados","text":"<p>En el paquete <code>pandas</code> tambi\u00e9n se incluye un m\u00e9todo para crear datos agrupados por una o m\u00e1s variables.</p> <p>El siguiente c\u00f3digo muestra su uso</p> <pre><code>mi_base_agrupada = mi_base.groupby(by=[\"grupo\"])\n</code></pre> <p>objeto retornado</p> <p>El m\u00e9todo <code>groupby</code> regresa un objeto <code>DataFrameGroupBy</code>, por lo que no podr\u00eda ser visualizado. Este objeto se suele utilizar para realizar agregados por cada grupo.</p> <p>Los datos agrupados son \u00fatiles para obtener estad\u00edsticas descriptivas por grupos. El siguiente ejemplo ejemplifica su uso mediante el m\u00e9todo <code>aggregate()</code>.</p> <pre><code>mi_base_agrupada.aggregate([\"mean\"])\n</code></pre> <p></p> <p>Para m\u00e1s informaci\u00f3n visite la documentaci\u00f3n del m\u00e9todo <code>groupby</code> y c\u00f3mo realizar agregados.</p>"},{"location":"python/basico/#uniones-de-bases","title":"Uniones de bases","text":"<p>Para realizar una uni\u00f3n de dos o m\u00e1s bases, se usar el m\u00e9todo <code>merge()</code> de un dataframe para unirlo con otro. Se puede guardar el nuevo objeto en un nuevo dataframe.</p> <p>El siguiente ejemplo muestra c\u00f3mo unir 2 bases que tienen la misma llave.</p> <p>Alumnos:</p> nombre grupo puntaje ANGELICA A 10 BRENDA A 9 FABIAN C 9 LILIANA B 8 MARCO B 8 MAURICIO C 7 <p>Informaci\u00f3n:</p> nombre sexo edad ANGELICA F 19 BRENDA F 29 LILIANA F 28 MARCO M 30 FABIAN M 29 MAURICIO M 30 <p>El siguiente c\u00f3digo muestra la uni\u00f3n de las dos bases.</p> <pre><code>base = alumnos.merge(informacion,on=[\"nombre\"])\nprint(base)\n</code></pre> <p>En la siguiente imagen se ilustra el resultado.</p> <p></p> <p>Para saber m\u00e1s sobre c\u00f3mo unir 2 o m\u00e1s bases o realizar otro tipo de uniones, visite la documentaci\u00f3n del m\u00e9todo merge.</p>"},{"location":"python/intro_python/","title":"Introducci\u00f3n","text":"<p>Este es un tutorial r\u00e1pido sobre el programa enfocado principalmente al manejo de datos y temas relacionados con ciencias de datos.</p> <p>Python es un lenguaje que se emplea mucho en diversas \u00e1reas, sin embargo recientemente se ha vuelto muy popular en las \u00e1reas de ciencias de datos.</p> <p>Por esa raz\u00f3n hoy en d\u00eda es pr\u00e1cticamente indispensable tener conocimientos en el programa.</p> <p></p> <p>Iconos dise\u00f1ados por Freepik from Flaticon</p>"},{"location":"python/intro_python/#instalacion-e-interfaces-graficas","title":"Instalaci\u00f3n e interfaces gr\u00e1ficas","text":"<p>El sitio oficial de Python es python.org, sin embargo se recomienda instalar Anaconda, una distribuci\u00f3n de Python que contiene muchos m\u00f3dulos y software adicional para trabajar con Python.</p> <p>Descarga</p> <p>Usted puede descargar el software gratuitamente. Visite la p\u00e1gina de Anaconda para m\u00e1s informaci\u00f3n.</p> <p>Python corre desde la consola de windows (cmd o powershell), aunque puede ser llamada desde Anaconda Prompt o Anaconda Powershell Prompt.</p> <p>Spyder es otra interfaz gr\u00e1fica destinada a desarrollar c\u00f3digo eficientemente, ya que cuenta con varias opciones de configuraci\u00f3n y ventanas con varias funciones. Esta interfaz gr\u00e1fica ya viene incluida en Anaconda.</p> <p>Python tiene unos cuadernos interactivos para correr c\u00f3digo al instante llamados Jupyter Notebooks, este software se instala junto con Anaconda y permite ejecutar no s\u00f3lo c\u00f3digo de python, sino que tiene plugins llamados kernel que permiten ejecutar c\u00f3digo de otros lenguajes.</p> <p>Tambi\u00e9n es posible usar python en Visual Studio Code, usando la extensi\u00f3n de Python. Cuando un c\u00f3digo de es ejecutado, se abre una consola que ejecuta el c\u00f3digo directamente en VSC. El uso del depurador tambi\u00e9n es una caracter\u00edstica importante que se puede usar. Tambi\u00e9n es posible crear, editar y ejecutar los cuadernos de Python desde VSC.</p>"},{"location":"python/intro_python/#objetos","title":"Objetos","text":"<p>Al ser Python un lenguaje orientado a objetos, es necesario conocer sus m\u00e9todos y algunas de sus propiedades.</p> <p>A continuaci\u00f3n se muestran algunos de sus objetos.</p>"},{"location":"python/intro_python/#variables","title":"Variables","text":"<p>Las variables son objetos que permiten almacenar un valor.</p> <p>Se pueden declarar usando el operador  <code>=</code>, por ejemplo</p> <pre><code>x = 5\ny = 2.15\na = \"hola\"\n</code></pre> <p>Para conocer el tipo de variable, se usa la funci\u00f3n <code>type</code>, por ejemplo</p> <pre><code>type(x)\ntype(y)\ntype(a)\n</code></pre> <p>La siguiente tabla muestra algunos de los tipos de datos que existen.</p> Ejemplo Tipo x = \u201cHola Mundo!\u201d str x = 20 int x = 20.5 float x = 1j complex x = True bool <p>Los objetos tienen m\u00e9todos, por ejemplo, los objetos tipo str tienen m\u00e9todos que los convierten en may\u00fasculas, por ejemplo</p> <pre><code>a.upper()\n</code></pre> <p>Consulte los m\u00e9todos de las cadenas para saber m\u00e1s acerca de sus propiedades.</p>"},{"location":"python/intro_python/#listas","title":"Listas","text":"<p>Uno de los principales objetos en python son las listas. Las listas permiten guardar varios valores en una sola variable, adem\u00e1s sus elementos est\u00e1n ordenados y pueden ser intercambiables. Una lista puede ser vista como un arreglo que permite valores duplicados.</p> <p>Por ejemplo para crear una lista se puede declarar de la siguiente forma:</p> <pre><code>mi_lista = [\"manzana\",\"naranja\",\"pera\",\"uva\"]\nprint(mi_lista)\n</code></pre> <p>El resultado que se obtiene es el siguiente:</p> <p>[\u2018manzana\u2019, \u2018naranja\u2019, \u2018pera\u2019, \u2018uva\u2019]</p> <p>\u00cdndices</p> <p>A diferencia de otros lenguajes de programaci\u00f3n, el primer elemento de un objeto es el 0 y no el 1.</p> <p>Para acceder a un elemento de una lista, se puede usar <code>[]</code> con el \u00edndice del elemento, tambi\u00e9n se puede definir un rango con <code>:</code>.</p> <pre><code>mi_lista[0]\nmi_lista[:1]\nmi_lista[2:]\n</code></pre> <p>Para agregar un nuevo elemento a una lista, se puede usar el m\u00e9todo append.</p> <pre><code>mi_lista.append(\"fresa\")\nmi_lista\n</code></pre> <p>El resultado es el siguiente:</p> <p>[\u2018manzana\u2019, \u2018naranja\u2019, \u2018pera\u2019, \u2018uva\u2019, \u2018fresa\u2019]</p> <p>Para una referencia completa acerca de las lista consulte Listas de Python.</p>"},{"location":"python/intro_python/#diccionarios","title":"Diccionarios","text":"<p>Otro tipo de arreglo que existe en python son los diccionarios.</p> <p>Los diccionarios son un arreglo conformado por pares de claves y valores. Los elementos de un diccionario est\u00e1n dentro de llaves <code>{}</code> separados por comas, y se usa dos puntos para asignar el valor a la clave. El siguiente ejemplo muestra un diccionario.</p> <pre><code>dic = {\n  \"nombre\": \"Juan\",\n  \"apellido\": \"P\u00e9rez\",\n  \"edad\": 30\n}\n</code></pre> <p>Los valores pueden ser una lista, por ejemplo:</p> <pre><code>sexo = [\"M\",\"F\",\"M\"]\ndic = {\n  \"nombre\": [\"Juan\",\"Mar\u00eda\",\"Jos\u00e9\"],\n  \"apellido\": [\"P\u00e9rez\",\"Mart\u00ednez\",\"P\u00e9rez\"],\n  \"edad\": [30,50,45],\n  \"genero\":sexo\n}\n</code></pre> <p>El resultado se muestra a continuaci\u00f3n.</p> <p></p> <p>Claves \u00fanicas</p> <p>Los diccionarios no permiten tener claves duplicadas, si se agrega una clave ya existente, se mantendr\u00e1 la m\u00e1s reciente. Las claves funcionan como el nombre de variable en una tabla.</p> <p>Es posible acceder a los elementos de un diccionario mediante sus claves, por ejemplo, para saber el nombre, se puede escribir</p> <pre><code>dic[\"nombre\"]\n</code></pre> <p>Para agregar nuevas claves, simplemente se agrega la nueva clave al diccionario con los valores deseados, por ejemplo</p> <pre><code>dic[\"ocupacion\"] = [\"Contador\",\"Gerente\",\"Profesor\"]\ndic\n</code></pre> <p></p> <p>Para una referencia completa acerca de los diccionarios consulte Diccionario de Python.</p>"},{"location":"python/intro_python/#ciclos","title":"Ciclos","text":"<p>Los ciclos en python permiten iterar en cualquier secuencia, por ejemplo una cadena, una lista o un diccionario.</p> <p>El siguiente ejemplo muestra el funcionamiento de un ciclo sobre una lista.</p> <pre><code>frutas = [\"manzana\",\"naranja\",\"pera\",\"uva\",\"papaya\"]\nfor x in frutas:\n  print(x)\n</code></pre> <p>Note que <code>x</code> toma el valor de cada elemento de la lista y en cada iteraci\u00f3n se imprime su valor. El ciclo termina cuando ya no hay elementos en la lista. El resultado de muestra a continuaci\u00f3n:</p> <p></p> <p>Visite ciclos en python para saber m\u00e1s acerca de c\u00f3mo funcionan los ciclos.</p>"},{"location":"python/intro_python/#funciones","title":"Funciones","text":"<p>En Python se puede definir una funci\u00f3n usando la siguiente sintaxis.</p> <pre><code>def funcion(arg1,arg2,...,argn)\n  instrucciones\n  return valor\n</code></pre> <p>Como ejemplo se muestra la siguiente funci\u00f3n que devuelve el producto de dos n\u00fameros.</p> <pre><code>def mult(x,y):\n    z = x*y\n    return z\n</code></pre> <p>El resultado se muestra a continuaci\u00f3n.</p> <p></p>"},{"location":"python/intro_python/#paquetes","title":"Paquetes","text":"<p>La mayor\u00eda de los paquetes usados en ciencia de datos son instalados cuando se instala Anaconda, por lo que solo es necesario llamar los paquetes necesarios.</p> <p>Por ejemplo, para usar las librer\u00edas pandas y numpy y otra librer\u00eda adicional llamada os se puede ejecutar el siguiente c\u00f3digo.</p> <pre><code>import pandas as pd\nimport numpy as np\nimport os\n</code></pre> <p>Nota</p> <p>En ocasiones es preferible usar nombres m\u00e1s cortos para referirnos a los nombres de las librer\u00edas. Por ejemplo, a <code>pandas</code> le llamaremos <code>pd</code> y <code>np</code> para referirnos a <code>numpy</code>.</p> <p>si solo se desea llamar una funci\u00f3n , se puede ejecutar el siguiente c\u00f3digo.</p> <pre><code>from pandas import read_csv\n</code></pre> <p>Sin embargo, se puede instalar paquetes adicionales desde la consola con los siguientes comandos:</p> <pre><code>pip install paquete\n</code></pre>"},{"location":"r/avanzado_r/","title":"Introducci\u00f3n","text":"<p>En esta lecci\u00f3n se aprender\u00e1 a usar R para ajustar distintos modelos predictivos m\u00e1s comunes, tales como modelo de regresi\u00f3n lineal simple y m\u00faltiple, as\u00ed como el modelo ANOVA y regresi\u00f3n log\u00edstica.</p> <p>Para los modelos lineales, se usar\u00e1 la funci\u00f3n <code>lm()</code> que nos permitir\u00e1 ajustar modelos ANOVA y de regresi\u00f3n lineal. Para el caso de la regresi\u00f3n log\u00edstica, se usar\u00e1 la funci\u00f3n <code>glm()</code> del paquete MASS.</p>"},{"location":"r/avanzado_r/#graficos","title":"Gr\u00e1ficos","text":"<p>En R se disponen de diversas funciones para realizar gr\u00e1ficos gen\u00e9ricos.</p> <p>Funciones como <code>plot()</code>, <code>scatter()</code>, <code>lines()</code>, <code>histogram()</code>, <code>boxplot()</code> o <code>points()</code> nos permiten generar gr\u00e1ficos de gran calidad con muchas opciones para personalizar los gr\u00e1ficos.</p> <p>Tambi\u00e9n la librer\u00eda <code>ggplot2</code> realiza gr\u00e1ficos m\u00e1s modernos y altamente personalizables, actualmente la gente prefiere \u00e9stos a los anteriores.</p> <p>Para saber m\u00e1s a cerca de los gr\u00e1ficos ggplot, visite su sitio oficial.</p>"},{"location":"r/avanzado_r/#modelo-anova","title":"Modelo ANOVA","text":"<p>Los datos que se usar\u00e1n en este ejemplo fueron descargados de este sitio.</p> <p>El objetivo del estudio es ver si hay efecto de tomar el curso de preparaci\u00f3n en las calificaciones de matem\u00e1ticas. En otras palabras, se pretende hacer la siguiente prueba de hip\u00f3tesis:</p> \\[H_0:\\mu_1 = \\mu_2 \\] <p>contra la altenativa:</p> \\[H_a:\\mu_1 \\ne \\mu_2\\] <p>Antes de ajustar un modelo ANOVA es importante realizar un an\u00e1lisis exploratorio de los datos.</p> <p>El siguiente c\u00f3digo realiza un gr\u00e1fico boxplot, tambien conocido como de caja y bigotes.</p> <pre><code>library(ggplot2)\nggplot(datos,aes(test.preparation.course,math.score))+geom_boxplot()\n</code></pre> <p></p> <p>La gr\u00e1fica sugiere que quienes completaron el curso obtuvieron un promedio m\u00e1s alto en su calificaci\u00f3n de matem\u00e1ticas de quienes no. Sin embargo la diferencia no es tan clara por que ambos grupos tienen mucha variabilidad, por lo que el modelo ANOVA nos permitir\u00e1 decidir.</p>"},{"location":"r/avanzado_r/#ajuste-de-un-modelo-anova","title":"Ajuste de un modelo ANOVA","text":"<p>El ajuste del modelo se realiza de la siguiente manera.</p> <pre><code>modelo = lm(math.score~test.preparation.course,data=datos)\nsummary(modelo)\n</code></pre> <p>R ajusta el modelo \\(math.score = \\beta_0 + \\beta_1*test.preparation.course\\) y lo almacena en un objeto <code>lm</code>, para poder ver los resultados, se debe usar la funci\u00f3n <code>summary()</code> para poder visualizar los resultados.</p> <p></p> <p>Se puede apreciar que se rechaza la hip\u00f3tesis nula de igualdad de medias, debido a que el p-value es muy peque\u00f1o. Eso indicar\u00eda que si hay diferencia de calificaciones de matem\u00e1ticas entre quienes tomaron el curso y quienes no.</p> <p>Si se observa los valores de los par\u00e1metros estimados, se puede ver que el intercepto es de 69.69 y el valor de \\(\\beta_1\\) para la categor\u00eda \u201cnone\u201d es -5.6. Ambos estimaciones son estad\u00edsticamente distintos de cero de acuerdo al p-value. Debido a que solo hay 2 categor\u00edas, R \u00fanicamente estima la diferencia con respecto a la categor\u00eda \u201ccompleted\u201d. En este caso, el valor del intercepto representa la media de calificaciones de quienes completaron el curso.</p> <p>El valor de R-cuadrado bajo y un error est\u00e1ndar de los residuales alto, sugiere que este modelo no puede explicar toda la variabilidad de la las calificaciones, por lo que se deber\u00eda agregar otra variable explicativa.</p> <p>Una forma de obtener las medias estimadas de ambos grupos es usando la funci\u00f3n <code>LSD.test()</code> del paquete agricolae. La opci\u00f3n <code>console=TRUE</code> despliega la informaci\u00f3n en la consola.</p> <pre><code>library(agricolae)\nmedias=LSD.test(modelo,\"test.preparation.course\",console=TRUE)\n</code></pre> <p></p>"},{"location":"r/avanzado_r/#prediccion-de-un-modelo-anova","title":"Predicci\u00f3n de un modelo ANOVA","text":"<p>R contiene funciones para realizar una predicci\u00f3n usando un nuevo conjunto de datos. El siguiente ejemplo muestra una predicci\u00f3n de la media para ambos grupos.</p> <pre><code>nuevos = data.frame(\"test.preparation.course\"=c(\"none\",\"completed\"))\npredict(modelo,newdata=nuevos,interval=\"confidence\")\n</code></pre> <p>En el ejemplo anterior se crea un nuevo dataframe llamado \u201cnuevos\u201d con los valores para los grupos que se desean estimar las medias. La funci\u00f3n <code>predict()</code> realizar\u00e1 la estimaci\u00f3n de valores puntuales como de los intervalos de confianza. La opci\u00f3n <code>newdata=</code> nos permite elegir los valores para los cuales se desea hacer la inferencia y la opci\u00f3n <code>interval=\"confidence\"</code> especifica el tippo de predicci\u00f3n.</p> <p></p> <p>Note que los valores coinciden con los obtenidos por la funci\u00f3n <code>LSD.test()</code>.</p> <p>Si ahora se quiere realizar una predicci\u00f3n para una observaci\u00f3n en particular, se puede especificar la opci\u00f3n <code>interval=\"prediction\"</code>.</p> <pre><code>nuevos = data.frame(\"test.preparation.course\"=c(\"none\",\"completed\"))\npredict(modelo,newdata=nuevos,interval=\"prediction\")\n</code></pre> <p></p> <p>Los intervalos de confianza para los valores individuales son muy grandes, por lo que no ser\u00edan consideradas buenas debido a que inclusive se translapan.</p>"},{"location":"r/basico_r/","title":"Introducci\u00f3n","text":"<p>En esta secci\u00f3n se aprender\u00e1 la forma de leer y manejar datos en R, ya sea usando las funciones o usando filtros para obtener la informaci\u00f3n deseada.</p>"},{"location":"r/basico_r/#lectura-de-datos","title":"Lectura de datos","text":"<p>R tiene objetos dedicados al manejo de datos, por ejemplo el objeto <code>data.frame</code>, aunque tambien pueden usarse otros paquetes para el mismo fin.</p> <p>En esta secci\u00f3n se mostrar\u00e1 la forma de crear datasets y leer archivos externos en R.</p>"},{"location":"r/basico_r/#lectura-de-datos-externos-en-r","title":"Lectura de datos externos en R","text":"<p>R tiene muchos paquetes que permiten leer una gran cantidad de tipos de archivos externos. El tipo de archivos m\u00e1s com\u00fan es el archivo delimitado por comas o CSV.</p> <p>El siguiente c\u00f3digo muestra como leer un archivo externo.</p> <pre><code>census &lt;- read.csv(\"C:/Users/Usuario/census.csv\")\n</code></pre> <p>El resultado se muestra a continuaci\u00f3n.</p> <p></p> <p>Asistente de importaci\u00f3n</p> <p>RStudio cuenta un asistente de importaci\u00f3n que nos permite visualizar los datos que se van a importar o seleccionar el tipo de dato.</p>"},{"location":"r/basico_r/#leer-archivos-de-excel","title":"Leer archivos de excel","text":"<p>Para leer archivos es formato de Excel, se puede hacer uso de la librer\u00eda <code>readxl</code> y la funci\u00f3n <code>read_excel</code>.</p> <p>El siguiente c\u00f3digo muestra su uso:</p> <pre><code>library(readxl)\ncensus &lt;- read_excel(\"census.xlsx\")\n</code></pre> <p>Para m\u00e1s informaci\u00f3n visite readxl.</p>"},{"location":"r/basico_r/#importar-datos-otros-softwares","title":"Importar datos otros softwares","text":"<p>El paquete haven permite leer y escribir bases de diversos archivos.</p> <p>El siguiente c\u00f3digo muestra como importar un archivo de SAS \u00ae software.</p> <pre><code>library(haven)\ncustomer &lt;- read_sas(\"customer.sas7bdat\", NULL)\n</code></pre> <p>Para m\u00e1s informaci\u00f3n visite haven.</p>"},{"location":"r/basico_r/#lectura-de-datos-desde-la-web","title":"Lectura de datos desde la web","text":"<p>Para leer datos de internet, se puede usar la funci\u00f3n <code>read.csv()</code> y pasarle la direcci\u00f3n web donde se encuentra el archivo.</p> <p>El siguiente ejemplo muestra c\u00f3mo descargar datos de covid desde una direcci\u00f3n web.</p> <pre><code>covid = read.csv(\"https://covid.ourworldindata.org/data/owid-covid-data.csv\")\n</code></pre>"},{"location":"r/basico_r/#manipulacion-de-datos","title":"Manipulaci\u00f3n de datos","text":"<p>En esta secci\u00f3n se abordar\u00e1 el tema de manejo y manipulaci\u00f3n de bases en R.</p> <p>Para ello es necesario conocer un poco acerca de la base con la que se estar\u00e1 trabajando.</p> <p>Posteriormente se conocer\u00e1n las distintas formas de filtrar datos y realizar otro tipo de operaciones.</p>"},{"location":"r/basico_r/#exploracion-de-datos","title":"Exploraci\u00f3n de datos","text":"<p>Una forma de saber el tipo de datos que se ha importado es mediante el comando <code>class()</code>, este comando nos devolver\u00e1 el nombre de la estructura correspondiente en R.</p> <p>Para conocer la dimensi\u00f3n del objeto, se puede usar el comando <code>dim()</code>.</p> <p>Dimensiones</p> <p>Otra forma de saber las dimensiones de una base es mediante los comandos <code>nrow()</code> y <code>ncol()</code>.</p> <p>Si se desea conocer un resumen con estad\u00edsticas descriptivas, se puede usar el comando <code>summary</code>.</p> <p>Los siguientes c\u00f3digos ilustran los comandos previos:</p> <pre><code>class(census)\ndim(census)\nsummary(census)\n</code></pre> <p>Para conocer el nombre de las variables de un dataset, se puede usar el comando <code>names()</code>, por ejemplo</p> <pre><code>names(census)\n</code></pre> <p>Es posible referirse a los nombres de las variables usando el comando <code>attach</code>, es decir</p> <pre><code>attach(census)\n</code></pre> <p>Cuidado con los nombres iguales</p> <p>Si dos o m\u00e1s variables tienen el mismo nombre, se usar\u00e1 la variable de la nueva base.</p> <p>Otra forma de visualizar los datos es mediante el uso de las funciones <code>head()</code> y <code>tail()</code>. Estas nos permiten ver el contenido de un dataset sin saturar la ventana de resultados.</p> <p>Las funciones solo requieren que se le pase el nombre del dataframe y opcionalmente el n\u00famero de registros a visualizar.</p>"},{"location":"r/basico_r/#filtrado-de-datos","title":"Filtrado de datos","text":"<p>Para realizar un filtrado de datos en R, se pueden usar los vectores l\u00f3gicos, de esta forma, aquellas observaciones que cumplan con la condici\u00f3n, ser\u00e1n las observaciones elegidas.</p> <p>Por ejemplo, el siguiente c\u00f3digo muestra c\u00f3mo elegir a los alumnos que pertenecen al grupo A.</p> <p>datos:</p> nombre grupo puntaje ANGELICA A 10 ANGEL B 9 ANGELES C 8 BRENDA A 8 BRUNO D 9 BEN B 7 LILIANA A 10 CARLOS B 8 LUIS C 9 <pre><code>filtro = datos$grupo==\"A\"\ngrupo_A = datos[filtro,]\n</code></pre> <p>Esto tambi\u00e9n se puede hacer en una sola operaci\u00f3n, pas\u00e1ndole directamente la expresi\u00f3n.</p> <pre><code>grupo_A = datos[datos$grupo==\"A\",]\n</code></pre> <p>El siguiente cuadro muestra los operadores l\u00f3gicos que existen en R</p> Operador Nombre Ejemplo <code>==</code> Igual a <code>x == \"A\"</code> <code>&lt;</code> Menor que <code>x &lt; 5</code> <code>&gt;</code> Mayor que <code>x &gt; 5</code> <code>&lt;=</code> Menor o igual a <code>x &lt;= 5</code> <code>&gt;=</code> Mayor o igual a <code>x &gt;= 5</code> <code>!=</code> No es igual a <code>x != \"A\"</code> <p>Adicionalmente existe el operador <code>%in%</code> que nos ayuda a seleccionar varios valores que est\u00e9n en un vector, por ejemplo para seleccionar alumnos que pertenezcan al grupo \u201cA\u201d o \u201cC\u201d, se puede usar el siguiente c\u00f3digo:</p> <pre><code>filtro = datos$grupo %in% c(\"A\",\"C\")\ndatos[filtro,]\n</code></pre> <p>Para m\u00e1s informaci\u00f3n consulte la ayuda con el comando <code>?match</code>.</p>"},{"location":"r/basico_r/#recodificacion-de-variables","title":"Recodificaci\u00f3n de variables","text":"<p>Si se desea recodificar variables, se puede usar la funci\u00f3n <code>ifelse()</code> para crear una nueva variable en un dataframe.</p> <p>Por ejemplo, sup\u00f3ngase que la base datos contiene la variable sexo con el valor 1 para mujeres y el 2 para hombre, se puede crear la variable genero que tenga el valor \u201cF\u201d para mujeres y \u201cM\u201d para hombres, como se muestra en el siguiente c\u00f3digo.</p> <pre><code>datos$genero= ifelse(datos$sexo==1,\"F\",\"M\")\n</code></pre> <p>Si se tienen m\u00e1s de 2 categor\u00edas, se pueden anexar dentro de la funci\u00f3n otra funci\u00f3n <code>ifelse()</code> en el tercer argumento, por ejemplo:</p> <pre><code>datos$Calificacion = ifelse(datos$puntaje&gt;=9,\"Excelente\",\nifelse(datos$puntaje==8,\"Bueno\",\"Suficiente\"))\n</code></pre> <p>Para m\u00e1s informaci\u00f3n, vea la ayuda con el comando <code>?ifelse</code>.</p>"},{"location":"r/basico_r/#transformacion-de-bases","title":"Transformaci\u00f3n de bases","text":"<p>En ocasiones es necesario ordenar los datos que est\u00e1n agrupados en formato largo o en formato amplio. Estos datos se usan usualmente cuando se tiene informaci\u00f3n de individuos a lo largo del tiempo.</p> <p>Considere la siguiente tabla que est\u00e1 en formato largo.</p> nombre materia puntaje ANGELICA Espa\u00f1ol 10 ANGELICA Matem\u00e1ticas 9 ANGELICA Biolog\u00eda 8 BRENDA Espa\u00f1ol 8 BRENDA Matem\u00e1ticas 9 BRENDA Biolog\u00eda 7 LILIANA Espa\u00f1ol 10 LILIANA Matem\u00e1ticas 8 LILIANA Biolog\u00eda 9 <p>Si se desea transformar esta base en formato amplio, se puede usar el siguiente c\u00f3digo.</p> <pre><code>datost = reshape(datos,direction = \"wide\",idvar = \"nombre\",timevar = \"materia\")\n</code></pre> <p>La funci\u00f3n <code>reshape()</code> transforma el dataset datos a un formato amplio, esto se logra con la instrucci\u00f3n <code>direction = \"wide\"</code>. El individuo considerado se especifica con <code>idvar = \"nombre\"</code>. Finalmente la variable que ser\u00e1 convertida a columna ser\u00e1 <code>timevar = \"materia\"</code>. Note que los valores de puntaje ser\u00e1n los que ser\u00e1n movidos en el orden correspondiente.</p> <p>El resultado se muestra a continuaci\u00f3n.</p> <p></p> <p>Para conocer m\u00e1s sobre la funci\u00f3n escriba el comando <code>?reshape</code>.</p>"},{"location":"r/basico_r/#uniones-de-bases","title":"Uniones de bases","text":"<p>Cuando se tiene informaci\u00f3n en 2 o m\u00e1s bases, es posible unirlas mediante una variable llave.</p> <p>datos:</p> nombre sex grupo puntaje ANGELICA 1 A 10 BRENDA 1 A 9 LILIANA 1 B 8 MARCO 2 B 8 FABIAN 2 C 9 MAURICIO 2 C 7 <p>info:</p> nombre apellido edad ANGELICA \u00c1lvarez 20 BRENDA Aguilar 19 LILIANA S\u00e1nchez 18 MARCO Z\u00fa\u00f1iga 18 FABIAN Castillo 29 MAURICIO P\u00e9rez 27 <p>Para ejecutar esto en R, se puede usar la funci\u00f3n <code>merge()</code>. Esta funci\u00f3n requiere como argumentos, las base a unir as\u00ed como especificar el nombre de la llave. El siguiente ejemplo muestra c\u00f3mo unir las 2 tablas usando la variable nombre como llave.</p> <pre><code>datos2 = merge(datos,info,by = \"nombre\")\n</code></pre> <p>El resultado se muestra a continuaci\u00f3n.</p> <p></p> <p>Para m\u00e1s informaci\u00f3n use el comando <code>?merge</code> para conocer c\u00f3mo realizar otro tipo de uniones.</p>"},{"location":"r/basico_r/#ordenando-una-base","title":"Ordenando una base","text":"<p>La forma de ordenar una base en R, es un poco distinta a otros lenguajes de programaci\u00f3n, debido a que R no tiene una funci\u00f3n para ordenar un dataframe, sin embargo se puede lograr con la instrucci\u00f3n <code>order()</code> y posteriormente pasarle el resultado como un \u00edndice de renglones, por lo que la base estar\u00e1 ordenada.</p> <p>El siguiente ejemplo muestra c\u00f3mo ordenar la base de alumnos por el nombre.</p> <pre><code>by_nombre = order(datos$nombre)\ndatos_ord = datos[by_nombre,]\n</code></pre> <p>Primero se construye un vector que contiene los \u00edndices de las observaciones ya ordenadas. En la siguiente l\u00ednea se crea una copia del dataframe con dichos \u00edndices, por lo que el nuevo dataframe ya estar\u00e1 ordenado.</p> <p></p> <p>Para saber m\u00e1s acerca del ordenamiento de variables, consulte la ayuda escribiendo <code>?order</code> en la consola.</p>"},{"location":"r/intro_r/","title":"Introducci\u00f3n a R","text":"<p>Este es un tutorial b\u00e1sico sobre el programa. Visite la p\u00e1gina de R para m\u00e1s informaci\u00f3n.</p> <p>R es un lenguaje de programaci\u00f3n para c\u00f3mputo estad\u00edstico. Tiene una gran cantidad de funciones que permiten ejecutar an\u00e1lisis estad\u00edsticos tradicionales, tales como regresi\u00f3n y modelos lineales, pruebas estad\u00edsticas, clasificaci\u00f3n, an\u00e1lisis de series de tiempo, entre otros.</p> <p>Una ventaja de R es que es altamente extensible a traves de paquetes que cualquier persona puede crear y aportar.</p> <p>R es un software libre y es ampliamente usado en el \u00e1mbito acad\u00e9mico e incluso en algunas empresas.</p>"},{"location":"r/intro_r/#objetos-de-r","title":"Objetos de R","text":"<p>R es un lenguaje de programaci\u00f3n que usa objetos. Estos objetos tienen identidad, atributos y propiedades.</p> <p>Tambien puede considerarse como un int\u00e9rprete, es decir que espera acciones del usuario. Cuando el usuario ejecuta comandos, R los ejecuta l\u00ednea por l\u00ednea.</p> <p>Los comandos o expresiones m\u00e1s comunes son las asignaciones, es decir se asigna un valor a una variables. Cada comando suele escribirse en una sola l\u00ednea o terminar con punto y coma.</p> <p>R es un lenguaje sensible a may\u00fasculas y min\u00fasculas, esto es un factor a tomar en cuenta para evitar errores.</p> <p>Interaz gr\u00e1fica</p> <p>R tiene una interfaz gr\u00e1fica para crear c\u00f3digo de forma m\u00e1s amigable. Visite R Studio para m\u00e1s informaci\u00f3n.</p> <p>Cuando se inicia una sesi\u00f3n, se asigna un espacio de trabajo (workspace) en memoria y un directorio de trabajo (working directory).</p> <p>El espacio de trabajo sirve para almacenar objetos creados, tales como vectores, funciones entre otros.</p> <p>Para conocer el directorio de trabajo puede escribir en consola:</p> <pre><code>getwd()\n</code></pre> <p>Para cambiar use la funci\u00f3n <code>setwd(\"dir\")</code>, donde dir es el nuevo directorio.</p> <p>Barras verticales</p> <p>R no reconoce una sola barra <code>/</code> en los directorios de windows. Use doble barra  <code>//</code> o una barra invertida <code>\\</code>.</p>"},{"location":"r/intro_r/#vectores","title":"Vectores","text":"<p>Un vector es un objeto con uno o m\u00e1s elementos. Puede contener elementos num\u00e9ricos o caracteres.</p> <p>Se pueden crear vectores con la funci\u00f3n <code>c()</code>, por ejemplo:</p> <pre><code>x = c(2,1,5)\nz = c(\"ABC\",\"AEI\",\"XYZ\")\n</code></pre> <p>Los vectores permiten algunas operaciones, las m\u00e1s comunes son la suma <code>+</code>, resta <code>-</code>,  multiplicaci\u00f3n <code>*</code>, divisi\u00f3n. <code>/</code> y potencia <code>^</code>, as\u00ed como valores booleanos.</p> <pre><code>y = m*x+n\nxy = x &gt; y\n</code></pre> <p>Operaci\u00f3n entre vectores</p> <p>Las operaciones entre vectores son elemento a elemento. Si los elementos no tuvieran el mismo tama\u00f1o, el de menor tama\u00f1o se recicla (repite sus elementos) hasta tener el mismo n\u00famero de elementos.</p> <p>Por ejemplo, la operaci\u00f3n <code>nx = n + x</code> dar\u00e1 como resultado:</p> <p>[1]  7  6 10</p> <p>Los vectores tienen una dimensi\u00f3n y para conocerla se puede usar la funci\u00f3n <code>length()</code>. Por ejemplo <code>length(x)</code> nos dar\u00eda como resultado:</p> <p>[1] 3</p> <p>ya que sus elementos son:</p> <p>[1] 2 1 5</p> <p>Tambi\u00e9n se puede acceder a sus elementos mediante el operador <code>[]</code>, por ejemplo para conocer el segundo elemento de x se puede usar <code>x[2]</code> y el resultado es:</p> <p>[1] 1</p> <p>Para acceder a m\u00e1s de un elemento, es posible apuntar a la posici\u00f3n del elemento, por ejemplo <code>x[c(1,2)]</code> o <code>x[1:2]</code>.</p> <p>En ambos, el resultado ser\u00eda:</p> <p>[1] 2 1</p> <p>El operador <code>:</code> sirve para indicar una secuencia consecutiva. Por ejemplo <code>i = 1:10</code> crear\u00eda un vector de 10 elementos del 1 al 10, esto es \u00fatil para crear sucesiones o \u00edndices.</p> <p>Para crear secuencias m\u00e1s complejas se puede usar la funci\u00f3n <code>seq()</code>.</p> <p>Por ejemplo con <code>seq(from = 1,to = 10,by = 1)</code> se crea una secuencia del 1 al 10 incrementando el valor en 1 y se obtiene el mismo resultado que con <code>1:10</code>.</p> <p>Otra forma de crear un vector es mediante la funci\u00f3n <code>rep()</code>. Por ejemplo la siguiente expresion:</p> <pre><code>u = rep(x = x,each = 2,times = 3)\n</code></pre> <p>Crea un el vector u que contiene cada elemento del vector x 2 veces y esta secuencia se recrea 3 veces.</p> <p>[1] 2 2 1 1 5 5 2 2 1 1 5 5 2 2 1 1 5 5</p>"},{"location":"r/intro_r/#nombres-de-vector","title":"Nombres de vector","text":"<p>Una propiedad de los vectores es que sus elementos pueden tener un nombre.</p> <p>Se puede usar la funci\u00f3n <code>names()</code> para consultar o asignar nombres a un vector. El siguiente c\u00f3digo asignar\u00e1 nombres a los elementos del vector <code>a1</code>.</p> <pre><code>nombres &lt;- c(\"uno\",\"dos\",\"tres\")\nnames(a1)&lt;-nombres\n</code></pre> <p>Los nombres tambi\u00e9n pueden ser usados para acceder a los elementos de un vector, por ejemplo para acceder al segundo elemento, se puede usar su nombre correspondiente, es decir <code>a1[\"dos\"]</code>.</p>"},{"location":"r/intro_r/#escalares","title":"Escalares","text":"<p>Un escalar es un vector con un solo elemento.</p> <p>Se pueden crear escalares con el s\u00edmbolo de asignaci\u00f3n <code>&lt;-</code> o <code>=</code>.</p> <pre><code>n &lt;- 5\nm = n + 1\na = \"Hola mundo!\"\n</code></pre> <p>Los escalares son \u00fatiles para guardar alg\u00fan valor. Pueden ser considerados como una variable.</p> <p>Tambi\u00e9n puede haber escalares l\u00f3gicos o booleanos, por ejemplo si se construye <code>nm = n&gt;m</code> su valor ser\u00eda:</p> <p>[1] FALSE</p>"},{"location":"r/intro_r/#matrices","title":"Matrices","text":"<p>Una matriz es una arreglo de dos dimensiones (renglones y columnas) que contiene valores, especialmente num\u00e9ricos. Tiene n renglones y p columnas, es decir tiene np elementos.</p> <p>Para crea una matriz, se usa la funci\u00f3n <code>matrix()</code> cuya sintaxis es la siguiente:</p> <p>matrix(data = objeto, nrow = valor, ncol = valor &lt;, byrow = FALSE&gt;)</p> <p>donde data representa un vector o una expresi\u00f3n, nrow el n\u00famero de renglones que se desean, ncol el n\u00famero de columnas y el argumento opcional byrow indica si se deber\u00edan llenar por columnas.</p> <p>Si se ejecuta el siguiente comando:</p> <pre><code>A1 = matrix(data = u)\n</code></pre> <p>el resultado ser\u00eda una matriz de 18 renglones y una columna.</p> <p>Si se desea una matriz de otra dimensi\u00f3n se puede usar este c\u00f3digo.</p> <pre><code>A1 = matrix(data = u,nrow = 6,byrow = TRUE)\n</code></pre> <p>Tambi\u00e9n pueden crearse matrices a partir de vectores, mediante las funciones <code>cbind()</code> y <code>rbind()</code>. La primera permite concatenar columas y la segunda concatena renglones, por ejemplo</p> <pre><code>a1 = c(1,2,3)\na2 = c(4,5,6)\na3 = c(7,8)\nA = rbind(cbind(a1,a2),a3)\n</code></pre> <p>El resultado es el siguiente:</p> <p></p>"},{"location":"r/intro_r/#dimensiones","title":"Dimensiones","text":"<p>Para conocer el tama\u00f1o o dimensiones de una matriz se puede usar la funci\u00f3n <code>dim()</code></p> <pre><code>dim(A)\n</code></pre> <p>Note que se desplegar\u00e1 en la consola el resultado mostrando la dimensi\u00f3n.</p> <p>2 4</p> <p>Para conocer el n\u00famero de renglones y columnas por separado se pueden usar las funciones <code>nrow()</code> y <code>ncol()</code>.</p> <pre><code>nrow(A)\nncol(A)\n</code></pre> <p>Esto es importante ya que como se ver\u00e1 m\u00e1s adelante, nos permitir\u00e1 hacer operaciones entre matrices.</p>"},{"location":"r/intro_r/#elementos-de-una-matriz","title":"Elementos de una matriz","text":"<p>Para acceder a los elementos de una matriz, podemos referirnos por medio de su posici\u00f3n <code>[row,column]</code>, por ejemplo para acceder al elemento ubicado en el rengl\u00f3n 1 de la columna 1 se usa:</p> <pre><code>A[1,1]\n</code></pre> <p>Tambi\u00e9n se puede usar el n\u00famero de elemento, empezando de izquierda a derecha por columna, en este caso <code>A[1]</code>.</p> <p>Para obtener todo el rengl\u00f3n o toda la columna, \u00fanicamente se escribe el elemento que se quiere obtener, pero se debe dejar la coma, por ejemplo</p> <pre><code>A[1,]\nA[,2]\n</code></pre> <p>Traer\u00edan el primer rengl\u00f3n y la segunda columna respectivamente.</p> <p>Al igual que en el caso de los vectores para trae un rango espec\u00edfico se puede usar el operador <code>:</code> o un vector indicando los elemento deseados.</p> <pre><code>A[1:2,2]\nA[c(1,3),1]\n</code></pre>"},{"location":"r/intro_r/#nombres-de-una-matriz","title":"Nombres de una matriz","text":"<p>De la misma forma que los vectores, las matrices pueden tener nombres en sus elementos.</p> <p>Adem\u00e1s se puede consultar y asignar un nombre a sus columnas y renglones usando las funciones <code>colnames()</code> y <code>rownames()</code>.</p> <p>De la misma forma, se pueden usar estos nombre para acceder a sus elementos.</p>"},{"location":"r/intro_r/#operaciones","title":"Operaciones","text":"<p>Al igual que los vectores, se pueden hacer operaciones entre matrices.</p> <p>El siguiente cuadro resume las operaciones disponibles</p> Nombre Operador Ejemplo Nota Suma <code>+</code> <code>A + B</code> Las matrices deben tener la misma dimensi\u00f3n Resta <code>-</code> <code>A - B</code> Las matrices deben tener la misma dimensi\u00f3n Multiplicaci\u00f3n (Elemento a elemento) <code>*</code> <code>A * B</code> Las matrices deben tener la misma dimensi\u00f3n Divisi\u00f3n (Elemento a elemento) <code>/</code> <code>A / B</code> Las matrices deben tener la misma dimensi\u00f3n Potencia <code>^</code> <code>A ^ B</code> Las matrices deben tener la misma dimensi\u00f3n <p>Adicional a esto, se puede hacer la multiplicaci\u00f3n de matrices usando el operador <code>%*%</code>.</p> <p>Para poder realizar esta operaci\u00f3n, las matrices deben ser comformables, es decir, el n\u00famero de columnas de A, debe ser iguales al n\u00famero de renglones de B y el resultado ser\u00e1 una matriz de dimensiones iguales al n\u00famero de renglones de A y el mismo n\u00famero de columnas de B.</p>"},{"location":"r/intro_r/#data-frames","title":"Data Frames","text":"<p>Los data fames son objetos usados para almacenar datos. Para conocer todas sus propiedades, vea la ayuda de R usando el comando <code>help(\"data.frame\")</code>.</p> <p>Una manera f\u00e1cil de crear conjunto de datos es mediante la funci\u00f3n <code>data.frame()</code>, pas\u00e1ndole vectores como argumentos. Por ejemplo, el siguiente c\u00f3digo muestra c\u00f3mo construir un conjunto de datos.</p> <pre><code>datos = data.frame(\nnombre = c(\"ANGELICA\",\"BRENDA\",\"LILIANA\",\"MARCO\",\"FABIAN\",\"MAURICIO\"), grupo = c(\"A\",\"A\",\"B\",\"B\",\"C\",\"C\"),\npuntaje = c(10,9,8,8,9,7))\n</code></pre> <p>El resultado es el siguiente.</p> <p></p> <p>Un dataset comparte propiedades similares a las listas y vectores. Para acceder a sus valores, se puede usar los corchetes <code>[rengl\u00f3n,columna]</code> para seleccionar ya sea renglones, columnas o ambas.</p> <pre><code>datos[3,]\ndatos[,2]\ndatos[1:3,1]\n</code></pre> <p>Tambi\u00e9n es posible acceder a las variables mediante <code>$</code>, seguido del nombre de la variable. Note que el resultado es un vector.</p> <pre><code>datos$nombre\ndatos$nombre[1:3]\n</code></pre> <p>Se pueden agregar nuevas variables usando el operador <code>$</code> seguido del nuevo nombre, por ejemplo</p> <pre><code>datos$sexo &lt;- c(\"F\",\"F\",\"F\",\"M\",\"M\",\"M\")\n</code></pre> <p></p> <p>Es posible pasar de una matriz a un datafreme mediante la funci\u00f3n <code>as.data.frame()</code>, pas\u00e1ndole como argumento una matriz.</p> <pre><code>A = matrix(1:9,3,3)\nAdato = as.data.frame(A)\n</code></pre>"},{"location":"r/intro_r/#otros-elementos","title":"Otros elementos","text":"<p> Imagen de Innova Labs en Pixabay</p> <p>Debido a que R es un lenguaje muy amplio, posee diversas utilidades que permiten ampliar su uso.</p> <p>En esta secci\u00f3n se presentan otros elementos importantes del lenguaje R.</p>"},{"location":"r/intro_r/#ayuda","title":"Ayuda","text":"<p>R dispone de un comando especial <code>?</code> para obtener ayuda desde la consola. Por ejemplo para buscar ayuda sobre matrices, se puede escribir desde la consola el comando</p> <pre><code>?matrix\n</code></pre> <p>o bien con</p> <pre><code>help(topic = \"matrix\")\n</code></pre> <p>y con eso se abrir\u00e1 un documento de ayuda.</p> <p>Para realizar una b\u00fasqueda m\u00e1s general simplemente se deben escribir doble signo de interrogaci\u00f3n.</p> <pre><code>??matrix\n</code></pre> <p>El sistema de ayuda nos mostrar\u00e1 los t\u00e9rminos relacionados en todos los paquetes que encuentre.</p> <p>Tambi\u00e9n se puede obtener ayuda acerca de una paquete en espec\u00edfico, por ejemplo</p> <pre><code>help(package = \"ggplot2\")\n</code></pre> <p>y con ello se obtendr\u00e1 la documentaci\u00f3n del paquete en espec\u00edfico.</p>"},{"location":"r/intro_r/#funciones","title":"Funciones","text":"<p>En R es posible definir funciones por el usuario. Estas funciones quedan almacenadas en el espacio de trabajo y est\u00e1r\u00e1n disponibles durante toda la sesi\u00f3n una vez definidas.</p> <p>La forma de definir una funci\u00f3n es la siguiente</p> <p>function( arglist ) expr</p> <p>donde arglist es una lista de argumentos de nombres o argumentos, puede ser vac\u00edo y expr es una expresi\u00f3n.</p> <p>El siguiente ejemplo muestra c\u00f3mo definir una funci\u00f3n simple. Al ingresar un n\u00famero, la funci\u00f3n nos devolver\u00e1 un mensaje con su signo.</p> <pre><code>mi_fun = function(x) ifelse(x &lt; 0,\"Negativo\",ifelse(x&gt;0,\"Positivo\",\"Cero\"))\n# uso de la funci\u00f3n\nmi_fun(0)\nmi_fun(2)\nmi_fun(-3)\n</code></pre> <p>El resultado es el siguiente.</p> <p></p> <p>Para m\u00e1s ayuda vea la documentaci\u00f3n con el comando <code>help(\"function\")</code>.</p>"},{"location":"r/intro_r/#paquetes","title":"Paquetes","text":"<p>R dispone de miles de paquetes que pueden descargarse libremente para enriquecerse son nuevas caracter\u00edsticas. Estos paquetes est\u00e1n almacenados en el CRAN y pueden instalarse f\u00e1cilmente desde la consola con el siguiente comando</p> <pre><code>install.packages()\n</code></pre> <p>Por ejemplo, si se desea instalar el paquete ggplot2 se puede usar el siguiente comando.</p> <pre><code>install.packages(\"ggplot2\")\n</code></pre> <p>R almacenar\u00e1 los archivos en la carpeta personal llamada biblioteca del usuario o User library. Frecuentemente al instalar un paquete R descarga otros paquetes relacionados llamados dependencias que sirven para que las funciones del paquete trabajen adecuadamente.</p> <p>Sin embargo, a\u00fan no podr\u00e1 usarse debido a que es necesario cargarla mediante el comando <code>library()</code>, por ejemplo, para cargar el paquete ggplot2 se debe ejecutar</p> <pre><code>library(ggplot2)\n</code></pre> <p>Con esto, todas las funciones y objetos del paquete estar\u00e1n definidos y listos para usarse.</p>"},{"location":"r/paquetes/","title":"Creaci\u00f3n de Paquetes en R","text":""},{"location":"r/paquetes/#introduccion","title":"Introducci\u00f3n","text":"<p>Hasta el momento se ha considerado \u00fanicamente instalar y cargar paquetes que est\u00e1n disponibles en el CRAN, sin embargo, los usuarios pueden crear su propios paquetes e incluso subirlos a diversos repositorios si as\u00ed lo desean.</p> <p>Mantenimiento de los paquetes</p> <p>La creaci\u00f3n, mantenimiento y correcci\u00f3n de errores es responsabilidad del creador del paquete, por lo que se debe ser muy cuidadoso del contenido de paquetes de terceros.</p> <p>En esta secci\u00f3n se abordar\u00e1 el tema de la instalaci\u00f3n de paquetes de f\u00f3rma f\u00e1cil.</p>"},{"location":"r/paquetes/#requisitos-preeliminares","title":"Requisitos preeliminares","text":"<p>En esta subsecci\u00f3n, se describir\u00e1 de forma general la forma de crear paquetes de R. Para detalles consulte el documento Writting R Extensions.</p> <p>En Windows, se debe descargar el software adicional Rtools con el fin poder compilar los paquetes. A continuaci\u00f3n se proporcionan instrucciones para la instalaci\u00f3n.</p> <ol> <li>Descargar el instalador de Rtools, procurando tener la versi\u00f3n m\u00e1s actualizada (versi\u00f3n 4.2).</li> <li>Seguir las instrucciones del asistente de instalaci\u00f3n.</li> </ol> <p>Las siguientes im\u00e1genes ilustran los pasos para la instalaci\u00f3n de Rtools (se recomienda aceptar las opciones de configuraci\u00f3n tal y como est\u00e1n).</p> <p></p> <p></p> <p></p> <p></p> <p></p> <p>Es necesario tener instalado Latex para la construcci\u00f3n de la documentaci\u00f3n.</p>"},{"location":"r/paquetes/#estructura-del-paquete","title":"Estructura del paquete","text":"<p>Se recomienda usar una carpeta la cual ser\u00e1 la base del paquete.</p> <p>Una forma sencilla de crear la estructura del paquete es con la funci\u00f3n <code>package.skeleton</code>. La estructura b\u00e1sica de un paquete se muestra a continuaci\u00f3n.</p> <p></p> <p>Los archivos <code>DESCRIPTION</code> y <code>NAMESPACE</code> son los metadatos del paquete. El primero debe ser llenado indicando datos que identifique al paquete, tal como el nombre del paquete, descripci\u00f3n, autor, entre otras cosas, mientra que el segundo contendr\u00e1 las funciones que ser\u00e1n visibles al usuario, as\u00ed como las funciones utilizadas de otros paquetes o si se debe registrar un archivo compilado.</p> <p>La funciones o m\u00e9todos de R, deben de ir en espec\u00edficamente en la subcarpeta <code>R</code>, mientra que la carpeta <code>man</code> deber\u00e1 contener \u00fanicamente la documentaci\u00f3n en formato <code>Rd</code> y la carpeta <code>data</code> deber\u00e1 contener archivos <code>RData</code> o <code>rda</code>.</p> <p>Para ver un ejemplo m\u00e1s concreto, se puede en github el paquete wnr.</p>"},{"location":"r/paquetes/#construccion-del-paquete","title":"Construcci\u00f3n del paquete","text":"<p>Una vez que se tengan los archivos necesarios para el paquete, se procer\u00e1 a la construcci\u00f3n del mismo ubic\u00e1ndose en una carpeta un nivel anterior usando la siguiente sintaxis.</p> <pre><code>R CMD build pkg\n</code></pre> <p>donde <code>pkg</code> es el directorio que contiene la estructura del paquete.</p> <p>Comando no reconocido en Windows</p> <p>En Windows es posible que no se reconozca el comando <code>R CMD</code>.</p> <p>Para solucionar ese problema, en el bloc de notas (o cualquier otro editor de texto) se puede crear el archivo <code>compilar.bat</code> que contenga la ruta completa de R y las instrucciones, por ejemplo:</p> <pre><code>\"C:\\Program Files\\R\\R-4.2.2\\bin\\x64\\R\" CMD build pkg\n</code></pre> <p>Por lo que simplemente se debe correr el archivo <code>compilar.bat</code> desde la linea de comandos (cmd o powershell)</p> CMDPowerShell <pre><code>compilar.bat\n</code></pre> <pre><code>.\\compilar.bat\n</code></pre> <p>El resultado de la compilaci\u00f3n ser\u00e1 un archivo con extensi\u00f3n <code>.tar.gz</code> que tendr\u00e1 toda la informaci\u00f3n del paquete comprimida respetando los directorios originales.</p> <p>En la siguiente imagen se muestra el mensaje resultante de la compilaci\u00f3n del paquete <code>wnr</code>.</p> <p></p>"},{"location":"r/paquetes/#revision-del-paquete","title":"Revisi\u00f3n del paquete","text":"<p>Una vez construido el paquete, se debe revisar con el fin de que se cumplan todos los requerimientos del mismo, tales como documentaci\u00f3n, validaci\u00f3n de funciones, carga de dependencias, entre otros.</p> <p>Para revisar el paquete, se debe ejecutar el comando:</p> <pre><code>R CMD check pkg.tar.gz\n</code></pre> <p>Se realizar\u00e1 una revisi\u00f3n exahustiva de todos los componentes del paquete y si todo est\u00e1 correcto, el paquete estar\u00e1 listo para instalar o incluso subirlo directamente a CRAN.</p> <p>La siguiente imagen muestra un ejemplo en donde se obtuvo una revisi\u00f3n exitosa.</p> <p></p>"},{"location":"r/paquetes/#compilacion-e-instalacion","title":"Compilaci\u00f3n e instalaci\u00f3n","text":"<p>Para instalar el paquete, se debe ejecutar el siguiente comando.</p> <pre><code>R CMD install pkg.tar.gz\n</code></pre> <p>con esto se creara un archivo binario \u201cinstalable\u201d para el sistema operativo correspondiente.</p> <p>Otra forma de distribuir el paquete sin necesidad de enviarlo al CRAN, es crear un repositorio en github o alguna otra plataforma.</p> <p>La siguiente imagen muestra como ejemplo el paquete <code>wnr</code></p> <p></p> <p>Posteriormente, se puede instalar usando el paquete <code>devtools</code>.</p> <p>El siguiente ejemplo muestra c\u00f3mo instalar el paquete <code>wnr</code> desde github.</p> <pre><code>library(devtools)\ninstall_github(repo = \"FranciscoAriel/wnr\")\n</code></pre>"},{"location":"sas/avanzado_sas/","title":"Introducci\u00f3n","text":"<p>En esta secci\u00f3n se aprender\u00e1 a usar SAS para ajustar distintos modelos predictivos m\u00e1s comunes, tales como modelo de regresi\u00f3n lineal simple y m\u00faltiple, as\u00ed como el modelo ANOVA y regresi\u00f3n log\u00edstica.</p> <p>Para los modelos lineales, se puede usar el procedimiento GLM. Sin embargo, SAS tiene procedimientos especialmente dedicados a modelos ANOVA (PROC ANOVA) de regresi\u00f3n lineal (PROC REG) y regresi\u00f3n log\u00edstica (PROC LOGISTIC).</p>"},{"location":"sas/avanzado_sas/#graficos","title":"Gr\u00e1ficos","text":"<p>En SAS se pueden realizar gr\u00e1ficos modernos usando el procedimiento SGPLOT.</p>"},{"location":"sas/basico_sas/","title":"Lectura de datos","text":"<p>Los dataset son el insumo principal para analisis de datos en SAS, por ello iniciaremos con una r\u00e1pida exploraci\u00f3n.</p> <p>En esta secci\u00f3n se presentan temas para comenzar con la lectura y escritura de datos.</p> <p>Se explorar\u00e1n distintas formas de leer y escribir datos de distintas fuentes y formatos de archivo.</p> <p>La creaci\u00f3n de un dataset inicia con un bloque <code>DATA</code> y termina con un <code>RUN</code>. Sin embargo, aprenderemos el uso b\u00e1sico de un procedimiento para leer datos de fuentes externas.</p>"},{"location":"sas/basico_sas/#creando-datasets","title":"Creando datasets","text":"<p>En esta secci\u00f3n se mostrar\u00e1n las principales formas de crear datasets:</p> <ul> <li>Introducci\u00f3n de forma manual</li> <li>Leyendo un archivo de texto externo</li> <li>El uso de PROC IMPORT</li> </ul> <p>Se mostrar\u00e1n las ideas y algunos ejemplos.</p>"},{"location":"sas/basico_sas/#introduccion-de-valores-de-forma-manual","title":"Introducci\u00f3n de valores de forma manual","text":"<p>La forma m\u00e1s f\u00e1cil de crear un dataset, es con el uso de la sentencia <code>INPUT</code> y <code>DATALINES</code> con el fin de introducir valores manualmente. Estos datos fueron copiados y pegados directamente de una hoja de excel.</p> <p>El siguiente ejemplo muestra como introducir datos manualmente.</p> <pre><code>DATA EMPLEADOS(LABEL = \"Registro de empleados nuevos\");\n    ATTRIB\n        NOMBRE LENGTH = $16 LABEL = \"Nombre\"\n        APELLIDO LENGTH = $12 LABEL = \"Apellido\"\n        ID LABEL = \"ID empleado\"\n        GENERO LENGTH = $1. LABEL = \"G\u00e9nero\"\n        FNAC INFORMAT = DDMMYY10. FORMAT = DATE10. LABEL = \"Fecha de nacimiento\"\n    ;\n    INPUT NOMBRE -- FNAC;\n    DATALINES;\nEzio Vanegas 1 m 04/06/1942\nKatharina Res\u00e9ndez 2 f 12/08/1967\nTamara Monroy 3 f 02/01/1948\nDunstano Armend\u00e1riz 4 m 05/07/1985\nBaldo Ayala 5 m 04/10/1952\nAdri\u00e1n Rosales 6 m 8/28/1992\nHelvia Viera 7 f 12/16/1994\nAstor Cortez 8 m 12/04/1965\nGiusto Carvajal 9 m 5/27/1986\nBaal Alcal\u00e1 10 m 1/15/1961\n    ;\nRUN;\n</code></pre> <p>La sentencia <code>DATA</code> especifica el nombre del dataset y entre parentesis est\u00e1n las opciones del dataset, en este caso el dataset empleados tendr\u00e1 una etiqueta para identificarlo.</p> <p>Es recomendable especificar las propiedades de las variables a crear mediante la sentencia <code>ATTRIB</code> en donde se especifican sus propiedades.</p> <p>Declaraci\u00f3n de variables</p> <p>Otra forma de declarar variables es mediante las sentencias <code>LENGTH</code> y <code>FORMAT</code>. Consulte la documentaci\u00f3n para m\u00e1s informaci\u00f3n.</p> <p>N\u00f3tese que para el caso de las variables de tipo caracter se hace uso de la opci\u00f3n <code>LENGTH =</code> seguido del signo de pesos para indicar que es de tipo caracter y la longitud deseada. Para el caso de variables num\u00e9ricas, se debe especificar al menos un atributo, en este caso se recomienda especificar el atributo <code>LABEL =</code>. En el caso de la variable fnac los datos estan almacenados en formato de fecha (ddmmyyyy) por lo que se usa el informato <code>ddmmyy10.</code> para que lo reconozca como fehca de sas, pero se desea visualizar con el formato de fecha (ddmmmyyyy).</p> <p>La sentencia <code>INPUT</code> sirve para indicar el nombre de las variables del dataset. Se puede poner el s\u00edmbolo <code>$</code> para indicar que la variable es de tipo caracter. Sin embargo en este caso, como ya se han declarado las variables se puede usar una lista, es decir, solo poner el nombre de la primer variable declarada seguido de dos guiones <code>--</code> y el nombre de la \u00faltima.</p> <p>La sentencia <code>DATALINES</code> indica el inicio de los datos y finaliza con un punto y coma.</p> <p>Con la sentencia <code>RUN</code> se cierra el bloque de instrucciones y comienza a ejecutar el proceso.</p> <p>Si los datos estuvieran acomodados secuencialmente, es posible leerlos usando <code>@@</code> al final de la sentencia <code>input</code>, este doble signo arroba es \u00fatil cuando un registro tiene m\u00e1s de una observaci\u00f3n, por ejemplo si los datos estuvieran acomodados en esta forma</p> <pre><code>    INPUT NOMBRE -- FNAC @@;\n    DATALINES;\nEzio Vanegas 1 m 04/06/1942 Katharina Res\u00e9ndez 2 f 12/08/1967 Tamara Monroy 3 f 02/01/1948 Dunstano Armend\u00e1riz 4 m 05/07/1985 Baldo Ayala 5 m 04/10/1952\nAdri\u00e1n Rosales 6 m 8/28/1992 Helvia Viera 7 f 12/16/1994 Astor Cortez 8 m 12/04/1965 Giusto Carvajal 9 m 5/27/1986 Baal Alcal\u00e1 10 m 1/15/1961\n</code></pre> <p>la informaci\u00f3n podr\u00eda ser le\u00edda sin ning\u00fan problema.</p>"},{"location":"sas/basico_sas/#lectura-de-datos-desde-un-archivo-externo","title":"Lectura de datos desde un archivo externo","text":"<p>SAS puede leer datos de archivos de texto almacenados en distintos formatos, por ejemplo de ancho fijo o delimitados. Para acceder a ellos es necesario usar la referencia para apuntar a ellos, algo similar a la declaraci\u00f3n de las librer\u00edas.</p> <p>Se puede hacer mediante la sentencia <code>FILENAME</code>:</p> <p>FILENAME fileref \u2018nombre-archivo\u2019;</p> <p>donde fileref es un nombre sas que har\u00e1 referencia a un archivo y nombre-archivo es el nombre de un archivo f\u00edsico externo que incluye tanto la ruta como el nombre con su extensi\u00f3n.</p> <p>Por ejemplo la siguiente sentencia asigna con el nombre archivo al archivo \u201cdatos\u201d almacenados en formato .dat que est\u00e1n en la carpeta proyectos.</p> <pre><code>FILENAME archivo \"C:\\Users\\Usuario\\Documents\\Proyectos\\datos.dat\";\n</code></pre> <p>Tambi\u00e9n ser\u00e1 necesario usar la sentencia <code>INFILE</code>. Esta sentencia le da las espeficicaciones a SAS sobre c\u00f3mo leer archivos externos. Para una mayor referencia consulte la sentencia INPUT.</p>"},{"location":"sas/basico_sas/#lectura-de-un-archivo-de-ancho-fijo","title":"Lectura de un archivo de ancho fijo","text":"<p>En ocasiones se tienen los datos almacenados en formato de texto pero los datos estan alineados de tal forma que es posible saber en que posici\u00f3n inicia cada variable.</p> <p></p> <p>El ejemplo anterior muestra un ejemplo de un archivo de texto de ancho fijo, obs\u00e9rvese que el id comienza en la columna 1 mientras que el nombre inicia en la columna 8.</p> <p>El siguiente c\u00f3digo muestra c\u00f3mo leer datos de un archivo de ancho fijo.</p> <pre><code>DATA VENTAS;\n    INFILE ARCHIVO;\n    INPUT ID 1 - 7 NOMBRE $ 8 - 18 APELLIDO $ 19-33 POSICION $ 34 - 53 VOLUMEN 54 - 60 PAIS $ 61-62;\nRUN;\n</code></pre> <p>La diferencia con ejemplos anteriores es la sentencia <code>INFILE</code>. Esta sentencia especifica que se va leer un archivo externo y se usa junto con la sentencia <code>INPUT</code>.</p> <p>En la sentencia <code>INPUT</code> se declaran las variables que va a contener el dataset VENTAS. SAS leer\u00e1 el archivo l\u00ednea por l\u00ednea y almacenar\u00e1 los valores que encuentre en la variable declarada seg\u00fan la posici\u00f3n indicada, por ejemplo los valores que encuentre de la l\u00ednea 1 a la 7 se guardar\u00e1n en la variable ID, mientras que los valores de la columna 8 a la 18 se almacenar\u00e1n en la variable NOMBRE, n\u00f3tese que despu\u00e9s de NOMBRE hay un signo de pesos, esto es para indicar que la variable es de tipo caracter.</p> <p>Cuidado con las posiciones de columna</p> <p>Se debe ser muy cuidadoso al especificar la posici\u00f3n de las columnas para no mezclar los valores. En el ejemplo anterior, si se hubiera declarado <code>VOLUMEN 54 - 61</code>, SAS hubiera considerado la columna 61 y nos mostrar\u00eda un mensaje en el log:  Debido a que la columna 61 contiene a la letra A, SAS estar\u00eda almacenando una cadena en una variable num\u00e9rica, por lo que lo que nos mostrar\u00eda el error y finalmente le asignar\u00eda un valor missing a volumen.</p> <p>Una forma alternativa de declarar las variables en la sentencia ser\u00eda usar el siguiente c\u00f3digo:</p> <pre><code>DATA VENTAS;\n    INFILE ARCHIVO;\n    INPUT ID NOMBRE $10. APELLIDO $ 19-33 POSICION $ 34 - 53 VOLUMEN PAIS $3.;\nRUN;\n</code></pre> <p>Note que en la sentencia <code>INPUT</code> se declaran a las variables de tipo caracter de dos formas: por posici\u00f3n (ejemplo <code>APELLIDO $ 19-33</code>) y por formato (ejemplo <code>NOMBRE $10.</code>).</p> <p>Para una mayor referencia consulte leyendo datos en bruto en la documentaci\u00f3n de SAS.</p>"},{"location":"sas/basico_sas/#lectura-de-un-archivo-de-texto-delimitado","title":"Lectura de un archivo de texto delimitado","text":"<p>El delimitador predeterminado es un espacio en blanco. Sin embargo, los archivos de texto delimitados por otros caracteres (por ejemplo una coma, tabulador, o s\u00edmbolos especiales) tambien pueden ser le\u00eddos por SAS. Para especificar el tipo de delimitador, se utiliza la opci\u00f3n <code>DLM =</code> en la sentencia <code>INFILE</code>.</p> <p>Considere el siguiente archivo de texto. Puede notarse que est\u00e1 delimitado por el caracter \u201c/\u201d y adem\u00e1s tiene datos perdidos (resaltados en amarillo). De hecho, los valores perdidos al final de la l\u00ednea podr\u00edan hacer que SAS terminara antes de leer los datos.</p> <p></p> <p>El siguiente c\u00f3digo puede ser usado para leer esos datos.</p> <pre><code>DATA gerentes;\n    INFILE ARCHIVO DLM = \"/\" DSD TRUNCOVER;\n    ATTRIB\n        id label = \"ID gerente\"\n        nombre LENGTH = $12 LABEL = \"Nombre\"\n        apellido LENGTH = $18 LABEL = \"Apellido\"\n        genero LENGTH = $2 LABEL = \"G\u00e9nero\"\n        ventas LABEL = \"Ventas totales\"\n        posicion LENGTH = $18 LABEL = \"Posici\u00f3n\"\n        pais LENGTH = $2 LABEL = \"Pa\u00eds\" \n        fnac INFORMAT = date12. FORMAT = ddmmyy10. LABEL = \"Fecha de nacimiento\"\n        fingreso INFORMAT = anydtdte12. FORMAT = ddmmyy10. LABEL = \"Fecha de ingreso\"\n    ;\n    INPUT id -- fingreso;\nRUN;\n</code></pre> <p>La opci\u00f3n <code>DSD</code> es \u00fatil cuando hay un valor faltante en datos delimitados, de otra forma SAS no reconocer\u00eda dos delimitadores juntos y no leer\u00eda los datos correctamente.</p> <p>La opci\u00f3n <code>MISSOVER</code> evita que SAS salte a una nueva linea cuando no encuentra valores v\u00e1lidos y asigna valores faltantes a las variables que no encuentre. <code>TRUNCOVER</code> funciona de manera similar a <code>MISSOVER</code> pero la diferencia radica en que asignar\u00eda los valores que encuentre pasando el fin de l\u00ednea.</p>"},{"location":"sas/basico_sas/#leyendo-archivos-desde-web","title":"Leyendo archivos desde web","text":"<p>Para leer datos desde internet (usualmente en formato csv) se debe especificar el nombre del archivo con la sentencia FILENAME con la opci\u00f3n <code>URL</code>.</p> <p>FILENAME fileref URL \u2018nombre-archivo\u2018 &lt; opciones-url &gt;;</p> <p>Un ejemplo para descargar datos de covid se encuentran en el siguiente programa de sas: datos_covid_web.sas.</p> <p>Consulte la documentaci\u00f3n de la sentencia <code>FILENAME</code> con el m\u00e9todo de acceso URL para m\u00e1s informaci\u00f3n.</p>"},{"location":"sas/basico_sas/#seleccion-de-observaciones","title":"Selecci\u00f3n de observaciones","text":"<p>Es posible seleccionar las observaciones que se quieren escribir en un dataset, sobre todo aquellas que cumplan ciertas condiciones. Al igual que otros lenguajes de programaci\u00f3n SAS tiene expresiones l\u00f3gicas que eval\u00faan cierta condici\u00f3n.</p> <p>La sintaxis es la siguiente:</p> <p>IF expresi\u00f3n;</p> <p>Esta sentencia nos permite continuar procesando aquellas observaciones que cumplen la condici\u00f3n, generalmente de comparaci\u00f3n.</p> <p>Una expresi\u00f3n puede ser el nombre de una varible y puede contener alg\u00fan operador l\u00f3gico y un operando. Pueden conectarse mediante conectores l\u00f3gicos, comunmente llamados booleanos.</p> <p>La siguiente tabla resume algunos operadores l\u00f3gicos y conectores.</p> S\u00edmbolo Descripci\u00f3n Ejemplo <code>=</code> o <code>EQ</code> IGUAL A <code>sex EQ \"F\"</code> <code>^=</code> o <code>\u00ac=</code> o <code>~=</code> o <code>NE</code> NO IGUAL A <code>sex NE \"F\"</code> <code>&gt;</code> o <code>GT</code> MAYOR QUE <code>age GT 13</code> <code>&lt;</code> o <code>LT</code> MENOR QUE <code>age LT 13</code> <code>&gt;=</code> o <code>GE</code> MAYOR O IGUAL A <code>age GE 14</code> <code>&lt;=</code> o <code>LE</code> MENOR QUE O IGUAL A <code>age LE 14</code> <code>IN</code> (EST\u00c1) EN <code>age in (12 14 15)</code> o <code>sex in (\"F\" \"M\")</code> <code>&amp;</code> o <code>AND</code> Y <code>sex EQ \"F\" AND age GT 13</code> <code>!</code> o <code>OR</code> o O <code>sex EQ \"F\" OR age GT 13</code> <code>~</code> o <code>^</code> o <code>\u00ac</code> o <code>NOT</code> NO <code>NOT(sex EQ \"F\" OR age GT 13)</code> <p>Por ejemplo el siguiente c\u00f3digo solo contendr\u00eda a empleados de Australia.</p> <pre><code>DATA VENTAS_AU;\n    INFILE ARCHIVO;\n    IF PAIS EQ \"AU\";\n    INPUT ID 1 - 7 NOMBRE $ 8 - 18 APELLIDO $ 19-33 POSICION $ 34 - 53 VOLUMEN 54 - 60 PAIS $ 61-62;\nRUN;\n</code></pre> <p>Para elegir observaciones que no sean nulas, se puede usar la siguiente sentencia.</p> <pre><code>DATA VENTAS_AU;\n    INFILE ARCHIVO;\n    IF VOLUMEN;\n    INPUT ID 1 - 7 NOMBRE $ 8 - 18 APELLIDO $ 19-33 POSICION $ 34 - 53 VOLUMEN 54 - 60 PAIS $ 61-62;\nRUN;\n</code></pre>"},{"location":"sas/basico_sas/#usando-un-procedimiento-para-leer-datos-externos","title":"Usando un procedimiento para leer datos externos","text":"<p>La forma m\u00e1s f\u00e1cil de leer archivos externos es mediante el procedimiento IMPORT.</p> <p>PROC IMPORT DATAFILE = \u201cfilename\u201d OUT = dataset;</p> <p>Este procedimiento no solo lee archivos de texto, sino tambien de Excel, SPSS, Stata e incluso tablas de Access. Para una mayor referencia vea el procedimiento IMPORT.</p> <p>El siguiente c\u00f3digo leer\u00e1 un archivo en formato excel.</p> <pre><code>PROC IMPORT OUT = WORK.censo \n            DATAFILE = \"C:\\Users\\Usuario\\census.xlsx\" \n            DBMS = XLSX REPLACE;\nRUN;\n</code></pre> <p>N\u00f3tese que se ha especificado la opci\u00f3n <code>DBMS = XLSX</code> para que sas utilice los par\u00e1metros correspondientes para leer un archivo de excel. La opci\u00f3n <code>REPLACE</code> reemplazar\u00eda el dataset que tuviera el mismo nombre, de otro modo SAS mostrar\u00eda un error y no crear\u00eda el dataset.</p> <p>El siguiente c\u00f3digo muestra c\u00f3mo leer un archivo en formato csv.</p> <pre><code>PROC IMPORT OUT = WORK.census \n            DATAFILE = \"C:\\Users\\Usuario\\census.csv\" \n            DBMS = CSV REPLACE;\n     GETNAMES = YES;\n     DATAROW = 2; \nRUN;\n</code></pre> <p>En el caso de archivos csv, hay dos sentencias adicionales, la sentencia <code>GETNAMES = YES</code> indica si los nombres de las variables se encuentran al inicio del archivo de texto, mientras que la sentencia <code>DATAROW = 2</code> indica que los valores incian en el rengl\u00f3n 2.</p>"},{"location":"sas/basico_sas/#escritura-a-un-archivo-externo","title":"Escritura a un archivo externo","text":"<p>SAS tambien puede ser utlizado para escribir archivos externos. En esta secci\u00f3n se mostrar\u00e1 como crear archivos de texto, asi como escribir mensaje del log a archivos externos.</p>"},{"location":"sas/basico_sas/#escritura-de-un-archivo-delimitado","title":"Escritura de un archivo delimitado","text":"<p>El siguiente c\u00f3digo muestra como crear un archivo de texto.</p> <pre><code>FILENAME archivo \"C:\\Users\\Usuario\\alumnos.dat\";\nDATA _NULL_;\n    FILE archivo;\n    SET sashelp.class;\n    PUT name age sex;\nRUN;\n</code></pre> <p>Como se puede ver, se ha referenciado con la sentencia <code>FILENAME</code> el archivo con el nombre que en el que se desea escribir.</p> <p>N\u00f3tese que en la sentencia <code>DATA</code> se ha especificado <code>_NULL_</code>, una palabra reservada para pedir que no cree ning\u00fan dataset.</p> <p>La sentencia <code>FILE</code> da las especificaciones para escribir los archivos de texto. Es muy similar a la sentencia <code>INFILE</code>, para mayor referencia consulte la sentencia FILE.</p> <p>Finalmente, la sentencia <code>PUT</code> indica lo que se va a escribir en el archivo externo, en este caso se especifican la variables de inter\u00e9s. Para una mayor referencia consulte la sentencia PUT.</p> <p>Archivos delimitados por un caracter</p> <p>SAS crea archivos delimitados por un espacio en blanco. Para crear un archivo delimitado por otro caracter (por ejemplo una coma) se puede usar la opci\u00f3n <code>DLM =</code>. Tambien se puede modificar la extensi\u00f3n del archivo con la sentencia <code>FILENAME</code>.</p> <p>El resultado ser\u00eda el siguiente.</p> <p></p>"},{"location":"sas/basico_sas/#escritura-de-un-archivo-de-texto-de-ancho-fijo","title":"Escritura de un archivo de texto de ancho fijo","text":"<p>Para crear un archivo de texto de ancho fijo, se puede especificar las posiciones en las que se escribiran las observaciones.</p> <pre><code>FILENAME archivo \"C:\\Users\\Usuario\\alumnos.txt\";\nDATA _NULL_;\n    FILE archivo;\n    SET sashelp.class;\n    PUT name $8. sex 10-12 age 2. height 16-20 weight 22-25;\nRUN;\n</code></pre> <p>N\u00f3tese que se han especificado los formatos de las variables y las columnas en las que se desea escribir el archivo, es algo muy similar cuando se le\u00edan los archivos con la sentencia <code>INPUT</code>.</p>"},{"location":"sas/basico_sas/#crear-archivos-con-encabezados","title":"Crear archivos con encabezados","text":"<p>Debido a que sas escribe directamente al archivo, es un poco complicado especificarle que en el rengl\u00f3n 1 escriba el nombre de las variables.</p> <p>Sin embargo, el siguiente c\u00f3digo logra especificar el nombre de los archivos en la primer l\u00ednea.</p> <pre><code>FILENAME archivo \"C:\\Users\\Usuario\\alumnos.txt\";\nDATA _NULL_;\n    FILE archivo;\n    IF _n_ EQ 1 THEN PUT \"name \" \"sex \" \"age \" \"height \" \"weight \";\n    SET sashelp.class;\n    PUT name -- weight;\nRUN;\n</code></pre> <p>Esto se logra escribiendo la sentencia <code>PUT</code> justo al inicio e inmediatamente despues se carga el dataset que se quiere escribir.</p> <p>Las sentencias de la l\u00ednea 4 se estudiar\u00e1n en la secci\u00f3n filtrado de datos</p>"},{"location":"sas/basico_sas/#leer-y-modificar-archivos-de-texto","title":"Leer y modificar archivos de texto","text":"<p>Es posible manipular archivos de texto mediante SAS. para ellos es necesario leerlos y volver a escribir sobre ellos.</p> <p></p> <p>El siguiente c\u00f3digo muestra como actualizar ciertas variables.</p> <pre><code>FILENAME ARCHIVO \"C:\\Users\\Usuario\\alumnos.txt\";\nDATA _NULL_;\n   INFILE archivo SHAREBUFFERS  FIRSTOBS = 2 TRUNCOVER;\n   ATTRIB\n    sex LENGTH = $1\n    sex2 LENGTH = $1;\n   INPUT sex $ 9; \n   IF sex = \"F\" THEN sex2 = \"M\";\n   IF sex = \"M\" THEN sex2 = \"H\";\n   FILE archivo TRUNCOVER PAD;\n   PUT sex2 9 ;\nRUN;\n</code></pre> <p>Note que se la sentencia <code>LIBNAME</code> apunta al mismo archivo que se est\u00e1 usando en las sentencias <code>INFILE</code> y <code>FILE</code>.</p> <p>La opci\u00f3n <code>SHAREBUFFERS</code> es \u00fatil para actualizar un archivo externo y solo actualiza ciertos campos. Esta opci\u00f3n se usa junto con las sentencias <code>INFILE</code>, <code>FILE</code> y <code>PUT</code>.</p> <p>La variable sex2 se usa para guardar el valor que se va a escribir en el archivo cuando sex toma cierto valor.</p> <p>Cuidado con las longitudes</p> <p>Se debe tener cuidado cuando se actualiza un archivo de texto. Se debe procurar que la variable que se lee como la que se escribe tengan la misma longitud, de otro modo pueden haber resultados inesperados.</p> <p>El resultado se muestra a continuaci\u00f3n</p> <p></p>"},{"location":"sas/basico_sas/#escritura-de-datos-con-el-procedimiento-export","title":"Escritura de datos con el procedimiento EXPORT","text":"<p>As\u00ed como es posible leer datos de forma externa con un procedimiento, tambien hay uno para escribir datos a archivos externos. La sintaxis es muy similar.</p> <p>PROC EXPORT OUTFILE = \u201cfilename\u201d DATA = dataset;</p> <p>El siguiente c\u00f3digo muestra la forma de escribir un dataset a un archivo csv.</p> <pre><code>PROC EXPORT DATA= SASHELP.Class \n            OUTFILE= \"C:\\Users\\Usuario\\alumnos.csv\" \n            DBMS = CSV REPLACE;\nRUN;\n</code></pre> <p>Para mayores referencias consulte el procedimiento EXPORT.</p>"},{"location":"sas/conexion/","title":"Conexi\u00f3n con SAS","text":"<p>Existen muchas formas de conectar SAS con otros lenguajes de programaci\u00f3n.</p> <p>En esta secci\u00f3n se mostrar\u00e1n algunas maneras de conectarse a con otros programas, ya sea de manera local o remota.</p>"},{"location":"sas/conexion/#conexion-con-python-y-jupyter-notebooks","title":"Conexi\u00f3n con Python y Jupyter Notebooks","text":"<p>Es posible usar SAS \u00ae OnDemand for Academics y conectarlo con los cuadernos de Jupyter. Para ello se requiere lo siguiente:</p> <ol> <li>Crear una cuenta en SAS \u00ae OnDemand for Academics para obtener un nombre de usuario y establecer una contrase\u00f1a.</li> <li>Tener instalada la versi\u00f3n m\u00e1s reciente de Anaconda. Tambi\u00e9n se requiere tener instalado Java versi\u00f3n 1.8.0_162 o mayor.</li> <li>Instalar el paquete saspy. Tambi\u00e9n se recomienda instalar el sas kernel para los cuadernos de python.</li> <li>Realizar las configuraciones necesarias.</li> </ol> <p>Consulte la ayuda de SAS OnDemand para una referencia completa y detallada.</p> <p>Actualizaci\u00f3n de Java</p> <p>Debido a actualizaciones recientes, es posible que existan problemas con Java y no permitan conectarse correctamente. Se recomeida leer este post con el fin de actualizar algunos archivos de java.</p>"},{"location":"sas/conexion/#configuracion-de-saspy","title":"Configuraci\u00f3n de saspy","text":"<p>Se puede instalar el paquete <code>saspy</code> desde la consola (cmd o powershell) escribiendo el siguiente comando:</p> <pre><code>pip install saspy\n</code></pre> <p>Incluye pip</p> <p>La distribuci\u00f3n de Anaconda ya incluye pip, por lo que solo basta escribir el nombre del paquete en la consola.</p> <p>Para comprobar que se ha instalado correctamente, se debe escribir en la consola</p> <pre><code>python\n</code></pre> <p>Debe de aparecer algo similar a esto:</p> <pre><code>Python 3.8.8 (default, Apr 13 2021, 15:08:03) [MSC v.1916 64 bit (AMD64)] :: Anaconda, Inc. on win32\n\nWarning:\nThis Python interpreter is in a conda environment, but the environment has\nnot been activated.  Libraries may fail to load.  To activate this environment\nplease see https://conda.io/activation\n\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt;\n</code></pre> <p>Para comprobar la correcta instalaci\u00f3n de la librer\u00eda, se puede escribir en la consola el siguiente comando:</p> <pre><code>import saspy\nsaspy\n</code></pre> <p>El resultado nos arrojar\u00eda el directorio donde est\u00e1 el archivo de configuraci\u00f3n <code>sascfg.py</code>, por ejemplo:</p> <pre><code>&lt;module 'saspy' from 'C:\\\\Users\\\\Usuario\\\\anaconda3\\\\lib\\\\site-packages\\\\saspy\\\\__init__.py'&gt;\n</code></pre> <p>En dicho directorio se debe crear una copia del archivo <code>sascfg.py</code> nombr\u00e1ndolo sascfg_personal.py. A continuaci\u00f3n se debe borrar el contenido y pegar esto en sascfg_personal.py:</p> <pre><code>SAS_config_names=['oda']\noda = {'java' : 'C:\\\\Program Files (x86)\\\\Common Files\\\\Oracle\\\\Java\\\\javapath\\\\java.exe',\n#US Home Region\n'iomhost' : ['odaws01-usw2.oda.sas.com','odaws02-usw2.oda.sas.com','odaws03-usw2.oda.sas.com','odaws04-usw2.oda.sas.com'],\n#European Home Region\n#'iomhost' : ['odaws01-euw1.oda.sas.com','odaws02-euw1.oda.sas.com'],\n#Asia Pacific Home Region\n#'iomhost' : ['odaws01-apse1.oda.sas.com','odaws02-apse1.oda.sas.com'],\n'iomport' : 8591,\n'authkey' : 'oda',\n'encoding' : 'utf-8'\n}\n</code></pre> <p>Java</p> <p>Verifique que el directorio de Java realmente existe, de otra forma no funcionar\u00e1 correctamente.</p> <p>Posteriormente se debe crear en la carpeta personal (usualmente <code>C:\\Users\\Usuario</code>) el archivo <code>_authinfo</code> que contenga la informaci\u00f3n de las credenciales de SAS \u00ae OnDemand de la siguiente forma, sustituyendo por los valores que correspondan:</p> <pre><code>oda user usuario password contrase\u00f1a\n</code></pre> <p>Archivo sin extensi\u00f3n</p> <p>El archivo <code>_authinfo</code> no tiene extensi\u00f3n y debe ser guardado en formato <code>UTF-8</code>. Si la contrase\u00f1a contiene espacios, se debe poner entre comillas.</p> <p>Una vez realizados estos pasos, puede escribir nuevamente en la consola esta instrucci\u00f3n para comprobar que se puede acceder a SAS OnDemand:</p> <pre><code>sas = saspy.SASsession()\nsas\n</code></pre> <p>El resultado que se mostrar\u00eda en la pantalla es el siguiente:</p> <pre><code>Using SAS Config named: oda\nSAS Connection established. Subprocess id is 3500\n</code></pre> <p>Adicionalmente se puede instalar el  sas kernel para los cuadernos de python usando la consola CMD o Powershell.</p> <pre><code>pip install sas_kernel\n</code></pre> <p>Para comprobar que se ha instalado exitosamente, se puede ejecutar el siguiente comando:</p> <pre><code>jupyter kernelspec list\n</code></pre>"},{"location":"sas/conexion/#usando-sas-en-un-cuaderno-jupyter","title":"Usando SAS en un cuaderno Jupyter","text":"<p>En esta secci\u00f3n se muestra c\u00f3mo usar un cuaderno de Jupyter y conectarlo con SAS. Se usar\u00e1 Visual Studio Code versi\u00f3n 1.62 usando la extensi\u00f3n Jupyter para la generaci\u00f3n del archivo ipynb.</p> <p>Para hacer uso de esta funcionalidad, se debe crear un cuaderno de jupyter con un kernel de SAS. Revise la configuraci\u00f3n de saspy para tener lsito tanto el kernel como el paquete saspy.</p> <p>Nuevo archivo</p> <p>Puede crearse un nuevo cuaderno de jupyter desde el menu Archivo, Seleccionar la opci\u00f3n Nuevo Archivo \u2026, aparecer\u00e1 la opci\u00f3n de crear opci\u00f3n de crear un nuevo archivo de jupyter.</p> <p>Para pode usarlo, se debe elegir el kernel de SAS y se puede escribir tanto c\u00f3digo de SAS como Markdown el el cuaderno. Los resultados estar\u00e1n dentro del cuaderno de Jupyter y dependiendo de los procedimientos, los resultados ser\u00e1n mostrados en formato HTML.</p> <p>La siguiente imagen muestra el funcionamiento de SAS en un cuaderno de Jupyter.</p> <p></p> <p>Consulte la documentaci\u00f3n de sas kernel para m\u00e1s informaci\u00f3n.</p>"},{"location":"sas/conexion/#usando-el-paquete-saspy-en-un-cuaderno-jupyter","title":"Usando el paquete saspy en un cuaderno Jupyter","text":"<p>Las librer\u00eda y datasets de SAS pueden usarse dentro de Python a trav\u00e9s del paquete saspy.</p> <p>Para hacer uso de la librer\u00eda, se debe crear un cuaderno de jupyter con un kernel de python. Revise la configuraci\u00f3n de saspy para tener todo listo y evitar alg\u00fan error.</p> <p>El primer paso es cargar el paquete saspy escribiendo el siguiente c\u00f3digo en una celda de c\u00f3digo python:</p> <pre><code>import saspy\nsas = saspy.SASsession()\nsas\n</code></pre> <p>Se desplegar\u00e1 informaci\u00f3n acerca de la conexi\u00f3n a SAS \u00ae OnDemand y sus configuraciones.</p> <pre><code>Using SAS Config named: oda\nSAS Connection established. Subprocess id is 2816\n\nAccess Method         = IOM\nSAS Config name       = oda\nSAS Config file       = C:\\Users\\Usuario\\anaconda3\\lib\\site-packages\\saspy\\sascfg_personal.py\nWORK Path             = /saswork/SAS_work32430000E59D_odaws01-usw2.oda.sas.com/SAS_work6D2A0000E59D_odaws01-usw2.oda.sas.com/\nSAS Version           = 9.04.01M6P11072018\nSASPy Version         = 3.7.5\nTeach me SAS          = False\nBatch                 = False\nResults               = Pandas\nSAS Session Encoding  = utf-8\nPython Encoding value = utf-8\nSAS process Pid value = 58781\n</code></pre> <p>La siguiente imagen muestra algunas funcionalidades del paquete saspy. Consulte la documentaci\u00f3n de saspy para una referencia completa de los m\u00e9todos del paquete.</p> <p> </p>"},{"location":"sas/conexion/#usando-codigo-sas-usando-cualquier-kernel-de-jupyter","title":"Usando c\u00f3digo SAS usando cualquier kernel de Jupyter","text":"<p>Es posible usar c\u00f3digo SAS en un cuaderno de Jupyter directamente, aunque el kernel no sea de SAS.</p> <p>Para hacer esto, se hace uso de los SAS MAGICS, que son trozos de c\u00f3digo de otro lenguaje que se ejecutan. Simplemente en una celda nueva se debe colocar al inicio <code>%%SAS</code> y debajo el c\u00f3digo SAS que se desea realizar.</p> <p>La siguiente muestra su uso.</p> <p></p> <p>N\u00f3tese que a pesar de estar en un cuaderno con kernel python, se ha realizado una conexi\u00f3n con SAS y se ha ejecutado el c\u00f3digo de la celda.</p> <p>Activar el paquete</p> <p>No olvide activar el paquete saspy antes de usar el sas magic para evitar errores.</p>"},{"location":"sas/intro_sas/","title":"Elementos esenciales","text":"<p>Este es un tutorial breve sobre el programa, se muestran los principales conceptos de SAS \u00ae software.</p> <p>En esta secci\u00f3n se aprender\u00e1n los principios sobre los cuales se basa SAS, as\u00ed como algunas definiciones importantes como datasets o librer\u00edas.</p> <p>Finalmente se muestran algunas pinceladas de lo que se puede hacer con SAS mediante el uso lenguaje m\u00e1s avanzado.</p>"},{"location":"sas/intro_sas/#instalacion-e-interfaces-graficas","title":"Instalaci\u00f3n e interfaces gr\u00e1ficas","text":"<p>Consulte el sitio web de SAS Institute Inc. para m\u00e1s detalles.</p> <p>SAS \u00ae OnDemand for Academics</p> <p>SAS \u00ae software no es libre ni de c\u00f3digo abierto, sin embargo usted puede usarlo gratuitamente con fines de aprendizaje. Visite SAS \u00ae OnDemand for Academics para m\u00e1s informaci\u00f3n.</p> <p>SAS \u00ae BASE es la interfaz gr\u00e1fica cl\u00e1sica de SAS. Contiene una verntana lateral con una lista de librer\u00edas, mientras que hay una ventana principal de mensajes (log) y otra para escribir c\u00f3digo.</p> <p></p> <p>Esta interfaz fue de las primeras en desarrollarse y por ello ya no ha sido mejorada por lo que podr\u00eda carecer de nuevas caracter\u00edsticas.</p> <p>Su principal ventaja es que gasta pocos recurso y es bastante r\u00e1pida.</p> <p>SAS \u00ae Enterprise Guide es la interfaz gr\u00e1fica m\u00e1s reciente y es constantemente mejorada. Esta versi\u00f3n tiene muchas caracter\u00edsticas y adem\u00e1s permite crear distintos perfiles de usuario.</p> <p>Tiene un panel principal en el cual se muestra el flujo de trabajo. La idea b\u00e1sica es ir trabajando en peque\u00f1os programas y se conectan entre s\u00ed, con el fin de tener una visi\u00f3n m\u00e1s global de lo que se est\u00e1 realizando.</p> <p>Tambi\u00e9n puede usarse la interfaz de SAS \u00ae Studio cuando se utiliza SAS \u00ae OnDemand for Academics.</p> <p></p>"},{"location":"sas/intro_sas/#conceptos-basicos","title":"Conceptos b\u00e1sicos","text":"<p>En esta secci\u00f3n se mostrar\u00e1n los elementos b\u00e1sicos de SAS, tales como los bloques b\u00e1sico de programaci\u00f3n (pasos DATA y PROC), conceptos como bibliotecas, datasets, entre otros.</p>"},{"location":"sas/intro_sas/#procedimientos-y-pasos-data","title":"Procedimientos y pasos DATA","text":"<p>SAS se compone de dos grandes bloques: el paso DATA y el paso PROC.</p> <p>El bloque DATA sirve para leer o generar datos, mientras que el bloque PROC generalmente sirve para analizar dichos datos, aunque hay muchos procedimientos.</p> <p>Este sencillo ejemplo muestra el flujo general de los programas de sas. Primero se crear\u00e1 un dataset con el bloque de instrucciones DATA.</p> <pre><code>DATA calificaciones;\n    INPUT nombre $ Grupo $ puntaje;\n    DATALINES;\n    ANGELICA A 10\n    BRENDA A 9\n    MARCO B 8\n    LILIANA B 8\n    FABIAN C 9\n    MAURICIO C 7\n    ;\nRUN;\n</code></pre> <p>SAS no muestra directamente los resultados, en su lugar, se escribe un mensaje en la ventana de log.</p> <p></p> <p>Para visualizar el dataset creado, se debe ejecutar el siguiente c\u00f3digo, que constituye el paso PROC:</p> <pre><code>PROC PRINT DATA = calificaciones;\nRUN;\n</code></pre> <p>El resultado se muestra a continuaci\u00f3n</p> <p></p> <p>Aunque se ha producido un resultado, nuevamente aparece un mensaje en la ventana del log:</p> <p></p> <p>En el log aparecen las instrucciones que se ejecutaron, seguido de un mensaje indicando que los resultados se estan escribiendo en un archivo html. Finalmente en el log se nos indica el n\u00famero de observaciones le\u00eddas y el tiempo de ejecuci\u00f3n del procedimiento.</p> <p>Como puede verse, el log siempre est\u00e1 activo y registra todas las acciones ejecutadas. Posteriormente se ver\u00e1n como nos puede ayudar a encontrar errores y nos apoyar\u00e1 en la resoluci\u00f3n de estos.</p>"},{"location":"sas/intro_sas/#datasets","title":"Datasets","text":"<p>SAS almacena los datos en tablas llamadas datasets, los cuales son archivos que se almacenan en bibliotecas (library).</p> <p>SAS maneja dos tipos de datos: num\u00e9ricos y caracter. Los dataset permiten almacenar un tipo de dato en cada variable.</p> <p>Para crear un dataset, se utiliza el bloque de instrucciones conocido como paso DATA. El paso DATA inicia con la sentencia DATA seguido del nombre del dataset y termina con la palabra clave RUN.</p> <p>Por ejemplo el siguiente c\u00f3digo crea un dataset con 1 observaci\u00f3n y tres variables (2 num\u00e9ricas y otra caracter).</p> <pre><code>DATA EJEMPLO;\n    FORMAT FECHA DATE.;\n    FECHA = TODAY();\n    INPUT X GRUPO $;\n    DATALINES;\n    12.5 azul\n    ;\nRUN;\n</code></pre> <p>La primer sentencia define el nombre del dataset.</p> <p>La segunda le asigna un formato de fecha a la variable fecha. Esto a se debe a que internamente SAS almacena el resultado como un valor num\u00e9rico, pero quisieramos visualizarlo como una fecha.</p> <p>En la tercer sentencia se define una variable num\u00e9rica mediante una funci\u00f3n, la cual obtiene la fecha de hoy (n\u00famero de d\u00edas transcurridos desde el 1 de enero de 1960).</p> <p>En la siguiente sentencia se declaran 2 variables que sas va a recibir, la segunda se define como caracter al agregarle el signo <code>$</code>.</p> <p>La sentencia <code>DATALINES</code> le dice al programa que se introducir\u00e1n valores de manera manual (cada rengl\u00f3n representa la primera observaci\u00f3n y cada variable est\u00e1 separada por un espacio). El punto y coma dicta el fin de la introducci\u00f3n de datos.</p> <p>Finalmente la palabra RUN define el fin del paso DATA.</p> <p>Un dataset consiste de dos partes:</p> <ul> <li>Una porci\u00f3n descriptora</li> <li>Una porci\u00f3n de datos</li> </ul> <p>La porci\u00f3n de datos es una colecci\u00f3n de datos arreglados en una tabla rectangular. Cada rengl\u00f3n o observaci\u00f3n representa mediciones de un individuo.</p> <p>La porci\u00f3n descriptora de un dataset contiene informaci\u00f3n del descriptor, por ejemplo, el nombre, fecha y hora de creaci\u00f3n, n\u00famero de observaciones y n\u00famero de variables.</p> <p>La porci\u00f3n descriptora tambien contiene informaci\u00f3n de los atributos de cada variable en el dataset. Los atributos contienen informaci\u00f3n como el nombre de la variable, el tipo, longitud, formato, informato y etiqueta.</p> <p>El siguiente cuadro resume los atributos de las variables.</p> Atributo Valor Ejemplo Requerido Nota Nombre Nombre SAS _nombre_alumno2 S\u00ed Hasta 32 car\u00e1cteres, iniciando con <code>_</code> o una letras, puede contener valores num\u00e9ricos. Tipo char o num num S\u00ed Los valores perdidos (missing) para variables num\u00e9ricas se representan con <code>.</code> o con <code>\"\"</code> para caracter. Longitud Hasta 32,767 bytes para caracter, 8 para variables num\u00e9ricas 8 S\u00ed Las variables num\u00e9ricas se almacenan como valores de punto flotante en 8 bytes de longitud. Formato Nombre de formato date10. No Consulte Formatos de SAS para una referencia completa Informato Nombre de Informato dollar10. No Consulte Informatos de SAS para una referencia completa Etiqueta Una cadena de hasta 256 caracteres \u201cSegundo nombre del alumno\u201d No Algunos procedimientos o reportes usan la etiqueta en lugar del nombre de la variable. <p>Es posible conocer las propiedades de un dataset usando el PROCEDIMIENTO CONTENTS para conocer la porci\u00f3n descriptora de un dataset.</p> <p>El siguiente c\u00f3digo nos muestra c\u00f3mo saber las propiedades de un dataset almacenado en sas.</p> <pre><code>PROC CONTENTS DATA = SASHELP.HEART VARNUM;\nRUN;\n</code></pre> <p>El resultado se muestra a continuaci\u00f3n</p> <p></p> <p></p>"},{"location":"sas/intro_sas/#librerias","title":"Librer\u00edas","text":"<p>Las librer\u00edas o bibliotecas son rutas donde se almacenan los datasets.</p> <p>Librer\u00eda</p> <p>Una librer\u00eda de SAS es una colecci\u00f3n de archivos de SAS. Es el nivel m\u00e1s alto de organizaci\u00f3n para la informaci\u00f3n dentro de SAS. En el sistema operativo Windows o UNIX, una librer\u00eda es t\u00edpicamente un grupo de archivos de SAS en el mismo folder o directorio.</p> <p>Si no se define una librer\u00eda, sas define una librer\u00eda temporal llamada WORK, la cual eliminar\u00e1 todos los datasets al finalizar la sesi\u00f3n.</p> <p>Para definir una librer\u00eda, se puede asignar una librer\u00eda a un ruta de la forma:</p> <p>LIBNAME libref \u2018sas-library\u2019;</p> <p>donde libref es el nombre de la librer\u00eda (un nombre de sas de 1 a 8 caracteres que inicia con una letra o gui\u00f3n bajo y contiene solo letras, n\u00fameros o gui\u00f3n bajo) y sas-library es la ruta donde se almacenar\u00e1n los dataset, por ejemplo:</p> <pre><code>LIBNAME TAREAS \"C:\\Users\\Default\\Documents\";\n</code></pre> <p>asignar\u00eda dicho directorio a la librer\u00eda TAREAS.</p> <p>Para referirse a un dataset almacenado en dicha librer\u00eda, se utiliza el siguiente nombre <code>LIBRARY.DATASET</code>, por ejemplo <code>TAREAS.TABLA</code>.</p>"},{"location":"sas/intro_sas/#macros-y-variables-macro","title":"Macros y variables macro","text":"<p>Adem\u00e1s de los pasos PROC y DATA, SAS tiene un lenguaje especial llamado lenguaje macro, el cual especie de procesador de instrucciones que compila y ejecuta.</p> <p>Este lenguaje es muy \u00fatil para ejecutar tareas comunes o repetitivas</p> <p>A diferencia de otros lenguajes de programaci\u00f3n, SAS no permite definir variables de forma directa. Sin embargo, es posible definir variables macro, las cuales almacenan un valor ya sea un n\u00famero o un texto. Dichas variables son evaluadas y pueden ser llamadas en cualquier procedimiento macro.</p> <p>Hay tres formas de crear variables macro:</p> <ul> <li>Con la sentencia <code>%let</code>.</li> <li>Con la llamada <code>symput()</code>.</li> <li>con la sentencia <code>INTO</code> dentro de un procedimiento SQL.</li> </ul> <p>Se usa la sentencia <code>%let macro-variable = &lt;value&gt;;</code> y para mandar llamar el valor de dicha variable maro se usa <code>&amp;macro-variable</code>.</p> <p>Por ejemplo si se desea definir ciertas variables a analizar, se puede crear la siguiente sentencia;</p> <pre><code>%let x = age weight height;\n\nPROC MEANS DATA = SASHELP.CLASS;\n    VAR &amp;X;\nRUN;\n</code></pre> <p>Para ver el valor de la variable macro, se puede usar la sentencia macro <code>%PUT &lt;&amp;macro-variable&gt;</code>, por ejemplo:</p> <pre><code>%PUT &amp;x;\n</code></pre> <p>y el resultado ser\u00e1</p> <p>age weight height</p> <p>Para m\u00e1s informaci\u00f3n acerca de sentencias y variables macro visite la documentaci\u00f3n de SAS.</p>"},{"location":"sas/intro_sas/#consiguiendo-ayuda","title":"Consiguiendo ayuda","text":"<p>En internet existe muchos recursos para encontrar ayuda acerca de SAS.</p> <p>Una de los mejores sitios para encontrar ayuda es en el foro de sas communities. Tambi\u00e9n existe una versi\u00f3n en espa\u00f1ol enfocada en usuarios de M\u00e9xico y Latinoam\u00e9rica.</p> <p>Tambi\u00e9n hay un blog en donde se abordan distintos temas especializados tales como gr\u00e1ficos, programaci\u00f3n, entre otros.</p> <p>SAS and all other SAS Institute Inc. product or service names are registered trademarks or trademarks of SAS Institute Inc. in the USA and other countries. \u00ae indicates USA registration.</p>"},{"location":"sas/manejo_variables/","title":"Manejo de bases","text":"<p>En esta secci\u00f3n se presentan temas m\u00e1s profundos acerca del procesamiento de datos. Se explorar\u00e1n distintas formas de manejar bases mediante uso de variables, seleccionar observaciones as\u00ed como el uso de ciclos y arreglos que nos permitan tener un mayor control de la informaci\u00f3n que se tenga.</p> <p>Primero se ver\u00e1 la forma de crear variables con el fin de realizar c\u00e1lculos posteriores, estas variables pueden ser usadas incluso para crear varios datasets, crear contadores o acumuladores, entre otras. Tambi\u00e9n se conocer\u00e1n t\u00e9cnicas de selecci\u00f3n de observaciones con el fin de manipular mejor las bases.</p> <p>Despu\u00e9s se explorar\u00e1 un poco el tema del ordenamiento con el fin de crear ya sea grupos o realizar otras operciones como uniones, transposiciones entre otras.</p> <p>Antes de continuar con temas mas complejos, es importante comprender de forma general el funcionamiento del paso DATA.</p> <p>Para una explicaci\u00f3n m\u00e1s detallada consulte C\u00f3mo funciona el paso DATA.</p> <p>El paso DATA tiene dos fases:</p> <ul> <li>Fase de compilaci\u00f3n</li> <li>Fase de ejecuci\u00f3n</li> </ul> <p>A continuaci\u00f3n se describir\u00b4n de forma breve estas fases.</p> <p>Durante la fase de compilaci\u00f3n, SAS revisa la sintaxis y si es correcta, se manda a c\u00f3digo m\u00e1quina en dondese procesa el c\u00f3digo y se generan los siguientes objetos:</p> <ul> <li>Memoria de entrada. Es un lugar en la memoria donde SAS lee registros de un archivo de texto cuando el programa se ejecute.</li> <li>Vector de datos del programa. Es un lugar en la memoria donde SAS construye un conjunto de datos, una observaci\u00f3n a la vez.</li> <li>Porci\u00f3n descriptora. Es la informaci\u00f3n general del dataset como el nombre de la base y los atributos de las variables a crear.</li> </ul> <p>La memoria de entrada solo aplica en el caso en que se lean archivos externos. En este caso, los datos se leen de la memoria de entrada al vector de datos del programa.</p> <p>El vector de datos del programa (VDP) es importante porque en \u00e9ste se realizar\u00edan los c\u00e1lculos de las sentencias de SAS o funciones. Contiene el nombre de todas las variables declaradas o inicializadas. Es como un paso intermedio entre lo que se lee y calcula con lo que se se escribe al dataset. Al inicio de cada iteraci\u00f3n los valores en el VDP son iniciados con valor missing y son llenados seg\u00fan lea o ejecuten sentencias.</p> <p>Durante la fase de compilaci\u00f3n tambien se crean dos variables auxiliares en el VDP que no se escribir\u00e1n en el dataset: <code>_N_</code> y <code>_ERROR_</code>. La primera cuenta el n\u00famero de veces que el paso DATA itera y la segunda registra si hubo alg\u00fan problema en la fase de ejecuci\u00f3n.</p> <p>Una vez conclu\u00edda esta etapa, se procede a la siguiente fase.</p> <p>En la fase de ejecuci\u00f3n se realizan las siguientes acciones:</p> <ol> <li>Se leen las observaciones del VDP.</li> <li>Se ejecutan las sentencias (c\u00e1lculo de variables).</li> <li>Se escriben al dataset.</li> <li>La variables en el VDP son reiniciadas y se colocan valores missing.</li> </ol> <p>Debido a que es un procesos repetitivo, SAS realiza los pasos mencionados tantas veces como observaciones haya en el archivo externo o dataset le\u00eddo.</p> <p>El proceso termina cuando ya no hay registros que leer y en ese momento el dataset es cerrado y se concluye el paso DATA.</p>"},{"location":"sas/manejo_variables/#creando-variables","title":"Creando variables","text":"<p>Hasta ahora solo conoc\u00edamos las sentencias <code>ATTRIB</code>, <code>LENGTH</code> y <code>FORMAT</code> para declarar o iniciar variables. Otra forma de crearlas es mediante la asignaci\u00f3n de variables de la siguiente forma:</p> <p>variable = expresi\u00f3n sas;</p> <p>Esta sentencia se conoce como sentencias de asignaci\u00f3n. Su funci\u00f3n es evaluar y almacenar el resultado en alguna variable que est\u00e1 al lado izquierdo del signo <code>=</code>.</p> <p>Una forma muy com\u00fan de crear variables es mediante el uso de operadores matem\u00e1ticos. La siguiente tabla muestra algunos de los operadores aritm\u00e9ticos en SAS. Para una referencia consulte Operadores SAS en expresiones y Funciones SAS en expresiones.</p> S\u00edmbolo Descripci\u00f3n Ejemplo <code>+</code> Adici\u00f3n <code>fecha + 1</code> <code>-</code> Sustracci\u00f3n <code>fecha - 7</code> <code>*</code> Multiplicaci\u00f3n <code>height * 2.54</code> <code>/</code> Divisi\u00f3n <code>suma / total</code> <code>**</code> Exponenciaci\u00f3n <code>metros ** 2</code> <p>Considere las siguientes sentencias:</p> <pre><code>fecha = '10Jun20'd;\nversion = 1;\nstatus = \"ok\";\naltura = height * 2.54;\nnombre2 = SUBSTR(name,1,3);\n</code></pre> <p>En esas sentencias se han creado las variables simplemente asignando un valor o una expresi\u00f3n SAS.</p> <p>Las primeras tres sentencias crear\u00edan variables de tipo num\u00e9rico; la expresi\u00f3n <code>'10Jun20'd</code> es interpretada por sas como un valor num\u00e9rico.</p> <p>La cuarta sentencia realiza una multiplicaci\u00f3n de una variable por una constante.</p> <p>Finalmente, la quinta aplica una funci\u00f3n a una variable de tipo caracter que extraer\u00e1 los 3 primeros caracteres de una cadena. Para conocer un poco m\u00e1s vea la secci\u00f3n.</p> <p>A continuaci\u00f3n se presentan algunas variables que ser\u00e1n muy \u00fatiles.</p>"},{"location":"sas/manejo_variables/#variables-acumuladoras-y-contadoras","title":"Variables acumuladoras y contadoras","text":"<p>En SAS es posible crear una variable que sume o vaya acumulando.</p> <p>Considere la siguiente tabla donde se representan la informaci\u00f3n de los empleados de una compa\u00f1\u00eda. Se desea obtener un acumulado de las ventas de los empleados y un contador para tener en cuenta el n\u00famero de empleados.</p> <p></p> <p>El siguiente c\u00f3digo muestra la forma de crear el acumulador y el contador de forma muy b\u00e1sica.</p> <pre><code>DATA ventas_au2;\n    SET ventas_au;\n    contador = _N_;\n    salario_acum + salary;\nRUN;\n</code></pre> <p>La tercer l\u00ednea guarda el n\u00famero de veces que se ha iterado, es decir el n\u00famero de registros le\u00eddos. Debido a que la variable <code>_N_</code> es temporal y no se escribe en el dataset, se guarda en la variable contador.</p> <p>En la cuarta se muestra c\u00f3mo acumular en la variable salario_acum, en cada iteraci\u00f3n se le suma la variable salary a la variable salario_acum. Esta sentencia es conocida como sentencia SUM.</p> <p>Cuidado con el operador +</p> <p>Se debe tener cuidado al usar el operador <code>+</code> debido a que si alguno de los operandos tiene un valor missing, el resultado ser\u00eda missing. Se recomienda usar la funci\u00f3n SUM para evitar esos imprevistos.</p> <p>Si se hubiese definido <code>salario_acum = salario_acum + salary</code>en la l\u00ednea 4, el resultado en cada observacion nos resultar\u00eda un valor missing. Como se mencion\u00f3 previamente, durante la fase de compilaci\u00f3n los valores en el VDP se reinician a valor missing causando que el resultado en dicha expresi\u00f3n sea missing.</p> <p>Para evitar que eso ocurra, se puede usar la sentencia <code>RETAIN</code> con el fin de que SAS conserve el valor en cada iteraci\u00f3n.</p> <pre><code>DATA ventas_au2;\n    SET ventas_au;\n    RETAIN salario_acum2 0;\n    salario_acum2 = salario_acum2 + salary; \nRUN;\n</code></pre> <p>En la l\u00ednea 3 se pide que SAS retenga la variable salario_acum2 en cada iteraci\u00f3n y que su valor inicial sea 0. De esta manera se podr\u00eda sumar de manera normal. Consulte la sentencia RETAIN para m\u00e1s informaci\u00f3n.</p>"},{"location":"sas/manejo_variables/#funciones-y-llamadas-a-rutinas","title":"Funciones y llamadas a rutinas","text":"<p>Ya hab\u00edamos mencionado que las funciones pod\u00edan usarse para crear variables, sin embargo ahora se profundizar\u00e1 un poco m\u00e1s en su uso.</p> <p>Las funciones permiten realizar c\u00e1lculos y operaciones en ocasiones muy complejas, \u00e9stas pueden  requerir de cierta informaci\u00f3n o argumentos con el fin de traer el resultado. Generalmente son almacenadas en variables, aunque pudieran usarse como una expresi\u00f3n en una sentencia <code>WHERE</code> o <code>IF</code>. Su sintaxis es la siguiente:</p> <p>&lt;variable =&gt; funcion(&lt;argumento1,argumento2,\u2026,argumenton&gt;);</p> <p>Las llamadas a rutinas, en cambio en lugar de arrojar un resultado, realizan una acci\u00f3n u operacion. Su sintaxis es la siguiente:</p> <p>CALL rutina(&lt;argumento1,argumento2,\u2026,argumenton&gt;);</p> <p>Para m\u00e1s informaci\u00f3n acerca de las llamadas a rutinas y funciones consulte Funciones SAS y rutinas.</p>"},{"location":"sas/manejo_variables/#filtrado-de-datos","title":"Filtrado de datos","text":"<p>En ocasiones, se tiene una basta cantidad de datos y solo nos interesa un subconjunto de estos. Para eso se pueden elegir observaciones de un dataset con la sentencia <code>WHERE</code>.</p> <p>WHERE vs IF</p> <p>No debe confundirse la sentencia <code>WHERE</code> con <code>IF</code>. La sentencia <code>IF</code> trabaja con observaciones despu\u00e9s de ser le\u00eddas en el VDP, mietras que <code>WHERE</code> selecciona las observaciones antes de pasar al VDP.</p> <p>La sintaxis es la siguiente:</p> <p>WHERE expresi\u00f3n;</p> <p>donde expresi\u00f3n es una condici\u00f3n a evaluar, vea la secci\u00f3n selecci\u00f3n de observaciones para una referencia de los operadores l\u00f3gicos y booleanos. La siguiente tabla muestra expresiones v\u00e1lidas para la sentencia <code>WHERE</code></p> Operador Descripci\u00f3n Ejemplo <code>BETWEEN - AND</code> Un rango inclusivo <code>WHERE age BETWEEN 12 AND 15;</code> <code>?</code> o <code>CONTAINS</code> Una cadena de caracteres <code>WHERE name ? \"Ja\";</code> <code>IS NULL</code> o <code>IS MISSING</code> Valores faltantes <code>WHERE volumen IS NULL;</code> <code>LIKE</code> Combinaci\u00f3n de patrones <code>WHERE name LIKE \"J%\";</code> <code>=*</code> Suena como (S\u00f3lo palabras en ingl\u00e9s) <code>WHERE name =* \"jeims\";</code> <code>SAME - AND</code> Agrega cl\u00e1usulas a una sentencia <code>WHERE</code> existente <code>WHERE sex = \"F\"; WHERE SAME AND age &gt;= 13;</code> <p>En el siguiente ejemplo se muestra el filtrado usando la sentencia <code>WHERE</code> usando los datos de covid para tener s\u00f3lo la informaci\u00f3n de M\u00e9xico.</p> <pre><code>DATA mexico;\n    SET covid;\n    WHERE iso_code EQ \"MEX\";\nRUN;\n</code></pre> <p>El log muestra el siguiente mensaje:</p> <p>NOTE: There were 609 observations read from the data set WORK.COVID.</p> <p>WHERE iso_code=\u2019MEX\u2019</p> <p>Si se hubiese usado la sentencia <code>IF</code> en lugar de <code>WHERE</code> el resultado hubiera sido el siguiente:</p> <p>NOTE: There were 113406 observations read from the data set WORK.COVID.</p> <p>NOTE: The data set WORK.MEXICO has 609 observations and 60 variables.</p> <p>El ejemplo anterior muestra las diferencias entre las sentencias <code>IF</code> y <code>WHERE</code>.</p> <p><code>WHERE</code> como opci\u00f3n de dataset</p> <p>Es posible usar la opci\u00f3n <code>WHERE =</code> para filtrar observaciones para un dataset especificado, esto es \u00fatil cuando se leen m\u00e1s de un dataset. Vea la documentaci\u00f3n para m\u00e1s informaci\u00f3n.</p>"},{"location":"sas/manejo_variables/#sentencias-condicionales","title":"Sentencias condicionales","text":"<p>Anteriormente se hab\u00eda usado la sentencia <code>IF</code> para seleccionar variables, ahora se usar\u00e1 en conjunto con la palabra <code>THEN</code> con el fin de que realice una acci\u00f3n. Esta sentencia se conoce como sentencia IF-ELSE.</p> <p>La sintaxis es la siguiente:</p> <p>IF expresi\u00f3n THEN acci\u00f3n1; ELSE acci\u00f3n2;</p> <p>El siguiente ejemplo muestra c\u00f3mo crear una variable a partir de ciertos valores.</p> <pre><code>DATA clase;\n    SET SASHELP.CLASS;\n    LENGTH sexo $8;\n    IF sex = \"F\" THEN sexo = \"Mujer\";\n    ELSE sexo = \"Hombre\";\nRUN;\n</code></pre> <p>Note que la sentencia <code>IF-ELSE</code> solo permite una acci\u00f3n a la vez. Para realizar m\u00e1s de una acci\u00f3n se debe usar el bloque <code>DO</code>. Consulte la documentaci\u00f3n para m\u00e1s informaci\u00f3n.</p> <pre><code>DATA clase;\n    SET SASHELP.CLASS;\n    sexo = \"Hombre\";\n    genero = \"Masculino\";\n    IF sex = \"F\" THEN DO;\n        sexo = \"Mujer\";\n        genero = \"Femenino\";\n    END;\nRUN;\n</code></pre> <p>Estas sentencias pueden anidarse para formar sentencias m\u00e1s complejas, por ejemplo.</p> <pre><code>DATA clase;\n   SET SASHELP.CLASS;\n   LENGTH escuela $12.;\n   IF age LE 12 THEN escuela = \"Primaria\";\n      ELSE IF age GE 16 THEN escuela = \"Preparatoria\";\n   ELSE escuela = \"Secundaria\";\nRUN;\n</code></pre> <p>Cuidado con las estructuras anidadas</p> <p>Se debe tener cuidado al usar sentencias anidadas ya que deben ser cerradas correctamente. De no ser as\u00ed, se pueden cometer errores.</p> <p>Otra forma de crear sentencias condicionales es mediante el uso de la sentencia <code>SELECT</code>. Consulte la ayuda para m\u00e1s informaci\u00f3n.</p> <pre><code>DATA clase;\n   SET SASHELP.CLASS;\n   LENGTH escuela $12.;\n   SELECT;\n      WHEN (age LE 12) escuela = \"Primaria\";\n      WHEN (age GE 16) escuela = \"Preparatoria\";\n      OTHERWISE escuela = \"Secundaria\";\n   END;\nRUN;\n</code></pre> <p>No confundirse</p> <p>Esta sentencia no debe confundirse con la sentencia SELECT de SQL. Para hacer algo similar en SQL, revise este ejemplo.</p>"},{"location":"sas/manejo_variables/#ciclos","title":"Ciclos","text":"<p>Al igual que otros lenguajes de programaci\u00f3n SAS dispone de sentencias de ciclo repetitivos. Estas sentencias son \u00fatiles para simulaci\u00f3n de datos o para ingreso de datos repetitivos.</p>"},{"location":"sas/manejo_variables/#do-iterativo","title":"DO iterativo","text":"<p>Es el equivalente al FOR de algunos programas</p> <p>La sintaxis es la siguiente:</p> <p>DO variable-\u00edndice=lista;</p> <p>sentencias sas;</p> <p>END;</p> <p>donde lista puede ser un rango de valores consecutivos (indicando inicio, fin e incremento) o una lista de valores. Consulte la documentaci\u00f3n para una mayor referencia.</p> <p>El siguiente ejemplo muestra su uso</p> <pre><code>DATA ejemplo;\n    INPUT color :$8.;\n    DO i = 1,3,5;\n        j = _N_;\n        OUTPUT;\n    END;\n    DATALINES;\n    azul\n    verde\n    rojo\n    amarillo\n    ;\nRUN;\n</code></pre> <p>El dataset anterior lee los datos se\u00f1alados por la sentencia <code>INPUT</code>. En la primer iteraci\u00f3n (es decir,cuando lee \u201cazul\u201d) entra al ciclo DO y se escribe en el VDP el primer valor de la secuencia (i). La instrucci\u00f3n <code>OUTPUT</code> indica que se debe escribir ese valor al DATASET. Esto se repite para los valores restantes (3 y 5). Note que a\u00fan estamos en la primer iteraci\u00f3n (es decir <code>_N_ = 1</code>).</p> <p>Cuando se terminan los valores del ciclo DO, se lee la segunda observaci\u00f3n del DATALINES y se repite lo mismo.</p> <p>Esta estructura tambi\u00e9n es \u00fatil para leer datos consecutivos y hacer secuencias, por ejemplo</p> <pre><code>DATA colores;\n    DO i = 1 to 4;\n        INPUT color :$8. @@;\n        j = _N_;\n        OUTPUT;\n    END;\n    DATALINES;\n    azul verde rojo amarillo\n    verde rojo amarillo azul\n    rojo amarillo azul verde\n    amarillo azul verde rojo\n    ;\nRUN;\n</code></pre> <p></p> <p>Note que derante la primer iteraci\u00f3n (<code>_N_ = 1</code>) se inicia el ciclo <code>DO</code> con valores del 1 al 4. Una vez dentro del ciclo, SAS empezar\u00e1 a leer los 4 primeros valores del <code>DATALINES</code> y los escribir\u00e1 al dataset. Esto se repetir\u00e1 hasta que ya no haya observaciones por leer.</p>"},{"location":"sas/manejo_variables/#do-continue","title":"DO CONTINUE","text":"<p>SAS tiene una sentencia especial que permite, dentro de un ciclo, saltar al siguiente valor de la variable \u00edndice. Esto puede ser \u00fatil para prevenir que otras sentencias se ejecuten.</p> <p>El siguiente ejemplo muestra su uso.</p> <pre><code>DATA colores;\n    DO i = 1 to 4;\n        INPUT color :$8. @@;\n        j = _N_;\n        IF color IN (\"blanco\" \"negro\") THEN CONTINUE;\n        OUTPUT;\n    END;\n    DATALINES;\n    negro azul rojo amarillo\n    azul verde rojo amarillo\n    verde rojo amarillo azul\n    rojo amarillo azul verde\n    blanco azul rojo amarillo\n    amarillo azul verde rojo\n    ;\nRUN;\n</code></pre> <p>El c\u00f3digo anterior evita que en el dataset se ingresen los colores blanco o negro, ya que al cumplirse la condici\u00f3n no se ejecuta la sentencia <code>OUTPUT;</code>.</p> <p></p> <p>Consulte la ayuda de SAS para m\u00e1s informaci\u00f3n acerca de la sentencia <code>CONTINUE</code>.</p>"},{"location":"sas/manejo_variables/#do-leave","title":"DO LEAVE","text":"<p>A diferencia de la sentencia <code>CONTINUE</code>, la sentencia <code>LEAVE</code> permite salir del ciclo <code>DO</code>.</p> <p>El siguiente ejemplo muestra el uso de la sentencia <code>LEAVE</code>.</p> <pre><code>DATA colores;\n    DO i = 1 to 4;\n        INPUT color :$8. @@;\n        j = _N_;\n        IF color IN (\"blanco\" \"negro\") THEN LEAVE;\n        OUTPUT;\n    END;\n    DATALINES;\n    azul verde rojo amarillo\n    verde rojo amarillo azul\n    negro color1 color2 color3\n    azul rojo amarillo verde\n    rojo amarillo azul verde\n    blanco color1 color2 color3\n    azul rojo amarillo verde\n    amarillo azul verde rojo\n    ;\nRUN;\n</code></pre> <p>En este caso, cuando se cumple la condici\u00f3n, sale del ciclo DO y esto implica que se lea la siguiente l\u00ednea por lo que no se toma en cuenta los valores que hay en las l\u00edneas 11 y 14.</p> <p></p> <p>Consulte la sentencia LEAVE para m\u00e1s informaci\u00f3n.</p>"},{"location":"sas/manejo_variables/#do-while","title":"DO WHILE","text":"<p>La sentencia <code>DO WHILE</code> es un bloque de instrucciones que se ejecuta siempre que se est\u00e9 cumpliendo la condici\u00f3n, dicha condici\u00f3n debe cumplirse forzosamente antes de entrar al ciclo, de otra forma no se ejecutar\u00e1.</p> <p>El siguiente ejemplo muestra el uso de la estructura DO WHILE</p> <pre><code>DATA colores;\n    contador = 1;\n    alto = 100;\n    DO WHILE (contador &lt; alto);\n        INPUT color :$8. @@;\n        j = _N_;\n        IF color IN (\"blanco\" \"negro\") THEN alto = contador;\n        OUTPUT;\n        contador + 1;\n    END;\n    DATALINES;\n    azul negro rojo amarillo\n    verde rojo amarillo azul\n    negro azul rojo amarillo\n    azul verde rojo amarillo\n    verde rojo amarillo azul\n    rojo amarillo azul verde\n    blanco azul rojo amarillo\n    amarillo azul verde rojo\n    ;\nRUN;\n</code></pre> <p>En el c\u00f3digo anterior, se define un contador con el valor de 1 y una variable de paro con el valor de 100. Al entrar al ciclo, se leen las l\u00edneas con la sentencia <code>INPUT</code>. Cuando el color es blanco o negro, se modifica el criterio de alto con el fin de salir del ciclo y con ello se pasa a la segunda iteraci\u00f3n, reinici\u00e1ndose tanto el contador (1) como el criterio de alto (100).</p> <p></p> <p>Condici\u00f3n de alto</p> <p>Siempre es importante definir una expresi\u00f3n o condici\u00f3n de alto, de otra forma, se entrar\u00eda en un ciclo infinito.</p> <p>Para conocer m\u00e1s vea la ayuda de SAS sobre esta sentencia.</p>"},{"location":"sas/manejo_variables/#do-until","title":"DO UNTIL","text":"<p>A diferencia de las instrucciones anteriores, la sentencia <code>DO UNTIL</code> asegura que al menos se ejecuta una vez.</p> <p>La expresi\u00f3n se eval\u00faa al final de las sentencias del bloque. Si la expresi\u00f3n es verdadera, el ciclo ya no itera.</p> <p>Usando el mismo c\u00f3digo que en la secci\u00f3n anterior, se muestran los resultados:</p> <pre><code>DATA colores;\n    contador = 0;\n    alto = 100;\n    DO UNTIL (contador &gt;= alto);\n        contador + 1;\n        INPUT color :$8. @@;\n        j = _N_;\n        IF color IN (\"blanco\" \"negro\") THEN DO;\n            contador = 0;\n            alto = contador;\n        END;\n        OUTPUT;\n    END;\n    DATALINES;\n    azul negro rojo amarillo\n    blanco rojo amarillo azul\n    negro azul rojo amarillo\n    azul verde rojo blanco\n    verde rojo amarillo azul\n    rojo amarillo azul verde\n    blanco azul rojo amarillo\n    amarillo azul verde rojo\n    ;\nRUN;\n</code></pre> <p></p> <p>Note que en la primer iteraci\u00f3n se entra al ciclo y se escriben los valores al dataset. En el segundo valor le\u00eddo (negro) se cumple la condici\u00f3n pero ya ha cambiado el valor de las variables contador y alto a cero y se salta a la siguiente iteraci\u00f3n.</p> <p>Con la nueva iteraci\u00f3n se reinician los valores iniciales hasta que se cumpla la condici\u00f3n.</p> <p>Para m\u00e1s informaci\u00f3n vea la secci\u00f3n DO UNTIL.</p>"},{"location":"sas/manejo_variables/#arreglos","title":"Arreglos","text":"<p>Sup\u00f3ngase que se desea tener informaci\u00f3n de ventas acomodada en columnas, donde cada una represente un trimestre.</p> <p>Una forma de introducir esta informaci\u00f3n es mediante el uso de arreglos o arrays, los arreglos nos ayudan a crear variables de forma f\u00e1cil ya que sus elementos ser\u00e1n usados como nombres de variables. El siguiente ejemplo muestra c\u00f3mo definir un arreglo.</p> <pre><code>DATA ventas;\n    ARRAY Tri{4} T1 - T4;\n    INFILE datalines;\n    INPUT periodo T1--T4;\n    DATALINES;\n    2018 1718 1755 1777 2100\n    2019 1760 1769 1799 2195\n    2020 1790 1230 1300 1685\n    2021 1375 1420 1498 1965\n    ;\nRUN;\n</code></pre> <p>En la l\u00ednea 2 se define un arreglo de nombre Tri cuyos elementos son T1, T2, T3 y T4, estos elementos son usados en la l\u00ednea 4 en la sentencia <code>INPUT</code>.</p> <p>No confundir con otros lenguajes</p> <p>A pesar de que tienen un nombre id\u00e9ntico, los arreglos no son iguales a los objetos de otros lenguajes de programaci\u00f3n.</p> <p>Los arreglos tambien son \u00fatiles para crear variables de forma iterativa y pueden ser usadas dentro de un ciclo.</p> <pre><code>DATA DATOS;\n    ARRAY vector{3} x1 - x3 (0 0 0);\n    DO i = 1 TO 5;\n        DO j = 1 TO 3;\n            vector{j} = j*i;\n            OUTPUT;\n        END;\n    END;\nRUN;\n</code></pre> <p>En el ejemplo anterior,en la l\u00ednea 2 se define un vector con 3 elementos y sus valores iniciales son cero. Se ha usado un doble ciclo y el valor calculado en la l\u00ednea 5 se guarda en la variable correspondiente de acuerdo a los \u00edndices <code>i</code> y <code>j</code>.</p> <p>El resultado se muestra a continuaci\u00f3n</p> <p></p> <p>Para conocer m\u00e1s acerca del uso de arreglos visite la ayuda de SAS sobre arreglos.</p>"},{"location":"sas/manejo_variables/#manipulacion-y-transformacion-de-bases","title":"Manipulaci\u00f3n y transformaci\u00f3n de bases","text":"<p>Cuando se tiene la informaci\u00f3n almacenada, en ocasiones es necesario modificarla seg\u00fan las necesidades, por ejemplo para segmentarla, agruparla o realizar ciertas operaciones para an\u00e1lisis posteriores.</p> <p>En esta secci\u00f3n se estudiar\u00e1n las formas de transformar las bases de datos, tales como ordenar una base, transponerla, unir una base a otras y modificar una base.</p>"},{"location":"sas/manejo_variables/#ordenando-una-base","title":"Ordenando una base","text":"<p>SAS posee un procedimiento especializado en ordenar bases por una o m\u00e1s variables. El procedimiento SORT, permite entre otras cosas, ordenar una base por una o m\u00e1s variables ya sea num\u00e9rica o de tipo caracter.</p> <p>La sintaxis b\u00e1sica es la siguiente:</p> <p>PROC SORT &lt;collating-sequence-option&gt; &lt;other options&gt;;</p> <p>BY &lt;DESCENDING&gt; variable-1 &lt;&lt;DESCENDING&gt; variable-2 \u2026&gt;;</p> <p>Consulte secuencia de cotejado para conocer m\u00e1s acerca de c\u00f3mo SAS ordena las variables.</p> <p>Por ejemplo, sup\u00f3ngase que se tiene la tabla calificaciones y se desea ordenar la base por el nombre y grupo del estudiante.</p> Nombre Grupo Puntaje ANG\u00c9LICA A 10 BRENDA A 9 MARCO B 8 LILIANA B 8 FABI\u00c1N C 9 MAURICIO C 7 \u00c1LVARO A 8 \u00d3SCAR B 9 BEL\u00c9N C 10 <pre><code>PROC SORT data=calificaciones;\n    BY nombre grupo;\nRUN;\n</code></pre> <p>El resultado del c\u00f3digo anterior se presenta a continucaci\u00f3n.</p> <p></p> <p>Sin embargo se puede observar que los nombres no est\u00e1n ordenados correctamente, debido a que los nombres acentuados est\u00e1n al final.</p> <p>Para solucionar eso, se puede usar otra opci\u00f3n de secuencia de cotejado para que se ordene de manera correcta, en este caso se usar\u00e1 la opci\u00f3n <code>SORTSEQ = LINGUISTIC</code> para que SAS ordene los nombres correctamente.</p> <pre><code>PROC SORT SORTSEQ = LINGUISTIC data=calificaciones;\n    BY nombre grupo;\nRUN;\n</code></pre> <p>Ordenamiento en espa\u00f1ol</p> <p>Al usar la opci\u00f3n de secuencia de cotejado <code>SORTSEQ = SPANISH</code>, las letras con acento se ordenar\u00edan primero y no seguir\u00edan un \u00f3rden l\u00f3gico.</p> <p>El resultado se presenta a continuaci\u00f3n.</p> <p></p>"},{"location":"sas/manejo_variables/#eliminacion-de-datos-duplicados","title":"Eliminaci\u00f3n de datos duplicados","text":"<p>Cuando se tiene informaci\u00f3n en donde cada individuo posee un identificador o clave \u00fanica, es importante quitar duplicados con el fin de evitar informaci\u00f3n redundate.</p> <p>El procedimiento SORT, no solo ordena, sino que tambi\u00e9n permite eliminar datos duplicados.</p> <p>Considere esta tabla con informaci\u00f3n de clientes de una compa\u00f1ia</p> Number GivenName Surname Birthday Age Occupation 1 Ezio Vanegas 04/06/1942 79 Labor economist 2 Katharina Res\u00e9ndez 12/08/1967 53 Support clerk 3 Tamara Monroy 02/01/1948 73 Analytical chemist 4 Dunstano Armend\u00e1riz 05/07/1985 36 Specification inspector 5 Baldo Ayala 04/10/1952 69 Sportscaster 6 Adri\u00e1n Rosales 8/28/1992 29 Gas appliance repairer 7 Helvia Viera 12/16/1994 26 Hostler 8 Astor Cortez 12/04/1965 55 Adult secondary education teacher 9 Giusto Carvajal 5/27/1986 35 Fish and game warden 10 Baal Alcal\u00e1 1/15/1961 60 Conciliator 1 Ezio Vanegas 04/06/1942 79 Labor economist 4 Dunstano Armend\u00e1riz 05/07/1985 36 Specification inspector 5 Baldo Ayala 04/10/1952 69 Sportscaster 10 Baal Alcal\u00e1 1/15/1961 60 Conciliator 10 Baal Alcal\u00e1 1/15/1961 60 Conciliator <p>El siguiente ejemplo muestra como desduplicar los clientes de la tabla anterior y la informaci\u00f3n de los clientes duplicados se guardar\u00e1 en un tabla para un an\u00e1lisis posterior.</p> <pre><code>PROC SORT data=clientes dupout=repetidos NODUPKEY;\nBY number;\nRUN;\n</code></pre> <p>La tabla ordenada y sin duplicados se muestra a continuaci\u00f3n.</p> <p></p> <p>Por otro lado, la tabla con los clientes duplicados se ha guardo y podr\u00eda servir para un otro an\u00e1lisis del por qu\u00e9 hay informaci\u00f3n duplicada.</p> <p></p>"},{"location":"sas/reportes/","title":"Creacion de reportes","text":""},{"location":"sas/reportes/#creacion-de-reportes","title":"Creaci\u00f3n de reportes","text":"<p>SAS es una herramienta muy \u00fatil para crear reportes de datos, algunos de ellos se pueden personalizar o adaptarlos a distintas necesidades.</p> <p>SAS puede realizar reportes muy simples, hasta tabulados muy complejos y personalizados, incluso puede exportarlos a otros formatos como Excel.</p> <p>En esta secci\u00f3n se mostrar\u00e1n c\u00f3mo realizar reportes simples usando algunos procedimientos y despu\u00e9s se explorar\u00e1 c\u00f3mo realizar reportes m\u00e1s generales.</p> <p>Para realizar agregados en formato SQL, puede visitar este sitio en donde se muestran algunos ejemplos de agregados.</p>"},{"location":"sas/reportes/#formatos","title":"Formatos","text":"<p>Anteriormente ya hab\u00edamos hablado de los formatos que est\u00e1n precargados en SAS. En esta ocasi\u00f3n se hablar\u00e1 de c\u00f3mo hacer formatos personalizados para incluirlos en los reportes.</p> <p>El procedimiento FORMAT permite crear formatos personalizados y usarlos en cualquier dataset o procedimiento. Los formatos son \u00fatiles, por ejemplo, cuando se tienen encuestas que est\u00e1n codificadas con valores num\u00e9ricos, pero tienen una etiqueta.</p> <p>El siguiente ejemplo muestra c\u00f3mo crear un formato num\u00e9rico que represente el sexo de una persona y un formato de tipo caracter para la variable grupo y su aplicaci\u00f3n a un dataset existente. Note que el formato para variables de tipo caracter requiere del s\u00edmbolo <code>$</code>.</p> <pre><code>PROC FORMAT;\n    VALUE sexo\n    1 = \"Femenino\"\n    2 = \"Masculino\"\n    ;\n    VALUE $ grupo\n    \"A\" = \"Sobresaliente\"\n    \"B\" = \"Excelente\"\n    \"C\" = \"Regular\";\nRUN;\n\nDATA alumnos;\nATTRIB\nnombre length = $8 \ngrupo length = $1 format = $grupo.\nsexo format = sexo.\npuntaje label = \"Calificaci\u00f3n final\";\nINPUT nombre -- puntaje;\nDATALINES;\nANGELICA A 1 10\nBRENDA   B 1 9\nLILIANA  C 1 8\nMARCO    B 2 8\nFABIAN   A 2 9\nMAURICIO C 2 7\n;\nRUN;\n</code></pre> <p>La siguiente imagen muestra c\u00f3mo se ve el dataset resultante.</p> <p></p> <p>Los formatos se almacenan en la librer\u00eda temporal WORK y estar\u00e1n disponibles durante toda la sesi\u00f3n.</p> <p>Para guardar los formatos en una librer\u00eda permanente, se puede utilizar la opci\u00f3n <code>LIBRARY =</code> en la sentencia <code>PROC FORMAT</code>. Los formatos estar\u00e1n almacenados en un cat\u00e1logo llamado FORMATS. Para acceder a ellos, se debe especificar la opci\u00f3n <code>options fmtsearch=()</code> con el nombre de la librer\u00eda dentro del par\u00e9ntesis.</p> <p>Formato no encontrado</p> <p>Tenga cuidado en asignar un formato a un dataset y no almacenarlo. SAS podr\u00eda no reconocerlo y no podr\u00eda leer la tabla.</p> <p>Se puede saber m\u00e1s detalles del procedimiento FORMAT aqu\u00ed.</p>"},{"location":"sas/reportes/#estadisticas-descriptivas-con-proc-means","title":"Estad\u00edsticas descriptivas con PROC MEANS","text":"<p>Para realizar un an\u00e1lisis descriptivo de las variables de un dataset, se puede usar el procedimiento MEANS, el cual calcula algunos estad\u00edsticos comunmente usados y que nos permitir\u00e1 darnos una idea de c\u00f3mo son los datos. </p> <p>An\u00e1lisis m\u00e1s detallados</p> <p>Para realizar an\u00e1lisis m\u00e1s completos de una variable, se puede usar el procedimiento UNIVARIATE, el cual permitir\u00e1 realizar histogramas, estad\u00edsticas de orden y algunas pruebas estad\u00edsticas.</p> <p>La sintaxis m\u00e1s simple es la siguiente:</p> <p>PROC MEANS DATA = dataset;</p> <p>VAR variables;</p> <p>RUN;</p> <p>Considere la siguiente tabla:</p> nombre Grupo puntaje ANG\u00c9LICA A 10 BRENDA A 9 MARCO B 8 LILIANA B 8 FABI\u00c1N C 9 MAURICIO C 7 \u00c1LVARO A 8 \u00d3SCAR B 9 BEL\u00c9N C 10 <p>El siguiente ejemplo muestra c\u00f3mo realizar un an\u00e1lisis simple de la variable puntaje.</p> <pre><code>proc means data= calificaciones;\nvar puntaje;\nrun;\n</code></pre> <p>El resultado obtenido es el siguiente:</p> <p></p>"},{"location":"sas/reportes/#especificando-estadisticas-a-calcular","title":"Especificando estad\u00edsticas a calcular","text":"<p>Como se vio en el ejemplo anterior, si no se especifican las estad\u00edsticas a calcular, SAS autom\u00e1ticamente calcula el n\u00famero de observaciones (<code>N</code>), la media (<code>MEAN</code>), desviaci\u00f3n est\u00e1ndar (<code>STD</code>), el m\u00ednimo (<code>MIN</code>) y el m\u00e1ximo (<code>MAX</code>).</p> <p>Usando los mismos datos, en el siguiente ejemplo se pedir\u00e1 que calcule la suma (<code>SUM</code>), el n\u00famero de observaciones faltantes (<code>NMISS</code>), la media (<code>MEAN</code>), la mediana (<code>MEDIAN</code>) y los cuartiles (<code>Q1</code> y <code>Q3</code>).</p> <pre><code>proc means data= calificaciones SUM NMISS MEAN MEDIAN Q1 Q3;\nvar puntaje;\nrun;\n</code></pre> <p>El resultado obtenido es el siguiente:</p> <p></p>"},{"location":"sas/reportes/#analisis-por-subgrupos","title":"An\u00e1lisis por subgrupos","text":"<p>Cuando se tiene una variable categ\u00f3rica, se puede usar para definir subgrupos y realizar los c\u00e1lculos por cada grupo. Se puede usar la sentencia <code>CLASS</code> para definir una variable que agrupe las observaciones a calcular. El siguiente ejemplo nos muestra c\u00f3mo calcular la media de calificaciones por grupo.</p> <pre><code>proc means data= calificaciones MEAN;\nCLASS grupo;\nvar puntaje;\nrun;\n</code></pre> <p>El resultado se muestra a continuaci\u00f3n:</p> <p></p> <p>Para conocer m\u00e1s a cerca del procedimiento MEANS visite la documentaci\u00f3n.</p>"},{"location":"sas/reportes/#reportes-basicos","title":"Reportes b\u00e1sicos","text":"<p>El reporte m\u00e1s simple que se puede crear, es mostrar el conjunto de datos usando el procedimiento <code>PROC PRINT</code>.</p> <p>Sin embargo, para datasets muy grandes, esto no ser\u00eda una buena opci\u00f3n debido a que SAS gastar\u00eda muchos recursos en imprimir toda la tabla. Se pueden usar ciertas configuraciones para que SAS solo procece cierta cantidad de observaciones de un dataset.</p> <p>La primera de ellas es mediante las opciones generales, la cual afectar\u00eda a todos los procedimientos durante la sesi\u00f3n o mediante las opciones de dataset la cual solo aplica durante ese procedimiento. Para una referencia completa sobre las opciones generales, visite el diccionario de opciones del sistema y para las opciones de dataset vea el diccionario de opciones de datasets.</p> <p>El siguiente ejemplo muestra las primeras diez observaciones del conjunto de datos de baseball, pero solo pedimos que muestre ciertas variables.</p> <pre><code>PROC PRINT DATA = SASHELP.BASEBALL(OBS=10);\n    VAR NAME TEAM NHOME SALARY;\nRUN;\n</code></pre> <p>Produce el siguiente resultado</p> <p></p>"},{"location":"sas/reportes/#un-reporte-con-seleccionando-casos-con-total","title":"Un reporte con seleccionando casos con total","text":"<p>PROC PRINT tambien tiene diversas sentencias para hacer reportes m\u00e1s completos o espec\u00edficos.</p> <pre><code>TITLE \"Reporte del equipo San Francisco\";\nPROC PRINT DATA = SASHELP.BASEBALL NOOBS;\n    VAR NAME NHOME SALARY;\n    WHERE TEAM EQ \"San Francisco\";\n    FORMAT SALARY DOLLAR12.;\n    LABEL \n        NAME = \"Nombre del jugador\"\n        NHOME = \"N\u00famero de Home Runs en 1986\"\n        SALARY = \"Salario en 1987 (Miles de d\u00f3lares)\"\n    ;\n    SUM NHOME SALARY;\nRUN;\nTITLE;\n</code></pre> <p>El anterior ejemplo muestra un reporte que incluye el nombre de todos los jugadores del equipo San Francisco, n\u00famero de home run ysu salario; al final del reporte se presenta el gran total de estas variables. En este ejemplo se modificaron las etiquetas y los formatos, pero s\u00f3lo para el reporte mediante las sentencias <code>LABEL</code> y <code>FORMAT</code> y se seleccionaron las observaciones que cumplieran cierto criterio.</p> <p>La opci\u00f3n <code>NOOBS</code> en la sentencia <code>DATA</code> pide no imprimir el n\u00famero de observaci\u00f3n del dataset y con la opci\u00f3n <code>LABEL</code> se mostrar\u00e1n las etiquetas de las variables.</p> <p>La sentencia <code>VAR</code> especifica las variables a mostrar.</p> <p>La sentencia <code>WHERE</code> selecciona las observaciones que cumplan la condici\u00f3n de que el equipo sea igual a San Francisco.</p> <p>La sentencia <code>FORMAT</code> le asigna a la variable SALARY el formato <code>DOLLAR12.</code>.</p> <p><code>LABEL</code> especifica las etiquetas de las variables en el reporte. En caso de que las variables del dataset ya tengan etiquetas, estas etiquetas definidas prevalecen en el reporte.</p> <p>La sentencia <code>SUM</code> es la que especifica las variables que mostrar\u00e1n el gran total. Finalmente se agrega la opci\u00f3n <code>TITLE</code> para que se le ponga un t\u00edtulo al reporte y se vuelve a llamar al final para que vuelva a su valor inicial.</p> <p></p>"},{"location":"sas/reportes/#reporte-con-subtotales","title":"Reporte con subtotales","text":"<p>Es posible mostrar los reportes con subtotales por grupos de variables.</p> <p>Datos agrupados</p> <p>Los datos se deber\u00edan ordenar por la variables que se desee hacer el agrupamiento para evitar posibles errores en los c\u00e1lculos. SAS considera valores iguales de la variable de agrupamiento como un bloque. Si SAS encontrara una observaci\u00f3n con un valor que ya proces\u00f3, se generar\u00e1 un error.</p> <p>Se puede usar el procedimiento SORT para ordenar una dataset por las variables que se deseen y posteriormente realizar el reporte.</p> <pre><code>PROC SORT DATA = SASHELP.BASEBALL OUT = BASEBALL;\n    BY DIVISION TEAM;\nRUN;\n\nPROC PRINT DATA = BASEBALL NOOBS LABEL;\n    VAR NAME POSITION NHOME SALARY;\n    FORMAT SALARY DOLLAR12.;\n    LABEL DIVISION = \"Divisi\u00f3n\"\n    NAME = \"Nombre del jugador\"\n    TEAM = \"Equipo\"\n    POSITION = \"Posici\u00f3n\"\n    NHOME = \"N\u00famero de Home Runs en 1986\"\n    SALARY = \"Salario en 1987 (Miles de d\u00f3lares)\"\n    ;\n    SUM NHOME SALARY;\n    BY DIVISION TEAM;\nRUN;\n</code></pre> <p>El procedimiento SORT especifica que se ordene por las variables division y luego por team y se pide que se guarde una copia temporal, con el fin de no modificar el dataset original.</p> <p>En el procedimiento PRINT se usa la sentencia <code>BY</code> para que crear el reporte por combinaciones de valores de division y team.</p> <p></p> <p>La imagen anterior muestra el ultimo grupo de variables (Divisi\u00f3n = West y Equipo = Texas). N\u00f3tese que este grupo contiene los subtotales tanto de las variables team y division as\u00ed como el gran total. Cada grupo contiene como t\u00edtulo el valor de las variables division y team.</p> <p>Personalizar etiquetas</p> <p>Se pueden agregar en la sentencia <code>PROC PRINT</code> las opciones <code>SUMLABEL =</code> y <code>GRANDTOTAL_LABEL =</code> para personalizar las etiquetas de subtotales y el gran total.</p> <p>Si se desea mostrar un reporte con otro estilo resaltando las variables de agrupamiento, se puede agregar la sentencia.</p> <p><code>ID DIVISION TEAM;</code></p> <p>El resultado es el siguente.</p> <p></p>"}]}